/* Life Minute v1.0.1  | (Â©) 2024 by Eugene Gekhter */

function devConsole(){if("undefined"!=typeof photosApp&&photosApp.dev&&photosApp.dev.enabled&&photosApp.dev.showConsole){let e=[];for(let t=0;t<arguments.length;t++){let n=arguments[t];e.push(n),n&&n.type&&n.type}1===e.length?console.log(e[0]):console.log(e);let t=Error().stack.split("\n");t.length>=3&&console.log(t[2])}}function joinPaths(){let e=[];for(let t=0;t<arguments.length;t++){let n=arguments[t]+"";n&&("number"==typeof n&&(n=n.toString()),e.push(n))}let t="/";return"undefined"!=typeof require&&require("os")&&"win32"===require("os").platform()&&(t="\\"),e.map(((e,n)=>{let o;return o=0===n?new RegExp(`[\\${t}]*$`,"g"):new RegExp(`(^[\\${t}]*|[\\/]*$)`,"g"),e.trim().replace(o,"")})).filter((e=>e.length)).join(t)}function createEl(e,t,n){let o=document.createElement(e);if(t&&o.setAttribute("id",t),n)if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]&&o.classList.add(n[e]);else n&&o.classList.add(n);return o}function isObjectEmpty(e){for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}function getRndInteger(e,t){return Math.floor(Math.random()*(t-e))+e}function humanMonthFromNumber(e,t){if(!(e=Number.parseInt(e)))return"";let n;if(1===e)n="January";else if(2===e)n="February";else if(3===e)n="March";else if(4===e)n="April";else if(5===e)n="May";else if(6===e)n="June";else if(7===e)n="July";else if(8===e)n="August";else if(9===e)n="September";else if(10===e)n="October";else if(11===e)n="November";else{if(12!==e)return"";n="December"}return t?n.substring(0,3):n}function addClassEl(e,t){"object"!=typeof t&&(t=document.getElementById(t)),t&&(t.classList.contains(e)||t.classList.add(e))}function toggleClassEl(e,t){"object"!=typeof t&&(t=document.getElementById(t)),t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))}function removeClassEl(e,t){"object"!=typeof t&&(t=document.getElementById(t)),t&&t.classList.contains(e)&&t.classList.remove(e)}function toggleElClass(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function getElIndexOfEls(e,t){let n=-1;return _.forEach(t,(function(t){if(n+=1,e===t)return!1})),n}function fireClick(e){if("string"==typeof e&&(e=document.getElementById(e)),e)if(document.createEvent){let t=document.createEvent("MouseEvents");t.initEvent(click_handler,!0,!1),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent(`on${click_handler}`):"function"==typeof e[`on${click_handler}`]&&e[`on${click_handler}`]()}function removeElsClass(e,t){e&&e.length&&_.forEach(e,(function(e){e&&e.classList.remove(t)}))}function removeClassFromAllEls(e,t){if(t.length)_.forEach(t,(function(t){let n=t.querySelectorAll("."+e);[].forEach.call(n,(function(t){t.classList.remove(e)}))}));else{let n=t.querySelectorAll("."+e);[].forEach.call(n,(function(t){t.classList.remove(e)}))}}function removeClassEls(e,t){let n=[].slice.call(t);for(let t=0;t<n.length;t++)n[t].classList.remove(e)}function elHasClass(e,t){return"string"==typeof e&&(e=document.getElementById(e)),e.classList.contains(t)}function timeNow(e){return e?Date.now():Number.parseInt(Date.now()/1e3)}function mdp(e){photosApp.dev.performance&&console.time(e)}function mdpe(e){photosApp.dev.performance&&console.timeEnd(e)}function isFloat(e){return Number(e)===e&&e%1!=0}function getExtFromFileName(e){return/(?:\.([^.]+))?$/.exec(e)[1]}function formatNumberLength(e,t){let n=""+e;for(;n.length<t;)n="0"+n;return n}function isElHover(e){return e.parentElement.querySelector(":hover")===e}function addDeselectedClass(e){addClassEl("deselected",e);let t=setInterval((function(){isElHover(e)||(removeClassEl("deselected",e),clearInterval(t))}),200)}function isValidName(e){return e.length>0}function getSizeMB(e,t){return(e/1048576).toFixed(1)}function getMasterDate(e){return e.master_item_date&&"0000-00-00 00:00:00"===e.master_item_date&&(e.master_item_date=null),e.master_item_date?e.master_item_date:e.date}function rafAwait(e){return new Promise(((t,n)=>{requestAnimationFrame((async function(){if(e)try{await e()}catch(e){}t()}))}))}function timeoutAwait(e,t){return new Promise(((n,o)=>{setTimeout((function(){e&&e(),n()}),t)}))}function getExt(e,t){let n=/(?:\.([^.]+))?$/.exec(e)[1];return n&&t&&(n=n.toLowerCase()),n}function sortDesc(e){e.sort((function(e,t){return t-e}))}function sortAsc(e){e.sort((function(e,t){return e-t}))}function numberWithCommas(e,t){return t&&(e=Number.parseInt(e)),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function getEventXFirst(e){return e.touches&&e.touches.length?e.touches[0].pageX:e.pageX}function getEventYFirst(e){return e.touches&&e.touches.length?e.touches[0].pageY:e.pageY}function setElementTransform(e,t,n,o,r){e.style.transform=`translate3d(${t}px, ${n}px, ${o}px)`}function setElementTransition(e,t,n,o,r){t?(e.style.transitionDuration=`${o}ms`,e.style.transitionProperty=`${n}`,r&&(e.style.transitionTimingFunction=`${r}`)):(e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function"))}function urlFromBackgroundImage(e){let t=e.style.backgroundImage,n="",o=!1;for(let e in t){let r=t[e];if("("===r&&(o=!0),")"===r){o=!1;break}o&&(n+=r)}return n=n.replace(/[\(\'\"\)]/g,""),n}function removeMediaSrc(e){e&&(e.src="",e.style.backgroundImage="initial")}function setElOpacity(e,t){"initial"===t||(t>1?t=1:t<0&&(t=0)),e.style.opacity=t}function changeElClass(e,t,n){n?addClassEl(t,e):removeClassEl(t,e)}function removeArrItem(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function getDateTimeStr(){let e=new Date;return e.toISOString().slice(0,10)+" "+e.toISOString().substring(11,19)}function getWindowsPath(e,t,n){if(!e)return null;if(!is_windows||e.startsWith("./"))return e;if(t){let t="file://";(e=e.replace(/\\/g,"/")).startsWith(t)||e.startsWith("http")||(e=e.startsWith("/")?t+e:t+"/"+e)}else n&&(e=e.replace(/\//g,"\\"));return e}function checkIfPathExists(e){return new Promise(((t,n)=>t(require("fs").existsSync(e))))}function writeFile(e,t,n){return new Promise(((n,o)=>{require("fs").writeFile(e,t,(function(e){e&&console.error(e),n()}))}))}window.photosApp={init:null,initIP:null,initLastStep:null,dev:{},version:null,backend:null,items:null,local:null,app:null,db:null,cache:null,capture:null,onboarding:null,rotate:null,grid:null,slideshow:null,fullscreen:null,image:null,navigation:null,style:null,time:null,placeholderImg:null,is_onboarded:!1,notifications:{},reset:function(e){photosApp.grid.life=[],console.log("Reset grid init"),e&&(photosApp.time.intervalLoop=[])},setInit:function(e){e?addClassEl("init","app"):removeClassEl("init","app"),photosApp.initIP=e}},photosApp.app={ipcRenderer:null,is_fullscreen:null,items:[],init_called:!1,init_finished:!1,update_in_progress:!1,scrollingDown:!0,confirmOpen:!1,notificationCount:0,timeouts:{level2:[],level3:[]},levels:{2:{open:null},3:{open:null}},dateMenu:{open:!1,gridIndex:null},processes:{timeView:[]},views:{level2:{active:null}},els:{app:null,header:null,footer:null,navigation:null,level2:null,level3:null,time:null,confirmAction:null,confirmMessage:null,fullscreen:null,slideshow:null,notifications:null,sideButtons:null,featureTimeInput:null,featureTimeRange:null,featureParallelInput:null,featureParallelRange:null,featureChronologySwap:null,featureManageFolders:null},init:function(){return photosApp.initLastStep="app",new Promise((async(e,t)=>{if(photosApp.app.init_called){if(!photosApp.app.hasItems())return e();devConsole("app init already called, update again");try{await photosApp.app.updateHtml(!0,!0),e()}catch(e){}}else{devConsole("app init"),photosApp.app.init_called=!0,await photosApp.app.setAppVersion(),photosApp.style.setStyles(),photosApp.navigation.handler(),photosApp.app.desktopListener();try{await photosApp.local.getPhotos()}catch(e){}try{await axios.put(`${photosApp.backend.host}app/init`)}catch(e){console.error(e)}try{await photosApp.app.updateHtml(!0,!0)}catch(e){console.error(e)}requestAnimationFrame((function(){elHasClass("app","onboarding")&&(!photosApp.app.isOnboarded()&&photosApp.app.init_finished||removeClassEl("onboarding","app")),photosApp.app.init_finished=!0,e()}))}}))},setAppVersion:function(){return new Promise((async(e,t)=>{try{let e=await axios.get(`${photosApp.backend.host}version`);photosApp.version=e.data.version}catch(e){console.error(e)}return e()}))},doRotate:function(){return photosApp.settings.data.rotate&&!photosApp.app.is_fullscreen&&!photosApp.app.levels[2].open},updateHtml:function(e,t,n){return new Promise((async(o,r)=>{if(!photosApp.app.init_called)return photosApp.app.init(),r();if(photosApp.app.update_in_progress&&!t)return o(!1);photosApp.app.update_in_progress=!0;try{return await photosApp.view.setupTimeViews(t,n),e&&setTimeout(photosApp.rotate.updateTime,200),photosApp.app.update_in_progress=!1,o()}catch(e){r()}}))},removeLoadingScreen:function(){removeClassEl("loading",document.body)},hideDateMenu:function(e){try{let e=photosApp.app.els.time.getElementsByClassName("context__menu");for(let t=0;t<e.length;t++){removeClassEl("show",e[t])}}catch(e){}e&&e.stopPropagation(),photosApp.app.dateMenu.open=!1,photosApp.app.dateMenu.gridIndex=null},showDateLevel3:async function(e,t){photosApp.app.clearLevel3(),photosApp.app.clearTimeouts(photosApp.app.timeouts.level2),photosApp.app.clearTimeouts(photosApp.app.timeouts.level3),e.stopPropagation(),photosApp.app.els.footer.querySelector(".nav-item.active")||photosApp.app.selectNavigation("life-nav");let n=photosApp.app.dateMenu.gridIndex,o=document.getElementById("level-3-header"),r=document.getElementById("level-3-footer");o.querySelector("#level-3-title").innerHTML="";let s=r.querySelector("#level-3-confirm");if(document.getElementById("level-3-content").scrollTo(0,0),photosApp.navigation.level3.current=t,addClassEl("active",t),photosApp.navigation.setScrollingDown(!1),"organize-all"===t&&(s.innerHTML="Update"),photosApp.style.setLevel3Height(),"organize-all"===t){photosApp.organize.items={},photosApp.organize.setSelectedGridIndex(n);try{await photosApp.view.updateOrganizeGridItemsView(n),photosApp.app.showLevel2("grid"),photosApp.app.showLevel3(!0,!0,!0),addClassEl(photosApp.organize.last_menu,photosApp.app.els.level3)}catch(e){console.error(e)}}},showLevel2:function(e){photosApp.app.views.level2.active=e;let t=["folders","grid"];for(let e of t)removeClassEl(photosApp.app.els.level2,e);addClassEl(e,photosApp.app.els.level2),photosApp.app.clearTimeouts(photosApp.app.timeouts.level2),photosApp.app.levels[2].open=!0,addClassEl("visible",photosApp.app.els.level2),addClassEl("active","film-overlay"),addClassEl(photosApp.style.classes.level2shown,"app")},showLevel3:function(e,t,n){let o=["date","delete"];for(let e of o)removeClassEl(e,photosApp.app.els.level3);n?addClassEl("organize-all",photosApp.app.els.level3):removeClassEl("organize-all",photosApp.app.els.level3),photosApp.app.clearTimeouts(photosApp.app.timeouts.level3),photosApp.app.levels[3].open=!0,addClassEl("show",photosApp.app.els.level3),addClassEl(photosApp.style.classes.level3shown,"app"),photosApp.app.els.level3.style.transform="initial",photosApp.app.els.level3.style.top=e?"0":"initial",t?photosApp.app.els.level3.style.transition="initial":photosApp.app.els.level3.style.removeProperty("transition");let r=document.getElementById("level-3-footer").getElementsByClassName("message");for(let e=0;e<r.length;e++){let t=r[e];t.innerHTML="",removeClassEl("error",t)}},hideLevel3:function(e){photosApp.app.levels[3].open=!1,photosApp.style.setLevel3TransformHidden(e);let t=setTimeout((function(){_.forEach(photosApp.app.els.level3.getElementsByClassName("level-3-content"),(function(e){removeClassEl("active",e)})),removeClassEl("show",photosApp.app.els.level3),removeClassEl(photosApp.style.classes.level3shown,"app")}),photosApp.style.navigation.level3.transition);photosApp.app.timeouts.level3.push(t)},hideLevel2:function(){photosApp.app.views.level2.active=null,photosApp.app.levels[2].open=!1,removeClassEl("visible",photosApp.app.els.level2),removeClassEl("active","film-overlay"),removeClassEl(photosApp.style.classes.level2shown,"app");let e=setTimeout((function(){photosApp.app.hideLevel3(!0)}),photosApp.style.navigation.level2.transition);photosApp.app.timeouts.level2.push(e),photosApp.app.preventScroll(!1),photosApp.rotate.updateTime(),removeClassFromAllEls("active",photosApp.app.els.navigation)},preventScroll:function(e){e?addClassEl("no-scroll-body",document.body):removeClassEl("no-scroll-body",document.body)},displayGroupsConditionally:function(e,t,n){let o="active";"string"==typeof e&&(e=document.getElementById(e));e.getAttribute("id");let r=!1;function s(){let t=photosApp.style.screen.height.current;r&&(t=photosApp.style.view.level2.height);let s=t*photosApp.image.preloadHeights;Number.isNaN(s)&&console.error("Threshold is not a number");let i=n-s;i<0&&(i=0);let a,l,p=n+s,c=e.getElementsByClassName("row-group"),u=null;for(let e=0;e<c.length;e++){let t=c[e],o=Number.parseInt(t.getAttribute("top"));n>=o&&(u=t)}for(let e=0;e<c.length;e++){let t=c[e],n=Number.parseInt(t.getAttribute("top"));n>=i&&n<=p?t.classList.contains(o)||t.classList.add(o):t.classList.contains(o)&&t!==u&&t.classList.remove(o)}for(let e=0;e<c.length;e++){if(e>0&&!a&&c[e].classList.contains(o)){let t=c[e-1];t.classList.contains(o)||t.classList.add(o),a=!0}c[e].classList.contains(o)&&(l=e)}l+1<c.length&&c[l+1].classList.add(o)}e.closest("#navigation-level-3")&&(r=!0),n||(n=e.scrollTop),n||(n=0),e.getAttribute("listener")||(e.setAttribute("listener",!0),e.addEventListener("scroll",_.throttle((function(e){n=this.scrollTop,s()}),200))),s()},addTapEventListeners:function(e){if("tap"!==click_handler)return;"string"==typeof e&&(e=document.getElementById(e));let t=e.querySelectorAll("[ontap]");if(t.length)for(let e=0;e<t.length;e++){let n=t[e];if(n.getAttribute("listener"))continue;n.setAttribute("listener",!0);let o=n.getAttribute("ontap").split("."),r=window;for(let e=0;e<o.length;e++){let t=o[e],n=t.indexOf("(");n>-1&&(t=t.substr(0,n)),r=r[t]}n.addEventListener("tap",(function(e){r(e)}))}},saveInterval:function(){return new Promise((async(e,t)=>{try{await axios.put(`${photosApp.backend.host}save/interval`,{intervalLoop:photosApp.time.intervalLoop})}catch(e){}e()}))},hideConfirm:function(){removeClassEl("show",photosApp.app.els.confirmAction),removeClassEl("error",photosApp.app.els.confirmMessage),photosApp.app.confirmOpen=!1,photosApp.app.confirmIP=!1,photosApp.app.setSpinner(photosApp.app.els.confirmAction,!1)},setSpinner:function(e,t){e||(e="spinner-default"),"string"==typeof e&&(e=document.getElementById(e));let n=e.querySelector(".spinner");t?addClassEl("show",n):removeClassEl("show",n)},setLevel3IP:function(e){photosApp.navigation.level3.updateIP=e,photosApp.app.setSpinner(photosApp.app.els.level2,e)},selectNavigation:function(e){fireClick(photosApp.app.els.navigation.querySelector(`.${e}`))},openConfirm:function(e,t,n,o){e&&(e.preventDefault(),e.stopPropagation()),photosApp.app.confirmOpen=!0;let r=photosApp.app.els.confirmAction;r.setAttribute("data-action",t),r.setAttribute("data-id",o),r.querySelector(".title").innerHTML=n,addClassEl("show",r)},desktopListener:function(){let e=photosApp.app.ipcRenderer;e.on("window-activate",(function(e,t){onResume()})),e.on("restart-app",(function(e,t){window.location.reload()}))},notificationHandler(){photosApp.app.els.notifications.querySelector(".notification-icon").addEventListener(click_handler,(function(e){e.stopPropagation(),photosApp.app.init_finished&&(photosApp.app.updateNotifications(),addClassEl("show",photosApp.app.els.notifications),photosApp.events.onNotificationsClick())})),photosApp.app.els.notifications.querySelector(".exit").addEventListener(click_handler,(function(e){removeClassEl("show",photosApp.app.els.notifications),e.stopPropagation()}))},deleteNotification:function(e){if(e in photosApp.notifications){let t=photosApp.notifications[e];t&&(t.remove_notification=!0,t.seen=!0,photosApp.app.notificationCount>0&&photosApp.app.notificationCount--)}},updateNotifications:function(){let e=_.orderBy(photosApp.notifications,["timestamp"],["desc"]),t="",n=timeNow();for(let o in e){let r=e[o],s=n-r.timestamp,i="";s<60?i="Now":s>=60&&s<3600?(i=Math.floor(s/60),i+="m ago"):s>=3600&&s<86400?(i=Math.floor(s/3600),i+="h ago"):(i=Math.floor(s/86400),i+="d ago"),t+=`<div class="notification">\n                                            <div class="when">${i}</div>\n                                            <div class="title">${r.data.title}</div>\n                                            <div class="description">${r.data.description}</div>\n                                          </div>`}photosApp.app.els.notifications.querySelector(".notifications").innerHTML=t},clearTimeouts(e){let t=e.splice(0,e.length);for(let e of t)clearTimeout(e)},setNoItems:function(e){if(!photosApp.app.init_finished)return;let t="no-items-time";e?(addClassEl("show",document.getElementById("no-items-time")),addClassEl(t,"app")):(removeClassEl("show",document.getElementById("no-items-time")),removeClassEl(t,"app"))},hasItems:function(){let e=!1;for(let t in photosApp.items.local.items)if(t in photosApp.items.local.variants&&Object.keys(photosApp.items.local.variants[t]).length){e=!0;break}return e},updateFullscreenBackground:async function(){let e;function t(){clearInterval(e),removeArrItem(photosApp.fullscreen.background_change_ints,e)}async function n(){let e=photosApp.fullscreen.item_ids.current;if(!photosApp.app.is_fullscreen||!e)return t();if(!photosApp.fullscreen.slide.change_queue.length){devConsole("updating fullscreen"),photosApp.app.init_called||await photosApp.fullscreen.setItems();try{await photosApp.fullscreen.slidesInit(e,!0)}catch(e){console.error(e)}return t()}devConsole("not updating, slide change in progress")}photosApp.fullscreen.clearBackgroundInts(),e=setInterval((function(){n()}),50),photosApp.fullscreen.background_change_ints.push(e),n()},updateNotificationsCount:function(e){let t=photosApp.app.els.notifications.querySelector(".notifications-count");!elHasClass(photosApp.app.els.notifications,"show")&&e&&e>0?(addClassEl("show",t),t.innerHTML=e,photosApp.app.notificationCount=e):(removeClassEl("show",t),t.innerHTML=0,photosApp.app.notificationCount=0)},clearLevel3(){let e=["organize-all"];for(let t of e)removeClassEl(t,photosApp.app.els.level3)},setOnboarded:function(){return new Promise((async(e,t)=>{devConsole("set onboarded");try{await axios.post(`${photosApp.backend.host}onboarded`)}catch(e){console.error(e)}photosApp.onboarding.isFinished(),photosApp.app.els.navigation.style.removeProperty("transform"),e()}))},getOnboarded:function(){return new Promise((async(e,t)=>{try{let e=await axios.get(`${photosApp.backend.host}onboarded`);photosApp.is_onboarded=e.data}catch(e){console.error(e)}e()}))},isOnboarded:function(){return photosApp.is_onboarded}},"undefined"!=typeof Element&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})),Date.prototype.toMysqlFormat=function(){return this.toISOString().slice(0,19).replace("T"," ")},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");let n=Object(e);for(let e=1;e<arguments.length;e++){let t=arguments[e];if(null!=t)for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},writable:!0,configurable:!0}),photosApp.backend={host:null,ws:{host:null,client:null,connectionTry:0,autoReconnectInterval:5e3,reconnect_ip:!1,connect:function(){function e(){if(console.log("Reconnect WS"),photosApp.backend.ws.reconnect_ip)return;photosApp.backend.ws.reconnect_ip=!0,photosApp.backend.ws.connectionTry++;let e=photosApp.backend.ws.autoReconnectInterval*photosApp.backend.ws.connectionTry;setTimeout((function(){photosApp.backend.ws.reconnect_ip=!1,photosApp.backend.ws.client&&photosApp.backend.ws.client.readyState===WebSocket.OPEN||photosApp.backend.ws.connect()}),e)}if(photosApp.backend.ws.client){if(photosApp.backend.ws.client.readyState===WebSocket.OPEN)return;photosApp.backend.ws.client=null}try{photosApp.backend.ws.client=new WebSocket(photosApp.backend.ws.host)}catch(e){return void console.error(e)}photosApp.backend.ws.client.onopen=function(){photosApp.backend.ws.connectionTry=0},photosApp.backend.ws.client.onmessage=function(e,t){try{let t=JSON.parse(e.data),n=t.action,o=t.data;"items"===n?photosApp.events.onItems():"interval-loop"===n?photosApp.events.onIntervalLoop(o):"notification"===n?photosApp.events.onNotification(o):"fullscreen-variant"===n&&photosApp.events.onFullscreenVariant(o)}catch(e){}},photosApp.backend.ws.client.onerror=function(t){e()},photosApp.backend.ws.client.onclose=function(t,n){e()}}},init:function(){return new Promise((async(e,t)=>{photosApp.app.ipcRenderer.on("ports",(function(t,n){photosApp.backend.host=`http://localhost:${n.server}/`,photosApp.backend.ws.host=`ws://localhost:${n.ws}`,photosApp.backend.ws.connect(),e()})),photosApp.app.ipcRenderer.invoke("message",{action:"get-ports"})}))}},photosApp.dev={enabled:!0,showConsole:!1,performance:!0,debugger:!1,skipOnboardingSteps:async function(){try{await photosApp.app.setOnboarded()}catch(e){}devConsole("Setting access photos"),photosApp.app.removeLoadingScreen()}},photosApp.debug={init_called:!1,error_folder:"errors",init:function(){return photosApp.initLastStep="debug",new Promise(((e,t)=>(photosApp.debug.init_called||(photosApp.debug.init_called=!0),e())))},openDevTools:function(){photosApp.app.ipcRenderer.sendSync("synchronous-message",{action:"open-devtools"})}};let mouse_memory={target:{down:null,up:null}},lastScrollTop={};function onMouseUp(e){mouse_memory.target.up=e.target}function onMouseDown(e){mouse_memory.target.down=e.target}async function onResume(){devConsole("on resume"),photosApp.app&&(photosApp.local.getPhotos(),photosApp.rotate.updateTime())}function onTimeScrollLogic(e){if(photosApp.app.levels[2].open||photosApp.navigation.in_progress||photosApp.app.is_fullscreen)return!1;let t=photosApp.navigation.scrollTop;if(Math.abs(lastScrollTop[e]-t)<20)return!1;t>lastScrollTop[e]&&photosApp.view.currentTimeHeight()>photosApp.style.contentHeight-photosApp.style.footerHeight?(photosApp.navigation.setScrollingDown(!0),removeClassEl(photosApp.style.classes.show_navigation,photosApp.app.els.app)):photosApp.navigation.setScrollingDown(!1),lastScrollTop[e]=t<=0?0:t}function addOnboardingHTML(){document.getElementById("app").insertAdjacentHTML("beforeend",'\n<div id="onboarding">\n    <div class=\'walkthrough show reveal first-load\'>\n      <div class=\'walkthrough-body\'>\n        <ul class=\'screens animate\'>\n            <li class=\'screen access-location active\'>\n            \x3c!--      access desktop location--\x3e\n                <div class=\'media access-desktop-location\'>\n                  <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="folders" class="folders svg-inline--fa fa-folders fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M96 336V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48v-48H176c-44.11 0-80-35.89-80-80zM592 64H400L336 0H176c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48z"></path></svg>\n                    <defs>\n                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">\n                            <stop offset="0%" style="stop-color:#22BDFF;stop-opacity:1" />\n                            <stop offset="100%" style="stop-color:#1DAEEC;stop-opacity:1" />\n                        </linearGradient>\n                    </defs>\n                    <path d="M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z">\n                    </path>\n                  </svg>\n                </div>\n                <h3>\n                  Select photo folders\n                </h3>\n                <div class="buttons">\n                    <div class="button default active">Default</div>\n                    <div class="button custom">Custom</div>\n                </div>\n                <div class="selected-folders"></div>\n            </li>\n        </ul>\n      </div>\n      \n      <div class=\'walkthrough-footer\'>\n        <button id="finish-onboarding" class=\'button yes\'>Finish</button>\n      </div>\n    </div>\n</div>\n'),photosApp.onboarding.el=document.getElementById("onboarding")}function updateFoldersList(){let e=photosApp.onboarding.el.querySelector(".access-location").querySelector(".selected-folders");e.innerHTML="";let t={};if(photosApp.onboarding.selected_folders.default&&(t[photosApp.onboarding.selected_folders.default]=photosApp.onboarding.selected_folders.default),photosApp.onboarding.selected_folders.custom)for(let e in photosApp.onboarding.selected_folders.custom){let n=photosApp.onboarding.selected_folders.custom[e];t[n]=n}if(!Object.keys(t).length)return t;let n=document.createDocumentFragment();for(let e in t){let o=t[e],r=createEl("div",null,"folder");r.innerHTML=o,n.appendChild(r)}return e.appendChild(n),t}photosApp.events={init_called:!1,init:function(){return photosApp.initLastStep="events",new Promise(((e,t)=>{if(photosApp.events.init_called)return e();photosApp.events.init_called=!0,window.addEventListener("keydown",handleKeyDown,!1),window.addEventListener("keyup",handleKeyUp,!1),window.addEventListener("mousedown",onMouseDown,!1),window.addEventListener("mouseup",onMouseUp,!1),window.addEventListener("beforeunload",handleBeforeUnload,!1),photosApp.app.els.app=document.getElementById("app"),photosApp.app.els.header=document.getElementById("header"),photosApp.app.els.footer=document.getElementById("footer"),photosApp.app.els.navigation=document.getElementById("navigation"),photosApp.app.els.level2=document.getElementById("view-level-2"),photosApp.app.els.level3=document.getElementById("navigation-level-3"),photosApp.app.els.time=document.getElementById("time"),photosApp.app.els.confirmAction=document.getElementById("confirm-action"),photosApp.app.els.confirmMessage=document.getElementById("confirm-message"),photosApp.app.els.fullscreen=document.getElementById("fullscreen"),photosApp.app.els.slideshow=document.getElementById("slideshow"),photosApp.app.els.notifications=document.getElementById("notifications"),photosApp.app.els.sideButtons=document.getElementById("side-buttons"),photosApp.app.els.featureTimeInput=document.getElementById("feature-time-input"),photosApp.app.els.featureTimeRange=document.getElementById("feature-time-range"),photosApp.app.els.featureParallelInput=document.getElementById("feature-parallel-input"),photosApp.app.els.featureParallelRange=document.getElementById("feature-parallel-range"),photosApp.app.els.featureChronologySwap=document.getElementById("feature-chronology-swap"),photosApp.app.els.featureManageFolders=document.getElementById("feature-manage-folders");let n=[document.getElementById("time"),document.getElementById("life")];for(let e of n)e.addEventListener("scroll",_.throttle((function(t){if(photosApp.app.is_fullscreen)return!1;photosApp.navigation.scrollTop=e.scrollTop}),100)),e.addEventListener("scroll",_.throttle((function(e){onTimeScrollLogic("life")}),300));window.addEventListener("mousemove",_.throttle((function(e){if(!e.clientY||photosApp.app.els.app.classList.contains("onboarding"))return;let t=photosApp.style.screen.height.current-photosApp.style.fullNavigationHeight;e.clientY>=t||photosApp.navigation.forceShow?photosApp.app.els.app.classList.contains(photosApp.style.classes.show_navigation)||addClassEl(photosApp.style.classes.show_navigation,photosApp.app.els.app):photosApp.app.els.app.classList.contains(photosApp.style.classes.show_navigation)&&(devConsole("mouse move remove nav"),removeClassEl(photosApp.style.classes.show_navigation,photosApp.app.els.app));let n=photosApp.style.screen.width.current-100;e.clientX>=n&&!elHasClass(photosApp.app.els.app,photosApp.style.classes.hide_side_buttons)?addClassEl("show",photosApp.app.els.sideButtons):removeClassEl("show",photosApp.app.els.sideButtons)}),200)),photosApp.events.featuresHandler(),photosApp.events.fullscreenMouseMove(),photosApp.events.slideshowMouseMove(),photosApp.events.bodyClickHandler(),photosApp.app.notificationHandler(),photosApp.events.level3Handler(),photosApp.events.confirmActionHandler(),photosApp.events.preventDocumentScroll(),photosApp.events.headerControlHandler(),photosApp.events.rotateControlHandler(),photosApp.events.controlsControlHandler(),photosApp.events.footerControlHandler(),photosApp.events.recordScreenHandler(),photosApp.slideshow.events(),e()}))},onDivColumnClick:function(e){devConsole("Open item fullscreen"),photosApp.fullscreen.open(e,e.currentTarget)},onGridMenuClick:function(e){photosApp.view.showDateMenu(e)},bodyClickHandler(){document.querySelector("body").addEventListener(click_handler,(function(e){e=e||window.event,photosApp.events.closeConditionally(e)})),document.querySelector("html").addEventListener("mouseup",(function(e){if(photosApp.app.is_fullscreen&&photosApp.fullscreen.mouse.down.active){devConsole("html mouseup");let e=document.createEvent("MouseEvents");e.initEvent("mouseup",!0,!0),photosApp.app.els.fullscreen.querySelector(".slides-wrapper").dispatchEvent(e)}}))},level3Handler:function(){document.getElementById("level-3-confirm").addEventListener(click_handler,(async function(e){if(photosApp.navigation.level3.updateIP)return!1;photosApp.app.setLevel3IP(!0),"grid"===photosApp.app.views.level2.active&&"organize-all"===photosApp.navigation.level3.current&&async function(){let e=document.getElementById("organize-menu"),t=Object.keys(photosApp.organize.selected.items).length;if(!t)return photosApp.app.setLevel3IP(!1),!1;if(e.querySelector(".date.selected"))try{await photosApp.organize.onBatchDateSubmit()}catch(e){console.error(e)}else e.querySelector(".delete.selected")&&photosApp.app.openConfirm(null,"batch-delete",`Would you like to delete ${t} item${t>1?"s":""}?`);photosApp.app.setLevel3IP(!1)}()}))},confirmActionHandler:function(){document.getElementById("confirm-yes").addEventListener(click_handler,(async function(e){if(e.preventDefault(),e.stopPropagation(),photosApp.app.confirmIP)return!1;photosApp.app.confirmIP=!0,removeClassEl("error",photosApp.app.els.confirmMessage);let t=document.getElementById("confirm-action").getAttribute("data-action");photosApp.app.setSpinner(photosApp.app.els.confirmAction,!0);let n=photosApp.app.els.confirmAction.getAttribute("data-id");"fullscreen-delete-item"===t?(photosApp.app.hideConfirm(),photosApp.fullscreen.deleteLogic(n,{ip:"delete",field:"deleted",value:timeNow()})):"batch-delete"===t&&photosApp.organize.onBatchDeleteConfirm("delete")})),document.getElementById("confirm-no").addEventListener(click_handler,(function(e){photosApp.app.hideConfirm(),e.preventDefault(),e.stopPropagation()}))},selectGridItem:function(e){let t=e.currentTarget.getAttribute("data-item-id"),n=null,o="";document.getElementById("organize-all").classList.contains("active")&&(n=photosApp.organize.selected.items,o="Organize");let r=!1;if(t in n?(delete n[t],removeClassEl("selected",e.currentTarget.firstChild),addDeselectedClass(e.currentTarget.firstChild)):(n[t]=!0,addClassEl("selected",e.currentTarget.firstChild),removeClassEl("deselected",e.currentTarget.firstChild),r=!0),photosApp.time[`update${o}GridItemsCount`](),"Organize"===o){let e=document.getElementById("gridorganizeitem"+t).querySelector(".date.new");if(r){if(document.getElementById("organize-menu").querySelector(".date.selected")&&photosApp.organize.calendar_instance&&photosApp.organize.calendar_instance.latestSelectedDateObj){let n=moment(photosApp.organize.calendar_instance.latestSelectedDateObj);t in photosApp.organize.items||(photosApp.organize.items[t]={});let o=photosApp.organize.items[t];o.year=n.year(),o.month=formatNumberLength(n.month()+1,2),o.date=formatNumberLength(n.date(),2),e.innerHTML=`${o.year}-${o.month}-${o.date}`}}else delete photosApp.organize.items[t],e.innerHTML=""}},onItems:async function(){return new Promise((async(e,t)=>{let n;try{n=(await axios.get(`${photosApp.backend.host}ws/items`)).data}catch(e){return console.error(e),t(e)}let o=n.items,r=n.variants,s=n.grid,i=n.data_only;for(let e in o){let t=o[e];photosApp.items.local.items[t.id]=t}for(let e in r){let t=r[e];t&&(t.item_id in photosApp.items.local.variants||(photosApp.items.local.variants[t.item_id]={}),t.variant_type&&(photosApp.items.local.variants[t.item_id][t.variant_type]=t))}if(photosApp.grid.life=s,o.length&&!i)try{let e=document.getElementsByClassName("life__column");e.length&&e.length===photosApp.settings.data.feature.parallel||await photosApp.app.updateHtml(!0,!0)}catch(e){}photosApp.time.updateChronologyFromTo(),e()}))},onNotification:function(e){let t=e.key,n=e.data,o=e.new_notifications_count;t&&n&&(t in photosApp.notifications?(photosApp.notifications[t].data=n,photosApp.notifications[t].timestamp=n.timestamp?n.timestamp:timeNow(),o=0):photosApp.notifications[t]={data:n,timestamp:n.timestamp?n.timestamp:timeNow(),started:n.started?n.started:timeNow()},n.remove_notification&&delete photosApp.notifications[t],photosApp.app.updateNotifications()),o>0&&devConsole(photosApp.notifications);let r=photosApp.app.notificationCount;o&&o>r&&(r=o),photosApp.app.updateNotificationsCount(r)},onIntervalLoop:function(e){photosApp.time.intervalLoop=e.interval_loop},onFullscreenVariant:function(e){let t=e.data,n=document.getElementById("image-"+t.item_id);if(n){let e=t.local_url;n.style.backgroundImage=`url('${e}')`,devConsole({url:e,background:n.style.backgroundImage})}},onNotificationsClick:async function(){let e=`${photosApp.backend.host}notifications/seen`;photosApp.app.updateNotificationsCount(0);try{await axios.put(e,{notification_keys:Object.keys(photosApp.notifications)})}catch(e){console.error(e)}},closeConditionally:function(e){let t=e.target||e.srcElement;if(document.getElementById("app").classList.contains("onboarding"))return!1;if(photosApp.organize.isCalendarOpen)return"Escape"===e.key&&photosApp.organize.calendar_instance.close(),!1;if(photosApp.slideshow.in_slideshow)is_touch_device()&&photosApp.slideshow.setInteract(null,!0),"Escape"===e.key&&photosApp.slideshow.exitSlideShow();else if(photosApp.app.is_fullscreen){let n=photosApp.app.els.fullscreen.querySelector(".action.active");if(is_touch_device()){if(n&&n.contains(t))return!1;if(n)removeClassEl("active",n),e.stopPropagation();else{let e=timeNow(!0),t=setInterval((function(){timeNow(!0)-e>=photosApp.fullscreen.zoom.double_tap_threshold?(clearInterval(t),photosApp.fullscreen.setInteract(null,!0)):photosApp.fullscreen.zoom.toggle_ip&&clearInterval(t)}),16)}}else if("Escape"===e.key)n?removeClassEl("active",n):photosApp.fullscreen.zoom.in_progress?(photosApp.fullscreen.toggleZoom(),photosApp.fullscreen.allowSlide(!0)):photosApp.fullscreen.exitFullscreen();else{if(n&&n.contains(t))return!1;n&&removeClassEl("active",n)}}else if(photosApp.app.levels[2].open)photosApp.app.els.level2.contains(t)||photosApp.app.hideLevel2();else if(elHasClass(photosApp.app.els.notifications,"show")){if(!photosApp.app.els.notifications.contains(t))return removeClassEl("show",photosApp.app.els.notifications),!1}else if(photosApp.app.dateMenu.open){try{if(photosApp.app.els.time.querySelector(".time-period.display").querySelector(".context__menu").contains(t))return!1}catch(e){}return photosApp.app.hideDateMenu()}},addOrganizeMenuHandler:function(){devConsole("add organize menu handler");let e=document.getElementById("organize-menu"),t=photosApp.app.els.level3,n=e.getElementsByClassName("tab"),o=photosApp.organize.tab_classes;for(let r in o){e.querySelector(`.tab.${r}`).addEventListener(click_handler,(function(s){s.preventDefault(),s.stopPropagation(),removeClassEls("selected",n),addClassEl("selected",this);for(let n in o)removeClassEl(n,t),removeClassEl(n,e);document.getElementById("level-3-confirm").innerHTML=o[r].button_text,addClassEl(r,t),addClassEl(r,e),photosApp.organize.last_menu=r}))}},preventDocumentScroll(){document.addEventListener("scroll",(function(e){e.preventDefault()}))},headerControlHandler(){document.getElementById("header-control").addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.style.headerVisibleLogic()}))},rotateControlHandler(){document.getElementById("rotation-control").addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.rotate.rotateLogic()}))},controlsControlHandler(){document.getElementById("controls-control").addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.style.controlsLogic()}))},footerControlHandler(){document.getElementById("footer-control").addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.style.footerVisibleLogic()}))},featuresHandler:function(){photosApp.app.els.featureTimeRange.addEventListener("input",(function(e){let t=this.value;isNumeric(t)&&(photosApp.app.els.featureTimeInput.value=t,photosApp.time.setMinutes(parseFloat(t)))})),photosApp.app.els.featureTimeInput.addEventListener("blur",(function(e){e.preventDefault();let t=photosApp.app.els.featureTimeRange.value,n=this.value;if(!isNumeric(n))return photosApp.app.els.featureTimeInput.value=t,!1;n<.1&&(n=.1,photosApp.app.els.featureTimeInput.value=n),photosApp.app.els.featureTimeRange.value=n,photosApp.time.setMinutes(parseFloat(n))})),photosApp.app.els.featureParallelRange.addEventListener("input",(function(e){let t=this.value;isNumeric(t)&&(photosApp.app.els.featureParallelInput.value=t,photosApp.grid.setParallel(parseInt(t)))})),photosApp.app.els.featureParallelInput.addEventListener("blur",(function(e){e.preventDefault();let t=photosApp.app.els.featureParallelRange.value,n=this.value;if(!isNumeric(n))return photosApp.app.els.featureParallelInput.value=t,!1;parseFloat(n)>photosApp.grid.maxParallel?n=photosApp.grid.maxParallel:parseFloat(n)<1&&(n=1),photosApp.app.els.featureParallelInput.value=n,photosApp.app.els.featureParallelRange.value=n,photosApp.grid.setParallel(parseInt(n))})),photosApp.app.els.featureChronologySwap.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),photosApp.time.swapChronology()})),photosApp.app.els.featureManageFolders.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),photosApp.view.updateManageDirectories(),photosApp.app.showLevel2("folders")})),document.getElementById("close-folders").addEventListener("click",(function(e){e.preventDefault(),photosApp.app.hideLevel2()})),photosApp.local.onAddFolder()},deleteFoldersDir:function(){let e=document.getElementById("manage-folders").getElementsByClassName("delete-dir");for(let t=0;t<e.length;t++){let n=e[t];n._listener||(n._listener=!0,n.addEventListener(click_handler,(function(e){e.stopPropagation();let t=this.getAttribute("data-dir-key"),n=this.closest(".dir-row");n.parentNode.removeChild(n),photosApp.local.removeFolder(t)})))}},fullscreenMouseMove(){let e=[];photosApp.app.els.fullscreen.addEventListener("mousemove",_.throttle((function(t){if(t.preventDefault(),is_touch_device())return!1;for(let t of e)clearTimeout(t);let n=setTimeout((function(){removeClassEl("interact",photosApp.app.els.fullscreen)}),photosApp.fullscreen.interactTimeout);e.push(n),addClassEl("interact",photosApp.app.els.fullscreen)}),200))},slideshowMouseMove(){let e=[];photosApp.app.els.slideshow.addEventListener("mousemove",_.throttle((function(t){if(t.preventDefault(),is_touch_device())return!1;for(let t of e)clearTimeout(t);addClassEl("interact",photosApp.app.els.slideshow);let n=setTimeout((function(){t.target.closest(".slideshow-controls")||removeClassEl("interact",photosApp.app.els.slideshow)}),photosApp.slideshow.interactTimeout);e.push(n)}),200))},recordScreenHandler:function(){let e=document.getElementById("record-screen");e._listener||(e._listener=!0,e.addEventListener("click",(async function(e){e.preventDefault(),e.stopPropagation();let t=await photosApp.app.ipcRenderer.invoke("capture-window-id",{});photosApp.capture.recordWindow(t)})))}},photosApp.style={name:"style",init_called:!1,breakpoints:{720:{title:{padding:{bottom:14,top:14},height:25},grid:{button:{width:100,max_width_percent:.4,height_percent:.333,padding:{top:8,bottom:8,left:5,right:5},max_font:22,height_adjustment:.16}},header:{logo:{width:50}}},601:{navigation:{footer:{height:86},level3:{header:{height:61}}},description:{paddingTB:0},title:{height:26},cards:{fontSize:16}}},header:{logo:{width:160},height:60,progress:{transition:300},hide:{transition_ip:!1,transition_duration:300},windows:{barHeight:30}},headerHeight:null,footerHeight:null,fullNavigationHeight:null,screen:{width:{start:null,current:null},height:{start:null,current:null},devicePixelRatio:window.devicePixelRatio},orientation:{start:null,current:null,angles:{portrait:[0,180,360,-180],landscape:[90,270,-90]}},navigation:{level2:{height:50,transition:500},level3:{height:null,transition:500,header:{height:78}},footer:{height:90}},view:{level2:{height:null,organize:{menu:{height:50}}},settings:{height:null}},sheets:{customIndex:null,customSheet:null,lastInsertedIndex:null,lastInsertedSheet:null,transitionSheet:null,fullscreenSheet:null},classes:{show_navigation:"show-navigation",display_first:"display_first",hide_controls:"hide_controls",hide_footer:"hide_footer",level2shown:"level-2-shown",level3shown:"level-3-shown",hide_header:"hide_header",mouse_over_controls:"mouse-over-controls",fullscreen_open_ip:"fs-open-ip",hide_side_buttons:"hide-side-buttons",is_portrait:"is_portrait"},border:{rows:2,cols:2},title:{padding:{bottom:20,top:20},height:32},grid:{button:{width:130,max_width_percent:.4,height_percent:.3,padding:{top:8,bottom:8,left:5,right:5},max_font:24,height_adjustment:.16},menu:{width:160,height:130},circle:{width:20}},metadata:{minwh:100,percentwh:.125,wh:100,minMargin:20,maxMargin:60,marginLR:null,minMarginTB:15,percentMarginTB:.125,marginTB:15,percentOfWidthMargin:.15,menuWidth:200,menuHeight:210,minMetadataRow:3,maxMetadataRow:null,percentOfWidth:null,logoMargin:30,spacerHeight:20,menu:{fontType:"far"}},fullscreen:{menu:{row:{height:30},padding:{top:5,bottom:5},section:{height:40},metadata:{add:{height:30},row:{height:50},image:{dim:30},autoCompleteList:{height:200},top:{margin:{bottom:0}}}},dropdown:{width:320},topbar:{height:70,mobile_w:124}},settings:{sections:6,section:{group:{width:280,timing:{marginLR:null,cols:2},center:{left:null}},width:null},nav:{width:null,height:null,contentHeight:null},navThird:{height:null},navBar:{marginTB:null,height:60},grid:{rows:3,cols:2},marginLR:30,marginTBPercent:.1,marginTB:null,paddingLR:10,transition:{section:330,navigation:500},description:{paddingTB:0},title:{height:31},modal:{maxHeight:.8,header:{height:60},content:{paddingTB:20},footer:{height:72}}},rotateControl:{width:50},resizeLogic:async e=>new Promise((async(e,t)=>{if(devConsole("Resizing"),photosApp.style.removeAnimations(),photosApp.style.setStyles(),!photosApp.events.init_called)return t();photosApp.fullscreen.onResize(),photosApp.slideshow.onResize(),await photosApp.style.updateCalculations(!0),photosApp.style.restoreAnimations(),e()})),init:function(){return photosApp.initLastStep="style",new Promise((async(e,t)=>{if(photosApp.style.init_called)return e();photosApp.style.init_called=!0;let n=document.styleSheets;photosApp.style.sheets.lastInsertedSheet=n[n.length-1],photosApp.style.sheets.lastInsertedIndex=n.length-1,photosApp.style.sheets.customIndex=photosApp.style.sheets.lastInsertedSheet+1,photosApp.style.setStyles(),e(),window.addEventListener("resize",(async function(e){await photosApp.style.resizeLogic(e)}))}))},setStyles:function(){let e;photosApp.style.screen.width.current=window.innerWidth,photosApp.style.screen.height.current=window.innerHeight,photosApp.style.headerHeight=document.getElementById("header").offsetHeight,is_windows&&(photosApp.style.headerHeight+=document.getElementById("windows-bar").offsetHeight),photosApp.style.footerHeight=e=document.getElementById("footer").offsetHeight,photosApp.style.navigation.level2.height=50,photosApp.style.fullNavigationHeight=photosApp.style.footerHeight+1,photosApp.style.contentHeight=photosApp.style.screen.height.current-photosApp.style.headerHeight,photosApp.style.view.level2.height=Math.round(.9*photosApp.style.screen.height.current-e),photosApp.style.removeCustomSheet(),photosApp.style.addCustomSheet(),photosApp.style.updateBackend()},updateTimeViewValues:function(){let e="life",t=0,n=photosApp.app.els.time.getElementsByClassName(e);for(let o=0;o<n.length;o++){let r,s=n[o];0;photosApp.style.dynamicValue("title.height"),photosApp.style.dynamicValue("title.padding.bottom");let i=s.getElementsByClassName(`${e}__row`);r=0;let a=0;for(let t=0;t<i.length;t++){let n=i[t].getElementsByClassName(`${e}__column`).length,o=(n-1)*photosApp.style.border.cols;a+=(photosApp.style.screen.width.current-o)/n}let l=photosApp.style.screen.height.current;photosApp.settings.data.style.header&&(l-=photosApp.style.dynamicValue("header.height"));let p=l/a;for(let t=0;t<i.length;t++){let n=i[t],o=n.getElementsByClassName(`${e}__column`),s=o.length,a=(s-1)*photosApp.style.border.cols,l=(photosApp.style.screen.width.current-a)/s,c=l;1===i.length||(l*=p),photosApp.style.addStyles(n,{top:r,height:l}),r+=l+photosApp.style.border.rows;for(let e=0;e<o.length;e++){let t=o[e];photosApp.style.addStyles(t,{width:c,height:l})}t===i.length-1&&photosApp.style.addStyles(document.getElementById("life"),{height:r+100})}t+=r+photosApp.style.dynamicValue("title.padding.top")}},updateMetadataViewValues:function(){let e=photosApp.style.metadata.wh*photosApp.style.metadata.percentMarginTB;e<photosApp.style.metadata.minMarginTB&&(e=photosApp.style.metadata.minMarginTB),function(t,n,o){"string"==typeof t&&(t=document.getElementById(t)),o||(o=0);let r=e+o,s=t.getElementsByClassName("row-group");for(let t=0;t<s.length;t++){let o=s[t];o.style.setProperty("top",r+"px"),o.setAttribute("top",r);let i=o.getElementsByClassName(n);for(let t=0;t<i.length;t++){i[t].style.setProperty("top",r+"px"),r+=photosApp.style.metadata.wh+e}}let i=t.querySelector(".spacer");i&&(i.style.setProperty("top",r+e+"px"),i.style.setProperty("height",e+"px"))}("organize-all","organize-row",photosApp.style.view.level2.organize.menu.height),photosApp.style.setLevel3Height()},updateCalculations:async function(e){return new Promise((async(t,n)=>{e&&(photosApp.style.updateTimeViewValues(),photosApp.style.updateMetadataViewValues()),t()}))},removeCustomSheet(){photosApp.style.sheets.customSheet&&(photosApp.style.sheets.customSheet.parentNode.removeChild(photosApp.style.sheets.customSheet),photosApp.style.sheets.customSheet=null)},removeFullscreenSheet(){photosApp.style.sheets.fullscreenSheet&&(photosApp.style.sheets.fullscreenSheet.parentNode.removeChild(photosApp.style.sheets.fullscreenSheet),photosApp.style.sheets.fullscreenSheet=null)},calculateMetadata:function(){function e(e){let t=photosApp.style.screen.width.current*e,n=photosApp.style.screen.width.current-t,o=Math.floor(n/photosApp.style.metadata.wh);return o<photosApp.style.metadata.minMetadataRow&&(o=photosApp.style.metadata.minMetadataRow),{margin:(t+(n-o*photosApp.style.metadata.wh))/(o+1),max_metadata_row:o}}let t,n=null,o=photosApp.style.metadata.percentOfWidthMargin;for(;(!n||n<photosApp.style.metadata.minMargin)&&!(t&&t.max_metadata_row<=photosApp.style.metadata.minMetadataRow);)t=e(o),n=t.margin,n<photosApp.style.metadata.minMargin&&(o+=.05);return photosApp.style.metadata.maxMetadataRow=t.max_metadata_row,photosApp.style.metadata.percentOfWidth=o,t},calculateMetadataMargin:function(){let e=photosApp.style.screen.width.current*photosApp.style.metadata.percentOfWidth;return(e+(photosApp.style.screen.width.current-e-photosApp.style.metadata.maxMetadataRow*photosApp.style.metadata.wh))/(photosApp.style.metadata.maxMetadataRow+1)},metadataExceedsWidth:function(){photosApp.style.metadata.maxMetadataRow;return photosApp.style.calculateMetadataMargin()<photosApp.style.metadata.minMargin},emptyActiveLevel3El:function(){let e=photosApp.app.els.level3;return!(!e||(e=e.querySelector(".level-3-content.active"),!e||e.firstChild))},addCustomSheet(){let e=document.createElement("style"),t=15,n=0,o=30,r="",s="";for(let e=1;e<=t;e++){let n,o=`col-${e}`,s=`row-cols-${e}`;n=e>1?(photosApp.style.screen.width.current-2*(e-1))/e:photosApp.style.screen.width.current/2;let i=n;1===e&&(i=photosApp.style.screen.width.current/2),r+=`#all .${o} {\n                        width: ${n}px;\n                        height: ${i}px;\n                    } `,r+=`#all .${s} {\n                        height: ${n}px;\n                    } `;for(let e=0;e<t;e++){let t=e*n;t+=2*e,r+=`${`.${o}.col-index-${e}`} {\n                            left: ${t}px;\n                        } `}}photosApp.style.metadata.wh=photosApp.style.screen.width.current*photosApp.style.metadata.percentwh;let i,a=photosApp.style.dynamicValue("metadata.minwh");if(photosApp.style.metadata.wh<a&&(photosApp.style.metadata.wh=a),photosApp.style.metadata.maxMetadataRow){if(i=photosApp.style.calculateMetadataMargin(),i>=photosApp.style.metadata.maxMargin||photosApp.style.metadataExceedsWidth()||photosApp.style.emptyActiveLevel3El())if(i=photosApp.style.calculateMetadata().margin,"grid"===photosApp.app.views.level2.active){let e=document.getElementById("organize-all");e.classList.contains("active")&&photosApp.view.updateOrganizeGridItemsView(e.getAttribute("data-date-id"))}else"folders"===photosApp.app.views.level2.active&&photosApp.view.updateManageDirectories()}else i=photosApp.style.calculateMetadata().margin;for(let e=n;e<o;e++){let t=`metadata-index-${e}`;left=i+photosApp.style.metadata.wh*e+i*e,s+=`\n                    .${t} {\n                        left: ${left}px;\n                    }`}let l="";_.forEach([""],(function(e){_.forEach(["life"],(function(t){let n=`${t}__${e}`,o="";_.forEach(["webkit","moz","ms"],(function(e){o+=`-${e}-transform: translate3d(0,0,0); `})),o+="transform: translate3d(0,0,0); ",l+=`.${n} {\n                            ${o}\n                        }`}))})),e.innerHTML=`\n                    #app {\n                        width: ${photosApp.style.screen.width.current}px;\n                        height: ${photosApp.style.screen.height.current}px;\n                    }\n                    \n                    #time {\n                        top: ${photosApp.style.headerHeight}px;\n                    }\n                    \n                    #time, #life {\n                        height: ${photosApp.style.contentHeight}px;\n                    }\n                    \n                    .life {\n                        width: ${photosApp.style.screen.width.current}px;\n                    }\n                    \n                    .life__row {\n                        width: ${photosApp.style.screen.width.current}px;\n                    }\n                    \n                    ${r}\n                    \n                    #navigation {\n                        bottom: ${photosApp.style.fullNavigationHeight}px;\n                        transition: transform .3s ease-in-out;\n                    }\n                    \n                    #navigate-time {\n                        transform: translateY(-${photosApp.style.footerHeight+10}px);\n                    }\n                    \n                    #view-level-2 {\n                        height: ${photosApp.style.view.level2.height}px;\n                    }\n                    \n                    #view-level-2.visible {\n                        bottom: ${photosApp.style.footerHeight}px;\n                    }\n                    \n                    #app.onboarding #navigation, \n                    .scrolling-down #navigation, \n                    .fullscreen #navigation, \n                    #app.onboarding #navigate-time,\n                    .scrolling-down #navigate-time,\n                    .fullscreen #navigate-time\n                     {\n                        transform: translateY(${photosApp.style.fullNavigationHeight}px);\n                    }\n                    \n                    #app.hide_footer #navigation,\n                    #app.hide_footer #navigate-time {\n                        transform: translateY(${photosApp.style.fullNavigationHeight}px) !important;\n                    }\n                    \n                    #app.${photosApp.style.classes.show_navigation} #navigation, \n                    #app.level-2-shown #navigation\n                    {\n                      transform: translateY(0) !important;\n                    }\n                    \n                    #app.${photosApp.style.classes.show_navigation} #navigate-time, \n                    #app.level-2-shown #navigate-time\n                    {\n                        transform: translateY(-${photosApp.style.footerHeight+10}px) !important;\n                    }\n                    \n                    #app.onboarding #side-buttons, \n                    .scrolling-down #side-buttons, \n                    .fullscreen #side-buttons\n                    {\n                        transform: translateX(${photosApp.style.rotateControl.width}px);\n                    }\n                    \n                    .organize__item {\n                        width: ${photosApp.style.metadata.wh}px;\n                        height: ${photosApp.style.metadata.wh}px;\n                    }\n                    \n                    ${s}\n                    \n                    ${l}\n                `,document.body.appendChild(e),photosApp.style.sheets.customSheet=e,photosApp.style.updateGridButtonDims()},updateGridButtonDims:function(e){if(e>10)return;let t=document.getElementsByClassName("life-description");if(!t.length)return requestAnimationFrame((function(){photosApp.style.updateGridButtonDims(e?e+1:1)}));for(let e=0;e<t.length;e++){let n=t[e],o=n.getBoundingClientRect(),r=n.parentElement.querySelector(".life-button-background");r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}},addFullscreenSheet:function(){let e=document.createElement("style"),t="";is_touch_device()&&(t="#fullscreen .mouse-display {\n                        display: none !important; \n                    }");let n="",o="",r=document.getElementById("fullscreen").querySelector(".top-bar"),s={date:{el:r.querySelector(".action.date"),class:"date"},file:{el:r.querySelector(".action.file"),class:"file"}},i=[":focus",":focus-within",":hover",".active"],a=photosApp.style.fullscreen.dropdown.width,l=(photosApp.style.fullscreen.topbar.height,photosApp.style.fullscreen.topbar.mobile_w),p=Math.min(photosApp.style.screen.width.current-l,a),c=.024*photosApp.style.screen.height.current,u=photosApp.style.screen.height.current/9;for(let e in s){let t=s[e],r=t.el.querySelector(".action-name").getBoundingClientRect(),l=r.width,d=t.el.querySelector(".dropdown").getBoundingClientRect().height,h=-u;h=-d/2-c;let f=(a-l)/-2;"date"===t.class&&(h=Math.max(-(d-u),-r.bottom),f=Math.max(f,-r.left)),n+="\n                    ",o+=`\n                        #fullscreen .action.date .dropdown {\n                            transform: translate(${-p}px, 0px);\n                        }\n                        \n                        #fullscreen .action.file .dropdown {\n                            transform: translate(${-p}px, ${h}px);\n                        }\n                    `;for(let e of i)n+=`\n                            #fullscreen .action.${t.class}${e} .dropdown {\n                            \n                            }  \n                        `}e.innerHTML=`\n                    #fullscreen .top-bar {\n                        transition: opacity ${photosApp.fullscreen.controls.transition}ms;\n                    }\n                    \n                    #fullscreen .is_photo_side {\n                        transition: opacity ${photosApp.fullscreen.controls.transition}ms;\n                    }\n                    \n                    #fullscreen .slides-arrow {\n                        transition: color ${photosApp.fullscreen.controls.transition}ms, opacity ${photosApp.fullscreen.controls.transition}ms;\n                    }\n                    \n                    #fullscreen .slide {\n                        width: ${photosApp.style.screen.width.current}px;\n                        height: ${photosApp.style.screen.height.current}px;\n                    }\n                    \n                    #fullscreen.toggle-ip .fullscreen-background {\n                        -webkit-transition: transform ${photosApp.fullscreen.zoom.transition_duration}ms ease-in-out;\n                        transition: transform ${photosApp.fullscreen.zoom.transition_duration}ms ease-in-out;\n                    }\n                    \n                    #fullscreen.slide-transition .slides-wrapper {\n                        transition: transform ${photosApp.fullscreen.slide.transition_duration}ms !important;\n                    }\n                    \n                    #fullscreen .fullscreen-background.animate {\n                        -webkit-transition-duration: ${photosApp.fullscreen.default_transition}ms !important;\n                        transition-duration: ${photosApp.fullscreen.default_transition}ms !important;\n                    }\n                    \n                    #fullscreen.scale-too-low .slide .fullscreen-background {\n                        -webkit-transition-duration: ${photosApp.fullscreen.zoom.scale_low_duration}ms !important;\n                        transition-duration: ${photosApp.fullscreen.zoom.scale_low_duration}ms !important;\n                    }\n                    \n                    ${t}\n                    \n                    ${n}\n                    \n                    @media only screen and (max-width: 801px) {\n                        ${o}\n                    }\n                    \n                `,document.body.appendChild(e),photosApp.style.sheets.fullscreenSheet=e},setSlideshowTransition:function(e){photosApp.style.sheets.transitionSheet&&(photosApp.style.sheets.transitionSheet.parentNode.removeChild(photosApp.style.sheets.transitionSheet),photosApp.style.sheets.transitionSheet=null);let t=`\n                        #slideshow .item {\n                            transition: opacity ${e}ms ease-in-out;\n                        }\n                    `,n=document.createElement("style");n.innerHTML=t,document.body.appendChild(n),photosApp.style.sheets.transitionSheet=n},addStyles:function(e,t){let n="";return _.forEach(t,(function(e,t){(Number.isInteger(e)||isFloat(e))&&(e+="px"),n+=`${t}: ${e}; `})),e.setAttribute("style",n),e},dynamicValue:function(e){let t=e.split("."),n=null,o=photosApp.style.screen.width.current,r=_.orderBy(Object.keys(photosApp.style.breakpoints),null,["desc"]);for(let e in r){let s=r[e];if(o<=s){let e=photosApp.style.breakpoints[s];if(!e)continue;for(let o=0;o<t.length;o++){let r=t[o];if(!(r in e))break;if(o===t.length-1){n=e[r];break}e=e[r]}}}if(null===n){let e=photosApp.style;for(let o=0;o<t.length;o++){let r=t[o];if(!(r in e))break;if(o===t.length-1){n=e[r];break}e=e[r]}}if(null===n)throw"Oops no style";return n},removeAnimations:function(){photosApp.app.els.navigation&&(photosApp.app.els.navigation.style.transition="initial")},restoreAnimations:function(){photosApp.app.els.navigation&&(photosApp.app.els.navigation.style.transition="transform .3s ease-in-out")},setLevel3Height:function(){let e=photosApp.style.view.level2.height;photosApp.app.els.level3.style.height=e+"px";let t=e-photosApp.style.dynamicValue("navigation.level3.header.height")+0;document.getElementById("level-3-content").style.height=t+"px"},setLevel3TransformHidden:function(e){photosApp.style.setLevel3Height(),photosApp.app.els.level3.style.transform=e?`translateY(${photosApp.style.view.level2.height}px)`:`translateX(${-photosApp.style.screen.width.current}px)`},updateBackend:function(){axios.put(`${photosApp.backend.host}styles`,{screen:photosApp.style.screen})},setHeaderVisible:async function(e){photosApp.settings.data.style.header=e;try{await photosApp.settings.saveSettings("style.header",e)}catch(e){}},setControls:async function(e){photosApp.settings.data.style.controls=e;try{await photosApp.settings.saveSettings("style.controls",e)}catch(e){}},setFooterVisible:async function(e){photosApp.settings.data.style.footer=e,e&&photosApp.navigation.setScrollingDown(!1);try{await photosApp.settings.saveSettings("style.footer",e)}catch(e){}},loadSettings:()=>new Promise((async(e,t)=>{photosApp.settings.data.style.controls||photosApp.style.controlsLogic(!0),photosApp.settings.data.style.header||photosApp.style.headerVisibleLogic(!0),photosApp.settings.data.style.footer||photosApp.style.footerVisibleLogic(!0),e()})),async headerVisibleLogic(e,t){if(photosApp.style.header.hide.transition_ip)return!1;let n=photosApp.style.dynamicValue("header.height"),o=photosApp.app.els.header,r=photosApp.app.els.time,s="visible",i=document.getElementById("header-control"),a=i.querySelector(".icon-maximize"),l=i.querySelector(".icon-minimize"),p=elHasClass(a,s);void 0!==t&&(p=!t),p?(addClassEl(s,l),removeClassEl(s,a),e||photosApp.style.setHeaderVisible(!1)):(addClassEl(s,a),removeClassEl(s,l),e||photosApp.style.setHeaderVisible(!0)),photosApp.style.header.hide.transition_ip=!0,p||(removeClassEl(photosApp.style.classes.hide_header,photosApp.app.els.app),o.style.transform=`translateY(-${n}px)`,await rafAwait()),o.style.transition=`transform ${photosApp.style.header.hide.transition_duration}ms`,r.style.transition=`transform ${photosApp.style.header.hide.transition_duration}ms`,await rafAwait();let c=n;p&&(c*=-1),o.style.transform=p?`translateY(${c}px)`:"translateY(0px)",r.style.transform=`translateY(${c}px)`,await timeoutAwait(null,photosApp.style.header.hide.transition_duration),p&&addClassEl(photosApp.style.classes.hide_header,photosApp.app.els.app),o.style.removeProperty("transition"),r.style.removeProperty("transition"),o.style.removeProperty("transform"),r.style.removeProperty("transform");try{await photosApp.style.resizeLogic()}catch(e){}photosApp.style.forceHideSideButtonsIf(),photosApp.style.header.hide.transition_ip=!1},controlsLogic(e){let t=document.getElementById("controls-control"),n=t.querySelector(".icon-controls"),o=t.querySelector(".icon-controls-hidden");toggleElClass(n,"visible"),toggleElClass(o,"visible"),elHasClass(n,"visible")?(removeClassEl(photosApp.style.classes.hide_controls,photosApp.app.els.time),e||photosApp.style.setControls(!0)):(addClassEl(photosApp.style.classes.hide_controls,photosApp.app.els.time),e||photosApp.style.setControls(!1))},footerVisibleLogic(e){let t="visible",n=document.getElementById("footer-control"),o=n.querySelector(".icon-footer"),r=n.querySelector(".icon-footer-hidden");toggleElClass(o,t),toggleElClass(r,t),elHasClass(o,t)?(removeClassEl(photosApp.style.classes.hide_footer,photosApp.app.els.app),e||photosApp.style.setFooterVisible(!0)):(addClassEl(photosApp.style.classes.hide_footer,photosApp.app.els.app),removeClassEl(photosApp.style.classes.show_navigation,photosApp.app.els.app),photosApp.navigation.forceShow=!1,e||photosApp.style.setFooterVisible(!1)),photosApp.style.forceHideSideButtonsIf()},hideSideButtonTs:[],forceHideSideButtonsIf(){for(let e of photosApp.style.hideSideButtonTs)clearTimeout(e);let e=photosApp.style.classes.hide_side_buttons;if(!photosApp.settings.data.style.header&&!photosApp.settings.data.style.footer){removeClassEl("show",photosApp.app.els.sideButtons),addClassEl(photosApp.navigation.scrolling_class,photosApp.app.els.app),addClassEl(e,photosApp.app.els.app);let t=setTimeout((function(){removeClassEl(e,photosApp.app.els.app)}),3e3);photosApp.style.hideSideButtonTs.push(t)}},el_center_x:function(e){if(!e)return null;let t=e.getBoundingClientRect();return(t.left+t.right)/2},el_closest_x_els:function(e,t){if(!e||!t.length)return null;let n=photosApp.style.el_center_x(e),o=null,r=null;for(let e=0;e<t.length;e++){let s=t[e],i=photosApp.style.el_center_x(s),a=Math.abs(n-i);(!o||a<r)&&(r=a,o=s)}return o}},photosApp.animation={easings:{linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},in_progress:!1,transformScale:function(e,t,n,o,r,s,i,a,l,p){return new Promise((async(c,u)=>{for(let c=a;c>=0&&p===photosApp.fullscreen.touchstart_int;c-=4)await timeoutAwait((function(){const p=Math.min(1,(a-c)/a),u=photosApp.animation.easings[l](p),d=u*(n-t)+t,h=u*(r-o)+o,f=u*(i-s)+s,m=`translate3d(${d}px, ${h}px, 0px) scale(${f})`;e.style.transform=m,e.setAttribute("data-x",d),e.setAttribute("data-y",h),e.setAttribute("data-scale",f)}),4);c()}))}},photosApp.local={dirs:{selected:{}},runData:{threshold:1e3,lastRun:null,running:!1},init:function(){return photosApp.initLastStep="local",new Promise((async(e,t)=>{try{await photosApp.local.getFolders(),await photosApp.local.getFoldersItems()}catch(e){}e()}))},getFolders:function(){return new Promise((async(e,t)=>{try{let e=await axios.get(`${photosApp.backend.host}folders`);e.data&&(photosApp.local.dirs=e.data),photosApp.view.updateDirCount()}catch(e){}e()}))},getFoldersItems:function(){return new Promise((async(e,t)=>{let n=photosApp.backend.host;try{await axios.get(`${n}folders/items`)}catch(e){}e()}))},getPhotos:function(){return new Promise((async(e,t)=>{if(!photosApp.db.data_loaded)return e();if(photosApp.local.runData.lastRun&&timeNow(!0)-photosApp.local.runData.lastRun<photosApp.local.runData.threshold)return e();if(photosApp.local.runData.lastRun=timeNow(!0),devConsole("Local: get photos"),e(),photosApp.local.runData.running)return t();photosApp.local.runData.running=!0;try{await photosApp.local.getFolders(),await photosApp.local.getFoldersItems()}catch(e){}photosApp.local.runData.running=!1}))},addFolders:function(e){for(let t in e){let n=e[t];n.toLowerCase()in photosApp.local.dirs.selected||(photosApp.local.dirs.selected[n.toLowerCase()]=n)}photosApp.local.saveFolders(),photosApp.view.updateDirCount(),photosApp.view.updateManageDirectories()},getSelectedDirCount:function(){return Object.keys(photosApp.local.dirs.selected).length},listFolders:function(){return photosApp.local.dirs.selected},removeFolder:function(e){e in photosApp.local.dirs.selected&&delete photosApp.local.dirs.selected[e],photosApp.local.saveFolders(),photosApp.view.updateDirCount()},getDefaultFolders:function(){return new Promise((async(e,t)=>{let n=require("os").homedir(),o=require("path").join(n,"Pictures");return e(await checkIfPathExists(o)?o:null)}))},saveFolders:function(){return new Promise((async(e,t)=>{try{await axios.post(`${photosApp.backend.host}folders`,{dirs:photosApp.local.dirs.selected})}catch(e){console.error(e)}e()}))},onAddFolder:function(){document.getElementById("add-folder").addEventListener(click_handler,(async function(e){e.preventDefault(),e.stopPropagation();const t=require("@electron/remote"),{dialog:n}=t;let o=n.showOpenDialog({properties:["openDirectory","multiSelections","createDirectory"]});try{let e=(await o).filePaths;e.length&&photosApp.local.addFolders(e)}catch(e){console.error(e)}})),photosApp.local.dragAndDropHolder()},dragAndDropHolder:function(){let e=document.getElementById("app");e.ondragover=()=>!1,e.ondragleave=()=>!1,e.ondragend=()=>!1,e.ondrop=e=>{e.preventDefault();let t=[],n=require("path"),o=require("fs");for(let r of e.dataTransfer.files){o.lstatSync(r.path).isDirectory()?t.push(r.path):t.push(n.dirname(r.path))}return photosApp.local.addFolders(t),!1}}},photosApp.onboarding={init_called:!1,ip:!1,el:null,selected_folders:{default:null,custom:{}},walkthrough:{openModal:function(){devConsole("Open modal called"),addClassEl("onboarding","app"),addClassEl("show",photosApp.onboarding.el.querySelector(".walkthrough")),addClassEl("active",photosApp.onboarding.el.getElementsByClassName("screen")[0])}},isFinished:function(){addClassEl("active","navigation"),removeClassEl("onboarding","app"),photosApp.onboarding.ip=!1},init:function(){return photosApp.initLastStep="onboarding",photosApp.onboarding.ip=!0,new Promise((async(e,t)=>{if(photosApp.onboarding.init_called)return e();if(photosApp.onboarding.init_called=!0,photosApp.dev.skipOnboarding)return removeClassEl("onboarding","app"),photosApp.onboarding.ip=!1,e();try{await photosApp.app.getOnboarded()}catch(e){}if(photosApp.is_onboarded)return photosApp.onboarding.isFinished(),e();try{await photosApp.app.init()}catch(e){console.error(e)}addOnboardingHTML(),document.getElementById("finish-onboarding").addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.onboarding.finish_logic()}));let n=photosApp.onboarding.el.querySelector(".access-location").querySelector(".buttons").querySelector(".default"),o=photosApp.onboarding.el.querySelector(".access-location").querySelector(".buttons").querySelector(".custom");n.addEventListener(click_handler,(async function(e){e.preventDefault(),e.stopPropagation(),this.classList.contains("active")?(removeClassEl("active",this),photosApp.onboarding.selected_folders.default=null):(addClassEl("active",this),photosApp.onboarding.selected_folders.default=await photosApp.local.getDefaultFolders()),updateFoldersList()})),o.addEventListener(click_handler,(async function(e){e.preventDefault(),e.stopPropagation();const t=require("@electron/remote"),{dialog:n}=t;n.showOpenDialog({properties:["openDirectory","multiSelections","createDirectory"]}).then((function(e){let t=e.filePaths,n=!0;if(t.length){for(let e of t)(e===photosApp.onboarding.selected_folders.default||e in photosApp.onboarding.selected_folders.custom)&&(n=!1),photosApp.onboarding.selected_folders.custom[e]=e;n&&addClassEl("active",o),updateFoldersList()}}))})),requestAnimationFrame((function(){removeClassEl("first-load",photosApp.onboarding.el.querySelector(".first-load"))}));try{photosApp.onboarding.selected_folders.default=await photosApp.local.getDefaultFolders(),updateFoldersList()}catch(e){}photosApp.onboarding.walkthrough.openModal(),removeClassEl(photosApp.db.classes.loading,"app"),photosApp.app.removeLoadingScreen()}))},finish_logic:async function(){let e=updateFoldersList(),t=[];for(let n in e){let o=e[n];t.push(o)}t.length&&photosApp.local.addFolders(t),photosApp.app.setOnboarded()}},photosApp.cache={itemIds:[],init:function(){return new Promise((async(e,t)=>{try{await axios.get(`${photosApp.backend.host}cache`)}catch(e){}e()}))}},photosApp.capture={mediaRecorder:null,recordedChunks:[],recordWindow:function(e){const t=require("@electron/remote"),{dialog:n}=t;this.mediaRecorder=null,this.recordedChunks=[];let o="video/mov";const r=function(e){photosApp.capture.recordedChunks.push(e.data)},s=async function(){const e=new Blob(photosApp.capture.recordedChunks,{type:o}),t=Buffer.from(await e.arrayBuffer());photosApp.capture.recordedChunks=[];let r=n.showSaveDialog({buttonLabel:"Save Video",defaultPath:`life-minute-photos-video-${Date.now()}.mp4`});try{let{canceled:e,filePath:n}=await r;if(e)return;n&&writeFile(n,t)}catch(e){console.error(e)}};return new Promise((async(t,n)=>{try{!function(e){photosApp.capture.mediaRecorder=new MediaRecorder(e,{videoBitsPerSecond:25e5,mimeType:o}),photosApp.capture.mediaRecorder.ondataavailable=r,photosApp.capture.mediaRecorder.onstop=s,photosApp.capture.mediaRecorder.start()}(await navigator.mediaDevices.getUserMedia({audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e}}}))}catch(e){console.error(e)}}))},stopRecording:function(){photosApp.capture.mediaRecorder.stop()}},photosApp.grid={life:[],parallel:4,maxParallel:100,init:function(){return new Promise((async(e,t)=>{photosApp.settings.data.feature.parallel&&(photosApp.grid.parallel=photosApp.settings.data.feature.parallel),photosApp.app.els.featureParallelInput.setAttribute("value",photosApp.grid.parallel),photosApp.app.els.featureParallelRange.setAttribute("value",photosApp.grid.parallel),photosApp.app.els.featureParallelRange.setAttribute("max",photosApp.grid.maxParallel);try{await photosApp.grid.setGrid()}catch(e){}e()}))},setGrid:function(){return new Promise((async(e,t)=>{try{let e=await axios.put(`${photosApp.backend.host}grid`,{params:{width:photosApp.style.screen.width.current,height:photosApp.style.screen.height.current}});photosApp.grid.life=e.data}catch(e){}e()}))},reset:function(){photosApp.grid.life=[],console.log("Reset grid")},setParallel:async function(e){photosApp.grid.parallel=e,console.log("Set parallel");try{await photosApp.settings.saveSettings("feature.parallel",e),await photosApp.grid.setGrid(),await photosApp.app.updateHtml(!0,!0)}catch(e){console.error(e)}},getGridByIndex:function(e){let t;e=parseInt(e);let n=0;for(let o=0;o<photosApp.grid.life.length;o++)for(let r=0;r<photosApp.grid.life[o].length;r++){if(n===e){t=photosApp.grid.life[o][r];break}n++}return t}},photosApp.slideshow={in_slideshow:!1,change_ip:!1,spinnerTimeouts:[],img_class:"slideshow-image",paused:!1,current_int:-1,interactTimeout:2e3,remove_transition:!1,pause_play:{threshold:100,last:null},items:{start:null,current:null,next:null,prev:null,all:null,loaded:{}},startSlideShow:async function(e,t){return new Promise((async(n,o)=>{if(photosApp.slideshow.in_slideshow)return o();photosApp.slideshow.remove_transition=!1,removeClassEl("remove-transition",photosApp.app.els.slideshow),photosApp.slideshow.setPaused(!1),removeClassEl("active",photosApp.app.els.slideshow.querySelector(".control.play")),addClassEl("active",photosApp.app.els.slideshow.querySelector(".control.pause")),photosApp.slideshow.setHtml(),photosApp.slideshow.current_int++,photosApp.slideshow.in_slideshow=!0,photosApp.slideshow.setInteract(!1),photosApp.slideshow.items.loaded={},e=Number.parseInt(e),photosApp.slideshow.items.start=e,photosApp.slideshow.items.current=e,photosApp.slideshow.items.all=t,photosApp.slideshow.setNextPrev();try{await photosApp.slideshow.initElements()}catch(e){console.error(e)}return photosApp.slideshow.setTransitionTiming(),addClassEl("slideshow","app"),photosApp.slideshow.doRotation(),n()}))},setTransitionTiming:function(){let e=photosApp.rotate.getRotateTiming(photosApp.slideshow.items.all.length);photosApp.style.setSlideshowTransition(e)},exitSlideShow:async function(){if(photosApp.app.is_fullscreen)try{await photosApp.fullscreen.slidesInit(photosApp.slideshow.items.current)}catch(e){}else photosApp.rotate.viewInt++,photosApp.rotate.updateTime();removeClassEl("slideshow","app"),photosApp.slideshow.setInteract(!1),photosApp.slideshow.in_slideshow=!1},events:function(){let e=document.getElementById("slideshow"),t=e.querySelector(".exit"),n=e.querySelector(".pause"),o=e.querySelector(".play"),r=e.querySelector(".control.prev-item"),s=e.querySelector(".control.next-item");t.addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.slideshow.exitSlideShow()})),n.addEventListener(click_handler,(function(e){if(photosApp.slideshow.pause_play.last&&timeNow(!0)-photosApp.slideshow.pause_play.last<photosApp.slideshow.pause_play.threshold)return!1;photosApp.slideshow.pause_play.last=timeNow(!0),photosApp.slideshow.setPaused(!0),removeClassEl("active",this),addClassEl("active",o),photosApp.slideshow.setSpinner(!1)})),o.addEventListener(click_handler,(function(e){if(photosApp.slideshow.pause_play.last&&timeNow(!0)-photosApp.slideshow.pause_play.last<photosApp.slideshow.pause_play.threshold)return!1;photosApp.slideshow.pause_play.last=timeNow(!0),photosApp.slideshow.setPaused(!1),removeClassEl("active",this),addClassEl("active",n),photosApp.slideshow.doRotation()})),r.addEventListener(click_handler,(async function(t){if(!photosApp.slideshow.paused&&photosApp.slideshow.change_ip)return!1;if(!photosApp.slideshow.items.prev)return!1;photosApp.slideshow.setChange(!0),photosApp.slideshow.current_int++;let n=e.querySelector(".prev-item"),o=e.querySelector(".current-item"),r=e.querySelector(".next-item");addClassEl("show",n),removeClassEl("prev-item",n),addClassEl("current-item",n),removeClassEl("show",o),removeClassEl("change",o),removeClassEl("current-item",o),addClassEl("next-item",o),removeClassEl("next-item",r),addClassEl("prev-item",r),photosApp.slideshow.items.current=photosApp.slideshow.items.prev,photosApp.slideshow.setNextPrev();let s=photosApp.items.getItem(photosApp.slideshow.items.prev);try{await photosApp.slideshow.setElement(r,s)}catch(t){console.error(t)}setTimeout((function(){photosApp.slideshow.setChange(!1),photosApp.slideshow.in_slideshow&&!photosApp.slideshow.paused&&photosApp.slideshow.doRotation()}),0)})),s.addEventListener(click_handler,(async function(t){return!(!photosApp.slideshow.paused&&photosApp.slideshow.change_ip)&&(!!photosApp.slideshow.items.next&&(photosApp.slideshow.current_int++,photosApp.slideshow.setChange(!0),void requestAnimationFrame((async function(){let t=e.querySelector(".prev-item"),n=e.querySelector(".current-item"),o=e.querySelector(".next-item");addClassEl("show",o),removeClassEl("next-item",o),addClassEl("current-item",o),removeClassEl("show",n),removeClassEl("change",n),removeClassEl("current-item",n),addClassEl("prev-item",n),removeClassEl("prev-item",t),addClassEl("next-item",t),photosApp.slideshow.items.current=photosApp.slideshow.items.next,photosApp.slideshow.setNextPrev();let r=photosApp.items.getItem(photosApp.slideshow.items.next);try{await photosApp.slideshow.setElement(t,r)}catch(e){console.error(e)}setTimeout((function(){photosApp.slideshow.setChange(!1),photosApp.slideshow.in_slideshow&&!photosApp.slideshow.paused&&photosApp.slideshow.doRotation()}),0)}))))}))},setPaused:function(e){if(photosApp.slideshow.paused=e,e){addClassEl("paused",photosApp.app.els.slideshow),photosApp.app.els.slideshow.querySelector(".current-item.show.change")&&fireClick(photosApp.app.els.slideshow.querySelector(".control.next-item"))}else removeClassEl("paused",photosApp.app.els.slideshow)},setNextPrev:function(){if(1===photosApp.slideshow.items.all.length)photosApp.slideshow.items.prev=null,photosApp.slideshow.items.next=null;else if(2===photosApp.slideshow.items.all.length){0===photosApp.slideshow.items.all.indexOf(photosApp.slideshow.items.current)?(photosApp.slideshow.items.prev=photosApp.slideshow.items.all[1],photosApp.slideshow.items.next=photosApp.slideshow.items.all[1]):(photosApp.slideshow.items.prev=photosApp.slideshow.items.all[0],photosApp.slideshow.items.next=photosApp.slideshow.items.all[0])}else{let e=photosApp.slideshow.items.all.indexOf(photosApp.slideshow.items.current);photosApp.slideshow.items.prev=0===e?photosApp.slideshow.items.all[photosApp.slideshow.items.all.length-1]:photosApp.slideshow.items.all[e-1],e===photosApp.slideshow.items.all.length-1?photosApp.slideshow.items.next=photosApp.slideshow.items.all[0]:photosApp.slideshow.items.next=photosApp.slideshow.items.all[e+1]}},initElements:()=>new Promise((async(e,t)=>{let n=document.getElementById("slideshow"),o=n.querySelector(".prev-item"),r=n.querySelector(".current-item"),s=n.querySelector(".next-item");addClassEl("show",r),r.style.transition="initial !important",requestAnimationFrame((function(){r.style.removeProperty("transition")}));let i=photosApp.items.getItem(photosApp.slideshow.items.prev),a=photosApp.items.getItem(photosApp.slideshow.items.current),l=photosApp.items.getItem(photosApp.slideshow.items.next);try{await photosApp.slideshow.setElement(o,i)}catch(e){console.error(e)}try{await photosApp.slideshow.setElement(r,a)}catch(e){console.error(e)}try{await photosApp.slideshow.setElement(s,l)}catch(e){console.error(e)}e()})),setElement:(e,t)=>new Promise((async(n,o)=>{let r,s;if(!t)return n();if(t.is_photo){try{s=(await photosApp.image.getSources(t.id,null,!0)).local}catch(e){return o(e)}let e=photosApp.fullscreen.getImageCalc(t);e.max_height||devConsole("No height, ",t),r=`<div class="image-container">\n                                            <div data-src="${s}" class="${photosApp.slideshow.img_class}" id="slideshow-${t.id}" \n                                                data-item-id="${t.id}" \n                                                style="transform: translate(${e.transform_left}px, ${e.transform_top}px) scale(${e.scale}); \n                                                width: ${e.max_width}px; height: ${e.max_height}px;"></div>\n                                      </div>\n                                    `}if(e.innerHTML=r,t.is_photo)try{await fetchImage(s),e.querySelector(`.${photosApp.slideshow.img_class}`).style.backgroundImage=`url('${s}')`,photosApp.slideshow.items.loaded[t.id]=!0}catch(e){}n()})),doRotation:async function(){let e=photosApp.items.getItem(photosApp.slideshow.items.current);if(!photosApp.slideshow.in_slideshow||photosApp.slideshow.paused)return;if(!e)return void console.log("No current item");let t=document.getElementById("slideshow"),n=t.querySelector(".prev-item"),o=t.querySelector(".current-item"),r=t.querySelector(".next-item"),s=photosApp.slideshow.current_int,i=photosApp.rotate.getRotateTiming(photosApp.slideshow.items.all.length);if(await timeoutAwait(null,i.screen),!photosApp.slideshow.items.next||!photosApp.slideshow.in_slideshow||photosApp.slideshow.paused||s!==photosApp.slideshow.current_int)return;if(addClassEl("show",r),addClassEl("change",o),await rafAwait(),await timeoutAwait(null,i.transition),!photosApp.slideshow.in_slideshow||photosApp.slideshow.paused||s!==photosApp.slideshow.current_int)return;removeClassEl("show",o),removeClassEl("change",o),removeClassEl("current-item",o),addClassEl("prev-item",o),removeClassEl("next-item",r),addClassEl("current-item",r),removeClassEl("prev-item",n),addClassEl("next-item",n),photosApp.slideshow.items.current=photosApp.slideshow.items.next,photosApp.slideshow.setNextPrev();let a=photosApp.items.getItem(photosApp.slideshow.items.next);await rafAwait();try{await photosApp.slideshow.setElement(n,a)}catch(e){console.error(e)}(photosApp.slideshow.in_slideshow&&!photosApp.slideshow.paused||s!==photosApp.slideshow.current_int)&&photosApp.slideshow.doRotation()},setSpinner:function(e){if(e)addClassEl("show","slideshow-spinner");else{removeClassEl("show","slideshow-spinner");for(let e of photosApp.slideshow.spinnerTimeouts)clearTimeout(e)}},setChange:function(e){photosApp.slideshow.change_ip=e},togglePlayPause:function(){let e=document.getElementById("slideshow"),t=e.querySelector(".pause"),n=e.querySelector(".play");photosApp.slideshow.paused?fireClick(n):fireClick(t)},setHtml:function(){return document.getElementById("slideshow").querySelector(".items").innerHTML='<div class="item prev-item"></div>\n                                    <div class="item current-item"></div>\n                                    <div class="item next-item"></div>',!1},setInteract:function(e,t){if(t&&(e=!photosApp.app.els.slideshow.classList.contains("interact")),e){let e="setInteractTs";photosApp.slideshow[e]||(photosApp.slideshow[e]=[]);for(let t of photosApp.slideshow[e])clearTimeout(t);let t=setTimeout((function(){addClassEl("interact",photosApp.app.els.slideshow)}),100);photosApp.slideshow[e].push(t)}else removeClassEl("interact",photosApp.app.els.slideshow)},onResize:function(){if(!photosApp.slideshow.in_slideshow)return!1;!function(){let e=photosApp.app.els.slideshow.getElementsByClassName("item");for(let t=0;t<e.length;t++){let n=e[t],o=n.querySelector(".slideshow-image").getAttribute("data-item-id"),r=n.querySelector(`.${photosApp.slideshow.img_class}`);if(r){let e=photosApp.fullscreen.getImageCalc(o);r.style.transform=`translate(${e.transform_left}px, ${e.transform_top}px) scale(${e.scale})`,r.style.width=`${e.max_width}px`,r.style.height=`${e.max_height}px`}}}()}},photosApp.fullscreen={default_transition:333,open_image_transition:333,spinnerTimeouts:[],init_finished:!1,img_class:"fullscreen-image",events_class:"slide-events",minimumDetectSwipe:30,interactTimeout:1500,maxItems:10,num_slides_buffer:3,touchstartx:null,touchstarty:null,touchstart_int:-1,wrapperEl:null,currentSlide:null,currentImage:null,currentBackground:null,items:null,side_scale_ratio:.2,controls:{transition:200},item_ids:{list:[],slides:[],current:null},dimensions:{max:2160,maxDefault:2160},exit:{preventTimeout:150,in_progress:!1,init_called:!1,transition_ip:!1,startX:null,startY:null,currentY:null,swipeDirection:null,exit_duration:400,change_threshold:{px:350,percent:.5,speed:.5},startThreshold:30},menu:{timeouts:[]},pan:{transition_duration:200,in_progress:!1,transition_class:"pan-transition",startX:null,startY:null,touch_events:[],momentum:{events_ms_threshold:100,transition_duration:500,max_events:10,deceleration_ratio:.1}},slide:{in_progress:!1,transition_duration:300,events_timeout:300,transition_ip:!1,change_ip:!1,direction:null,current_wrapper_translate:null,tmp_wrapper_translate:null,current_slide_translate:null,min_translate:null,max_translate:null,events_ms_threshold:333,change_int:-1,change_queue:[],change_threshold:{px:350,percent:.5,speed:.4},touch_events:[],allow:!0},zoom:{in_progress:!1,toggle_ip:!1,scale:{original:null,current:null,zoom_start:null,distance_start:null,startX:null,startY:null},timeout:500,maxDefault:3e3,maxPx:3e3,double_click_threshold:333,double_tap_threshold:100,last_click:null,pointers:{},transition_duration:350,scale_low_duration:250},scroll:{allow:!0},metadata:{ip:{deleteItem:{}}},mouse:{down:{active:!1}},open_image_url:null,background_change_ints:[],open_in_progress:!1,open:async function(e,t){if(photosApp.fullscreen.open_in_progress||photosApp.fullscreen.exit.in_progress)return devConsole({prevented_fullscreen_open:{open_in_progress:photosApp.fullscreen.open_in_progress,exit_in_progress:photosApp.fullscreen.exit.in_progress}}),!1;photosApp.app.els.fullscreen.style.removeProperty("display"),photosApp.fullscreen.setOpenInProgress(!0),photosApp.fullscreen.clearBackgroundInts(),e.preventDefault(),e.stopPropagation(),photosApp.app.is_fullscreen=!0,photosApp.fullscreen.initProps();const n=t.querySelectorAll("[class*='__image']");photosApp.fullscreen.wrapperEl=photosApp.app.els.fullscreen.querySelector(".slides-wrapper");let o=null;for(let e=0;e<n.length;e++){let t=n[e],r=t.classList.value;if(r.indexOf("show")>-1){if(-1===r.indexOf("fade"))o=t;else{let e=!1;timeNow(!0)-Number.parseInt(t.getAttribute("fade-start"))>photosApp.time.intervals.transition/2&&(e=!0),o=e?t===n[0]?n[1]:n[0]:t===n[0]?n[0]:n[1]}break}}o||(o=t.querySelector(".show"),o||(o=t.querySelector('[class*="image"]')));let r,s=o.getAttribute("data-item-id"),i=photosApp.items.local.items[s];if(!i||!(s in photosApp.items.local.variants))return photosApp.fullscreen.setOpenInProgress(!1),photosApp.fullscreen.exitFullscreen();try{let e=i.width,t=i.height,n=e/t,s=urlFromBackgroundImage(o);photosApp.fullscreen.open_image_url=s,r=document.getElementById("image-transition"),r.removeAttribute("style"),removeClassEl("hide-image",r),r.style.background=`url('${s}')`;let a=o.getBoundingClientRect();r.style.width=a.width+"px",r.style.height=a.height+"px",r.style.top=a.top+"px",r.style.left=a.left+"px",r.style.backgroundSize="contain",r.style.backgroundRepeat="no-repeat",r.style.backgroundPosition="center";let l,p=photosApp.style.screen.width.current,c=photosApp.style.screen.height.current,u=p/c,d=c/a.height,h=p/a.width;l=e>t?n>u?h:d*n:n>u?h/n:d;let f=c/2,m=p/2-a.left-a.width/2,g=f-a.top-a.height/2;r.style.transition=`${photosApp.fullscreen.open_image_transition}ms transform`,photosApp.app.els.fullscreen.style.transition=`${photosApp.fullscreen.open_image_transition}ms opacity, ${photosApp.fullscreen.open_image_transition}ms visibility`,await rafAwait((function(){addClassEl("black",document.body),addClassEl("fullscreen","app"),r.style.transform=`translate3d(${m}px, ${g}px, 0) scale(${l})`})),await timeoutAwait(null,photosApp.fullscreen.open_image_transition+16)}catch(e){}photosApp.app.hideDateMenu(),photosApp.fullscreen.setInteract(!1),photosApp.rotate.viewInt++;try{await photosApp.fullscreen.setItems()}catch(e){console.error(e)}photosApp.fullscreen.wrapperEl.innerHTML="",photosApp.fullscreen.item_ids.slides=[],photosApp.fullscreen.item_ids.current=null,photosApp.app.preventScroll(!0);try{await photosApp.fullscreen.slidesInit(s)}catch(e){console.error(e)}addClassEl("active",photosApp.app.els.fullscreen),photosApp.style.removeFullscreenSheet(),photosApp.style.addFullscreenSheet(),requestAnimationFrame((function(){addClassEl("none","main"),setTimeout((function(){addClassEl("hide-image",r),changeElClass(photosApp.app.els.fullscreen,"show-image",!0),photosApp.fullscreen.events(),photosApp.fullscreen.init_finished=!0,photosApp.fullscreen.setOpenInProgress(!1)}),50)}))},initProps:function(){photosApp.fullscreen.init_finished=!1,photosApp.fullscreen.mouse.down.active=!1,photosApp.fullscreen.exit.in_progress=!1,photosApp.fullscreen.exit.transition_ip=!1,photosApp.fullscreen.pan.in_progress=!1,photosApp.fullscreen.slide.in_progress=!1,photosApp.fullscreen.slide.transition_ip=!1,photosApp.fullscreen.zoom.in_progress=!1,photosApp.fullscreen.slide.change_queue=[],photosApp.fullscreen.touchstartx=null,photosApp.fullscreen.touchstarty=null,photosApp.fullscreen.allowSlide(!0)},slidesInit:async function(e){return new Promise((async(t,n)=>{e=Number.parseInt(e);try{await photosApp.fullscreen.createSlides(e)}catch(e){console.error(e)}photosApp.fullscreen.slideChangeLogic(e),t()}))},slideChangeLogic:async function(e,t,n){return new Promise((async(o,r)=>{e=Number.parseInt(e),photosApp.fullscreen.item_ids.current=e,photosApp.view.fullscreenActions(e),photosApp.fullscreen.setCurrentEls(e);let s=0,i=0,a=photosApp.fullscreen.item_ids.slides.length,l=[];if(t){let t=photosApp.fullscreen.item_ids.slides.indexOf(e);if("l"===n){t<=photosApp.fullscreen.num_slides_buffer&&(s=photosApp.fullscreen.num_slides_buffer-t+1),s>0&&await photosApp.fullscreen.createSlides(e,s);let n=photosApp.fullscreen.wrapperEl.getElementsByClassName("slide"),o=n.length-a,r=n.length-1-(t+o);r>photosApp.fullscreen.num_slides_buffer&&(i=r-photosApp.fullscreen.num_slides_buffer);let p=n.length-1;for(let e=0;e<i;e++){let e=photosApp.fullscreen.item_ids.slides[p];l.push(e);let t=photosApp.fullscreen.wrapperEl.querySelector("#slide-"+e);await rafAwait((function(){removeMediaSrc(t.querySelector(`.${photosApp.fullscreen.img_class}`)),removeMediaSrc(t.querySelector(".fullscreen-background")),t.parentNode.removeChild(t),p--}))}for(const e in l)await rafAwait((function(){let t=l[e];photosApp.fullscreen.item_ids.slides.splice(photosApp.fullscreen.item_ids.slides.indexOf(t),1)}))}else if("r"===n){a-t-1<=photosApp.fullscreen.num_slides_buffer&&(s=photosApp.fullscreen.num_slides_buffer-(a-t)),s>0&&await photosApp.fullscreen.createSlides(e,null,s);let n=t;n>photosApp.fullscreen.num_slides_buffer&&(i=n-photosApp.fullscreen.num_slides_buffer);let o=0;for(let e=0;e<i;e++){let e=photosApp.fullscreen.item_ids.slides[o];l.push(e);let t=photosApp.fullscreen.wrapperEl.querySelector("#slide-"+e);await rafAwait((function(){removeMediaSrc(t.querySelector(`.${photosApp.fullscreen.img_class}`)),removeMediaSrc(t.querySelector(".fullscreen-background")),t.parentNode.removeChild(t),i--,o++}))}for(const e in l)await rafAwait((function(){let t=l[e];photosApp.fullscreen.item_ids.slides.splice(photosApp.fullscreen.item_ids.slides.indexOf(t),1)}))}}photosApp.fullscreen.updateTransforms(e),s>0&&(devConsole("new slides added"),photosApp.fullscreen.newSlideEvents()),photosApp.fullscreen.activateDeactivateSlideButtons(),o()}))},setCurrentEls:function(e){photosApp.fullscreen.setCurrentSlide(e),photosApp.fullscreen.setCurrentImage(),photosApp.fullscreen.setCurrentBackground()},setItems:async function(){return new Promise((async(e,t)=>{let n;photosApp.fullscreen.item_ids.list=[],photosApp.fullscreen.items=[];try{n=(await axios.get(`${photosApp.backend.host}fullscreen/items`)).data}catch(e){return t(e)}for(let e of n)e in photosApp.items.local.items&&(photosApp.fullscreen.item_ids.list.push(e),photosApp.fullscreen.items.push(photosApp.items.local.items[e]));e()}))},createSlides(e,t,n){function o(t,n){return new Promise((async(o,r)=>{for(let o in t){let s,i,a=t[o],l=null;if(a.is_photo){try{i=(await photosApp.image.getSources(a.id,null)).local}catch(e){return r(e)}a.id===e&&photosApp.fullscreen.open_image_url&&(i=photosApp.fullscreen.open_image_url,photosApp.fullscreen.open_image_url=null);try{s=(await photosApp.image.getSources(a.id,null,!0)).local}catch(e){return r(e)}let t=photosApp.fullscreen.getImageCalc(a);t.max_height||devConsole("No height, ",a),l=`<div class="image-container">\n                                            <div data-src="${s}" class="${photosApp.fullscreen.img_class}" id="image-${a.id}" \n                                                data-item-id="${a.id}" data-scale-original="${t.scale}" data-scale="${t.scale}" data-scale-max="${t.max_scale}"\n                                                data-x-original="${t.transform_left}" data-y-original="${t.transform_top}"\n                                                data-x="${t.transform_left}" data-y="${t.transform_top}"\n                                                style="transform: translate(${t.transform_left}px, ${t.transform_top}px) scale(${t.scale}); \n                                                width: ${t.max_width}px; height: ${t.max_height}px;"></div>\n                                            <div\n                                                class="fullscreen-background" \n                                                data-src="${i}"\n                                                style="\n                                                background-image: url('${i}'); \n                                                transform: scale(1);\n                                                ">\n                                            </div>\n                                      </div>\n                                    `}n.push(`<div id="slide-${a.id}" class="slide" data-item-id="${a.id}" data-item-index="${photosApp.fullscreen.item_ids.list.indexOf(a.id)}">${l}</div>`)}o()}))}return new Promise((async(r,s)=>{let i=photosApp.fullscreen.item_ids.list.indexOf(e);if(i<0)return r();let a=[],l=[],p=photosApp.fullscreen.items[i],c=[],u=[],d=photosApp.fullscreen.item_ids.list.length,h=photosApp.fullscreen.maxItems;t?h=t:n&&(h=n);let f=Math.floor(h/2),m=h-f;t?(f=t,m=0):n&&(m=n,f=0);let g=i-f;g<0&&(g=0);let v=i+1;for(;f>0&&g>=0&&c.length<=f&&g<i;){let e=photosApp.fullscreen.items[g];e&&-1===photosApp.fullscreen.item_ids.slides.indexOf(e.id)&&c.push(e),g++}for(;m>0&&v!==i&&u.length<=m&&v<=d-1;){let e=photosApp.fullscreen.items[v];e&&-1===photosApp.fullscreen.item_ids.slides.indexOf(e.id)&&u.push(e),v++}t||n||-1===photosApp.fullscreen.item_ids.slides.indexOf(p.id)&&c.push(p);for(let e=c.length-1;e>=0;e--)photosApp.fullscreen.item_ids.slides.unshift(c[e].id);for(let e of u)photosApp.fullscreen.item_ids.slides.push(e.id);try{await o(c,a),await o(u,l)}catch(e){return s(e)}let y=photosApp.fullscreen.wrapperEl;for(let e=a.length-1;e>=0;e--)y.insertAdjacentHTML("afterbegin",a[e]);for(let e of l)y.insertAdjacentHTML("beforeend",e);r()}))},events:function(){photosApp.fullscreen.preventScrollEvents(),photosApp.fullscreen.slideEvents(),photosApp.fullscreen.navigationEvents(),photosApp.fullscreen.controlEvents(),photosApp.fullscreen.exitEvents(),photosApp.fullscreen.newSlideEvents()},newSlideEvents:function(){photosApp.app.addTapEventListeners(photosApp.app.els.fullscreen),photosApp.image.fullscreenObserve()},allowSlide:function(e){if(e&&photosApp.fullscreen.mouse.down.active)return!1;photosApp.fullscreen.slide.allow=e},preventExitEvents(e){let t={touches:e.touches.length>=2&&!photosApp.fullscreen.exit.in_progress&&!photosApp.fullscreen.exit.transition_ip,zoom_ip:photosApp.fullscreen.zoom.in_progress,pan_ip:photosApp.fullscreen.pan.in_progress,zoom_toggle:photosApp.fullscreen.zoom.toggle_ip,slide_ip:photosApp.fullscreen.slide.in_progress,slide_change_ip:photosApp.fullscreen.slide.change_ip,disable_slide:!photosApp.fullscreen.slide.allow},n=!0;for(let e in t){t[e]&&(n=!1)}return e.target.closest(".context__menu")&&(n=!1),!n},exitEvents:function(){let e=photosApp.app.els.fullscreen.querySelector(".slides-container");if(e.getAttribute("_listener"))return;e.setAttribute("_listener",!0);e.addEventListener("touchstart",(function(e){devConsole("exit touch start"),photosApp.fullscreen.exit.touch_events=[],photosApp.fullscreen.exit.startX=e.touches[0].pageX,photosApp.fullscreen.exit.startY=e.touches[0].pageY}));e.addEventListener("touchmove",(function(t){if(photosApp.fullscreen.preventExitEvents(t))return!1;let n=t.touches[0].pageX,o=t.touches[0].pageY;photosApp.fullscreen.exit.touch_events.push({x:n,y:o,t:timeNow(!0)});let r=photosApp.fullscreen.exit.startX-n,s=o-photosApp.fullscreen.exit.startY;photosApp.fullscreen.exit.swipeDirection=s>0?"d":"u";let i=!1;if((photosApp.fullscreen.exit.in_progress||Math.abs(s)>Math.abs(r)&&Math.abs(s)>=photosApp.fullscreen.minimumDetectSwipe)&&(i=!0),i){photosApp.fullscreen.exit.in_progress||addClassEl("exit-in-progress",photosApp.app.els.fullscreen),photosApp.fullscreen.exit.in_progress=!0,addClassEl("transition-transform-0",photosApp.app.els.fullscreen),removeClassEl("none","main"),removeClassEl("black",document.body);let t=1-Math.abs(s)/photosApp.style.screen.height.current;e.style.transform=`translateY(${s}px)`,e.setAttribute("data-y",s),setElOpacity(photosApp.app.els.fullscreen,t)}}));let t=async function(t){if(devConsole("exit touch end"),!photosApp.fullscreen.exit.in_progress)return!1;if(photosApp.fullscreen.preventExitEvents(t))return devConsole("Exit end prevented"),!1;e.style.transition=`${photosApp.fullscreen.exit.exit_duration}ms transform`,photosApp.fullscreen.exit.transition_ip=!0,removeClassEl("transition-transform-0",photosApp.app.els.fullscreen);let n=[],o=timeNow(!0);for(let e=0;e<photosApp.fullscreen.exit.touch_events.length;e++){let t=photosApp.fullscreen.exit.touch_events[e];o-t.t<photosApp.fullscreen.slide.events_ms_threshold&&n.push(t)}let r=0;if(n.length>1){let e=n[0],t=n[n.length-1];r=(t.y-e.y)/(t.t-e.t)}Number.isNaN(r)&&(r=0);let s=function(e,t){if(Math.abs(e)<.05||!Number.isFinite(e))return t;let n=photosApp.fullscreen.pan.momentum.deceleration_ratio,o=t,r=o;for(;Math.abs(e)>=.05;){if(o+=24*e,Number.isNaN(o)||!Number.isFinite(e)||!Number.isFinite(o)){o=r;break}e*=1-n}return o}(r,Number.parseInt(e.getAttribute("data-y"))),i=photosApp.style.screen.height.current,a=Math.abs(s)/i,l=!1;(Math.abs(r)>photosApp.fullscreen.exit.change_threshold.speed||Math.abs(s)>=photosApp.fullscreen.exit.change_threshold.px||a>=photosApp.fullscreen.exit.change_threshold.percent)&&(l=!0),l?photosApp.fullscreen.exitFullscreen(r):(addClassEl("none","main"),addClassEl("black",document.body),setElOpacity(photosApp.app.els.fullscreen,"initial"),e.style.transform="translateY(0)",e.setAttribute("data-y",0),setTimeout((function(){e.style.removeProperty("transition")}),photosApp.fullscreen.exit.exit_duration)),setTimeout((function(){removeClassEl("exit-in-progress",photosApp.app.els.fullscreen),photosApp.fullscreen.exit.in_progress=!1,photosApp.fullscreen.exit.transition_ip=!1}),photosApp.fullscreen.exit.exit_duration)};e.addEventListener("touchend",t),e.addEventListener("touchcancel",t)},exitFullscreen:function(e){if(photosApp.fullscreen.exit.in_progress||photosApp.fullscreen.open_in_progress)return!1;photosApp.fullscreen.exit.in_progress=!0;let t=photosApp.app.els.fullscreen.querySelector(".action.active");t&&removeClassEl("active",t),setElOpacity(photosApp.app.els.fullscreen,0),removeClassEl("none","main"),removeClassEl("black",document.body),photosApp.style.setStyles(),photosApp.app.els.fullscreen.querySelector(".item-actions").removeAttribute("data-item-id");let n=photosApp.app.els.fullscreen.querySelector(".slides-container");n.style.transform=e&&e>0?`translateY(${photosApp.style.screen.height.current}px)`:`translateY(${-photosApp.style.screen.height.current}px)`,n.style.removeProperty("transform"),n.style.removeProperty("transition"),removeClassEl("active",photosApp.app.els.fullscreen),removeClassEl("fullscreen","app"),photosApp.app.preventScroll(!1),photosApp.fullscreen.setInteract(!1),photosApp.fullscreen.setSpinner(!1),photosApp.app.is_fullscreen=!1,photosApp.app.els.fullscreen.style.removeProperty("opacity"),setTimeout((function(){photosApp.fullscreen.exit.in_progress=!1,photosApp.fullscreen.clearBackgroundInts(),photosApp.rotate.updateTime(),photosApp.app.els.fullscreen.style.display="none"}),photosApp.navigation.transition)},onResize:function(){if(!photosApp.app.is_fullscreen)return!1;let e="fullscreen_resize_ts";function t(){photosApp.fullscreen.updateTransforms(photosApp.fullscreen.item_ids.current),photosApp.style.removeFullscreenSheet(),photosApp.style.addFullscreenSheet();let e,t,n=photosApp.app.els.fullscreen.getElementsByClassName("slide");photosApp.fullscreen.currentImage&&(e=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale")),t=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale-original")));for(let e=0;e<n.length;e++){let t,o=n[e],r=o.getAttribute("data-item-id"),s=o.querySelector(`.${photosApp.fullscreen.img_class}`);s&&(t=photosApp.fullscreen.getImageCalc(r),s.setAttribute("data-scale-max",t.max_scale),s.setAttribute("data-scale-original",t.scale),s.setAttribute("data-scale",t.scale),s.setAttribute("data-x-original",t.transform_left),s.setAttribute("data-x",t.transform_left),s.setAttribute("data-y-original",t.transform_top),s.setAttribute("data-y",t.transform_top),s.style.transform=`translate(${t.transform_left}px, ${t.transform_top}px) scale(${t.scale})`,s.style.width=`${t.max_width}px`,s.style.height=`${t.max_height}px`)}if(photosApp.fullscreen.currentImage){let n=photosApp.fullscreen.getImageCalc(photosApp.fullscreen.item_ids.current),o=e*(n.scale/t);o>n.max_scale&&(o=n.max_scale),photosApp.fullscreen.updateZoom(o,photosApp.style.screen.width.current/2,photosApp.style.screen.height.current/2)}}if(photosApp.fullscreen[e]||(photosApp.fullscreen[e]=[]),photosApp.fullscreen[e].length){for(let t=0;t<photosApp.fullscreen[e].length;t++)clearTimeout(photosApp.fullscreen[e][t]);photosApp.fullscreen[e]=[];let n=setTimeout((function(){t()}),100);photosApp.fullscreen[e].push(n)}else t()},getActiveSlide:function(){return photosApp.fullscreen.currentSlide},setSpinner:function(e){if(e)addClassEl("show","fullscreen-spinner");else{removeClassEl("show","fullscreen-spinner");for(let e of photosApp.fullscreen.spinnerTimeouts)clearTimeout(e)}},deleteLogic:async function(e,t){let n=e;if(photosApp.fullscreen.metadata.ip[`${t.ip}Item`][n])return!1;let o=photosApp.items.local.items[e];photosApp.app.setSpinner(photosApp.app.els.fullscreen,!0),photosApp.fullscreen.metadata.ip[`${t.ip}Item`][n]=!0,o[t.field]=t.value;try{await photosApp.items.updateItem(o,t.field);let e=photosApp.fullscreen.currentSlide,r=photosApp.fullscreen.item_ids.current,s=Number.parseInt(e.getAttribute("data-item-index")),i=photosApp.fullscreen.item_ids.list[s+1],a=photosApp.fullscreen.item_ids.list[s-1],l=document.getElementById("slide-"+i),p=document.getElementById("slide-"+a);if(l||p)l?await photosApp.fullscreen.changeSlide("r"):p&&await photosApp.fullscreen.changeSlide("l");else try{return await photosApp.view.setupTimeViews(!0),photosApp.app.setSpinner(photosApp.app.els.fullscreen,!1),photosApp.fullscreen.metadata.ip[`${t.ip}Item`][n]=!1,photosApp.fullscreen.exitFullscreen()}catch(e){}photosApp.app.setSpinner(photosApp.app.els.fullscreen,!1),requestAnimationFrame((async function(){e.parentNode.removeChild(e),photosApp.fullscreen.item_ids.slides.splice(photosApp.fullscreen.item_ids.slides.indexOf(r),1),await photosApp.fullscreen.setItems(),photosApp.fullscreen.activateDeactivateSlideButtons(),requestAnimationFrame((async function(){try{await photosApp.view.setupTimeViews(!0)}catch(e){}}))}))}catch(e){console.error(e)}photosApp.fullscreen.metadata.ip[`${t.ip}Item`][n]=!1},getImageCalc(e){let t,n,o,r,s;return"string"!=typeof e&&"number"!=typeof e||(e=photosApp.items.local.items[e]),s=e.width/e.height,s>photosApp.style.screen.width.current/photosApp.style.screen.height.current?(t=Math.min(photosApp.fullscreen.dimensions.max,e.width),n=t/s,o=photosApp.style.screen.width.current/t,r=photosApp.fullscreen.zoom.maxPx/t):(n=Math.min(photosApp.fullscreen.dimensions.max,e.height),t=n*s,o=photosApp.style.screen.height.current/n,r=photosApp.fullscreen.zoom.maxPx/n),{scale:o,max_scale:r,max_width:t,max_height:n,transform_left:(photosApp.style.screen.width.current-t*o)/2,transform_top:(photosApp.style.screen.height.current-n*o)/2}},updateTransforms:function(e){e=Number.parseInt(e);let t=photosApp.style.screen.width.current,n=photosApp.fullscreen.item_ids.slides.length,o=t*n,r=photosApp.fullscreen.wrapperEl,s=r.getElementsByClassName("slide"),i=photosApp.fullscreen.item_ids.slides.indexOf(e)*t;photosApp.fullscreen.slide.tmp_wrapper_translate=photosApp.fullscreen.slide.current_wrapper_translate=-i,r.style.width=o+"px",r.style.height=photosApp.style.screen.height.current+"px",r.style.transform=`translate3d(-${i}px, 0, 0)`;let a=photosApp.fullscreen.slide.max_translate=0;for(let n=0;n<s.length;n++){let o=s[n];Number.parseInt(o.getAttribute("data-item-id"))===e&&(photosApp.fullscreen.slide.current_slide_translate=-a),o.setAttribute("data-x",a),o.style.transform=`translate3d(${a}px, 0, 0)`,a+=t}photosApp.fullscreen.slide.min_translate=-(n-1)*t},getDistanceBetweenTouches:function(e){if(e.touches.length<2)return null;let t=e.touches[0].pageX,n=e.touches[0].pageY,o=e.touches[1].pageX,r=e.touches[1].pageY;return Math.sqrt(Math.pow(o-t,2)+Math.pow(r-n,2))},preventScrollEvents:function(){let e=photosApp.app.els.fullscreen;e._scroll_listener||(e._scroll_listener=!0,e.addEventListener("scroll",(function(e){e.preventDefault()})),e.addEventListener("touchmove",(function(e){e.preventDefault()})))},slideEvents(){function e(e,t,n){if(devConsole("Click logic"),photosApp.fullscreen.exit.in_progress||photosApp.fullscreen.exit.transition_ip||photosApp.fullscreen.pan.in_progress||photosApp.fullscreen.slide.in_progress||photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_ip||!photosApp.fullscreen.slide.allow);else if(photosApp.fullscreen.zoom.last_click&&timeNow(!0)-photosApp.fullscreen.zoom.last_click<photosApp.fullscreen.zoom.double_click_threshold||n){let n=["pan-transition","pan-in-progress",photosApp.fullscreen.events_class];for(let e of n)removeClassEl(e,photosApp.app.els.fullscreen);photosApp.fullscreen.toggleZoom(e,t)}photosApp.fullscreen.zoom.last_click=timeNow(!0)}function t(t){let n=t.currentTarget?t.currentTarget:t.target,o={not_init_finished:!photosApp.fullscreen.init_finished,toggle_ip:photosApp.fullscreen.zoom.toggle_ip,exit_in_progress:photosApp.fullscreen.exit.in_progress,exit_transition_ip:photosApp.fullscreen.exit.transition_ip,not_slide_allow:!photosApp.fullscreen.slide.allow};for(let e in o){if(o[e])return devConsole({touch_start_prevented:e}),!1}if(photosApp.fullscreen.touchstart_int++,n.closest(".top-bar"))return photosApp.fullscreen.allowSlide(!1);requestAnimationFrame((function(){if(photosApp.fullscreen.currentImage&&t.touches&&t.touches.length>=2){if(photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_ip||photosApp.fullscreen.slide.in_progress)return!1;photosApp.fullscreen.setZoomInProgress(!0),photosApp.fullscreen.zoom.scale.zoom_start=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale")),photosApp.fullscreen.zoom.scale.distance_start=photosApp.fullscreen.getDistanceBetweenTouches(t),photosApp.fullscreen.zoom.scale.startX=(t.touches[0].pageX+t.touches[1].pageX)/2,photosApp.fullscreen.zoom.scale.startY=(t.touches[0].pageY+t.touches[1].pageY)/2,photosApp.fullscreen.setImageEventsClass(!0),photosApp.fullscreen.setRecentlyZoomedClass(!0)}else photosApp.fullscreen.touchstartx=getEventXFirst(t),photosApp.fullscreen.touchstarty=getEventYFirst(t),photosApp.fullscreen.currentImage&&(photosApp.fullscreen.pan.startX=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-x")),photosApp.fullscreen.pan.startY=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-y"))),photosApp.fullscreen.pan.touch_events=[],photosApp.fullscreen.slide.touch_events=[],is_touch_device()&&e(photosApp.fullscreen.touchstartx,photosApp.fullscreen.touchstarty)}))}let n=photosApp.app.els.fullscreen.querySelector(".slides-wrapper");if(!n._zoom_listener){function o(e,t){photosApp.fullscreen.slide.touch_events.push({x:e,y:t,t:timeNow(!0)});let n=photosApp.fullscreen.wrapperEl,o=e-photosApp.fullscreen.touchstartx,r=photosApp.fullscreen.slide.current_wrapper_translate+o;photosApp.fullscreen.slide.tmp_wrapper_translate=r,n.style.transform=`translate3d(${r}px, 0, 0)`}function r(e){let t=getEventXFirst(e),n=getEventYFirst(e);if(Math.max(Math.abs(t),Math.abs(n))>=photosApp.fullscreen.minimumDetectSwipe&&photosApp.fullscreen.setShowImage(!1),requestAnimationFrame((function(){photosApp.fullscreen.setShowImage(!1)})),photosApp.fullscreen.slide.in_progress){if(photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_ip)return;o(t,n)}else if(photosApp.fullscreen.currentImage&&e.touches&&e.touches.length>=2){if(photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_ip)return!1;let t=photosApp.fullscreen.getDistanceBetweenTouches(e);if(null===t)return;requestAnimationFrame((function(){let e=photosApp.fullscreen.zoom.scale.zoom_start,n=e+(t-photosApp.fullscreen.zoom.scale.distance_start)/photosApp.fullscreen.zoom.scale.distance_start*e,o=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale-original")),r=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale-max"));n>r&&(n=r-1+Math.pow(n-r+1,.5)),n<o&&(n=o+1-Math.pow(o-n+1,.5)),photosApp.fullscreen.updateZoom(n,photosApp.fullscreen.zoom.scale.startX,photosApp.fullscreen.zoom.scale.startY)}))}else if(photosApp.fullscreen.currentImage&&photosApp.fullscreen.zoom.in_progress){if(photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_ip)return!1;photosApp.fullscreen.getRecentlyZoomed()||(photosApp.fullscreen.pan.touch_events.push({e:e,t:timeNow(!0)}),photosApp.fullscreen.setImageEventsClass(!0),requestAnimationFrame((function(){photosApp.fullscreen.setPanInProgress(!0),photosApp.fullscreen.updatePan(t,n)})))}else requestAnimationFrame((function(){if(!photosApp.fullscreen.exit.in_progress&&photosApp.fullscreen.slide.allow){Math.abs(t-photosApp.fullscreen.touchstartx)>=photosApp.fullscreen.minimumDetectSwipe&&(devConsole("setting slide in progress"),photosApp.fullscreen.slide.in_progress=!0,photosApp.fullscreen.zoom.last_click=null,o(getEventXFirst(e),getEventYFirst(e)))}}))}function s(e,t){return new Promise((async(n,o)=>{devConsole("on touch end");let r=photosApp.fullscreen.getPanBounds();function s(e,n,o,i,a){return new Promise(((l,p)=>{if(!i&&Math.abs(n)<.2&&Math.abs(o)<.2)return l();a||(a=0);let c=photosApp.fullscreen.currentImage,u=Number.parseFloat(c.getAttribute("data-x")),d=Number.parseFloat(c.getAttribute("data-y")),h=photosApp.fullscreen.pan.momentum.deceleration_ratio,f=c.getAttribute("data-scale");l=i||l;let m=u+24*n,g=d+24*o;if(Number.isNaN(m)||Number.isNaN(g))return l();n*=1-h,o*=1-h,requestAnimationFrame((function(){return t!==photosApp.fullscreen.touchstart_int?l():((m>r.x.l||m<r.x.r||g>r.y.t||g<r.y.b)&&a++,a>2?l():(c.style.transform=`translate3d(${m}px, ${g}px, 0) scale(${f})`,c.setAttribute("data-x",m),c.setAttribute("data-y",g),photosApp.fullscreen.setBackgroundTransformFromImage(),Math.abs(n)>=.05||Math.abs(o)>=.05?void s(e,n,o,l,a):l()))}))}))}photosApp.fullscreen.slide.in_progress||photosApp.fullscreen.slide.change_ip||photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_queue.length?devConsole("Starting slide end"):(devConsole("end zoom/pan block"),photosApp.fullscreen.currentImage&&await rafAwait((async function(){if(photosApp.fullscreen.slide.transition_ip);else{let t=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale")),n=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale-original")),o=Number.parseFloat(photosApp.fullscreen.currentImage.getAttribute("data-scale-max")),r=Math.max(Math.min(t,o),n);if((r-n)/n<.25)t<n&&photosApp.fullscreen.setScaleTooLow(!0),photosApp.fullscreen.updateZoom(r,photosApp.fullscreen.zoom.scale.startX,photosApp.fullscreen.zoom.scale.startY),photosApp.fullscreen.setZoomInProgress(!1);else if(e.touches&&e.touches>=2||photosApp.app.els.fullscreen.classList.contains("recently-zoomed")){let e={x:Number.parseFloat(photosApp.fullscreen.currentBackground.getAttribute("data-x")),y:Number.parseFloat(photosApp.fullscreen.currentBackground.getAttribute("data-y")),scale:Number.parseFloat(photosApp.fullscreen.currentBackground.getAttribute("data-scale"))};photosApp.fullscreen.updateZoom(r,photosApp.fullscreen.zoom.scale.startX,photosApp.fullscreen.zoom.scale.startY,!0);let t=photosApp.fullscreen.setBackgroundTransformFromImage(!0);await photosApp.animation.transformScale(photosApp.fullscreen.currentBackground,e.x,t.x,e.y,t.y,e.scale,t.scale,photosApp.fullscreen.default_transition,"easeOutQuad",photosApp.fullscreen.touchstart_int)}else{let t=timeNow(!0),n=[];for(let e=0;e<photosApp.fullscreen.pan.touch_events.length;e++){let o=photosApp.fullscreen.pan.touch_events[e];t-o.t<photosApp.fullscreen.pan.momentum.events_ms_threshold&&n.push(o)}if(n.length>1){let e=n[0],o=n[n.length-1],r=o.e.pageX-e.e.pageX,i=o.e.pageY-e.e.pageY,a=o.t-e.t,l=r/a,p=i/a;try{photosApp.fullscreen.setPanTransition(!0),devConsole("Animate pan image",l,p),await s(t,l,p)}catch(e){}photosApp.fullscreen.setPanTransition(!1)}devConsole("await pan end"),await photosApp.fullscreen.panEnd(e),devConsole("pan end")}}}))),await async function(){return devConsole("slide end logic"),new Promise((async(e,t)=>{photosApp.fullscreen.slide.transition_ip=!0,addClassEl("slide-transition",photosApp.app.els.fullscreen),photosApp.fullscreen.setImageEventsClass(!1);let n=[],o=timeNow(!0);for(let e=0;e<photosApp.fullscreen.slide.touch_events.length;e++){let t=photosApp.fullscreen.slide.touch_events[e];o-t.t<photosApp.fullscreen.slide.events_ms_threshold&&n.push(t)}let r=0;if(n.length>1){let e=n[0],t=n[n.length-1];r=(t.x-e.x)/(t.t-e.t)}Number.isNaN(r)&&(r=0);let s=null,i=photosApp.fullscreen.slide.tmp_wrapper_translate,a=photosApp.fullscreen.slide.current_wrapper_translate,l=function(e){devConsole("momentum: ",e);let t=photosApp.fullscreen.slide.tmp_wrapper_translate;if(Math.abs(e)<.05||!Number.isFinite(e))return t;let n=photosApp.fullscreen.pan.momentum.deceleration_ratio,o=t,r=o;for(;Math.abs(e)>=.05;){if(o+=24*e,Number.isNaN(o)||!Number.isFinite(e)||!Number.isFinite(o)){o=r;break}e*=1-n}return o}(r),p=photosApp.style.screen.width.current,c=Math.abs(l-a),u=c/p,d=!1;return(Math.abs(r)>photosApp.fullscreen.slide.change_threshold.speed||c>=photosApp.fullscreen.slide.change_threshold.px||u>photosApp.fullscreen.slide.change_threshold.percent)&&(d=!0),i===a?(devConsole("xs are same"),photosApp.fullscreen.slide.in_progress=!1,photosApp.fullscreen.slide.transition_ip=!1,removeClassEl("slide-transition",photosApp.app.els.fullscreen),e()):(i>a?s="l":i<a&&(s="r"),"r"===s&&i<photosApp.fullscreen.slide.min_translate&&(d=!1),"l"===s&&i>photosApp.fullscreen.slide.max_translate&&(d=!1),d?(await photosApp.fullscreen.changeSlide(s),devConsole("changed slide")):(await photosApp.fullscreen.returnToSlideOrigin(),devConsole("returned slide to origin"),photosApp.fullscreen.slide.in_progress=!1,photosApp.fullscreen.slide.transition_ip=!1,photosApp.fullscreen.zoom.last_click=null),e())}))}(),photosApp.fullscreen.setImageEventsClass(!1),photosApp.fullscreen.setScaleTooLow(!1),photosApp.fullscreen.setRecentlyZoomedClass(!1),photosApp.fullscreen.setPanInProgress(!1),n()}))}n._zoom_listener=!0,n.addEventListener("touchstart",(function(e){devConsole("slide: touchstart"),e.target.closest(".context__menu")||t(e)})),n.addEventListener("click",(function(t){return!("ontouchstart"in window)&&(!(!photosApp.fullscreen.init_finished||photosApp.fullscreen.zoom.toggle_ip||photosApp.fullscreen.slide.transition_ip||photosApp.fullscreen.slide.change_ip||!photosApp.fullscreen.slide.allow)&&(devConsole("slide: click"),void(photosApp.fullscreen.currentImage&&e(t.pageX,t.pageY))))})),n.addEventListener("scroll",(function(e){e.preventDefault()})),n.addEventListener("mousedown",(function(e){if("ontouchstart"in window)return!1;devConsole("slide: mousedown"),e.target.closest(".top-bar")||(photosApp.fullscreen.mouse.down.active=!0,t(e))})),n.addEventListener("touchmove",(function(e){let t={init_not_finished:!photosApp.fullscreen.init_finished,toggle_ip:photosApp.fullscreen.zoom.toggle_ip,exit_ip:photosApp.fullscreen.exit.in_progress,slide_transition:photosApp.fullscreen.slide.transition_ip,disallow_slide:!photosApp.fullscreen.slide.allow},n=!0;for(let e in t)t[e]&&(n=!1,devConsole({prevent_touch_move_rule:e}));if(n){e.target.closest(".context__menu")||r(e)}})),n.addEventListener("mousemove",(function(e){let t={touchmove:"ontouchmove"in window,mouse_not_down:!photosApp.fullscreen.mouse.down.active,init_not_finished:!photosApp.fullscreen.init_finished,toggle_ip:photosApp.fullscreen.zoom.toggle_ip,slide_change:photosApp.fullscreen.slide.change_ip,slide_transition:photosApp.fullscreen.slide.transition_ip,exit_ip:photosApp.fullscreen.exit.in_progress,exit_transition:photosApp.fullscreen.exit.transition_ip,disallow_slide:!photosApp.fullscreen.slide.allow},n=!0;for(let e in t)t[e]&&(n=!1);n&&r(e)}));let i=["touchcancel","touchend"];for(let a of i)n.addEventListener(a,(async function(e){if(devConsole("slide: "+a),!photosApp.fullscreen.slide.allow)return devConsole("end: slide not allowed"),photosApp.fullscreen.allowSlide(!0);let t={init_finished:!photosApp.fullscreen.init_finished,zoom_toggle:photosApp.fullscreen.zoom.toggle_ip,exit_transition:photosApp.fullscreen.exit.transition_ip,exit_ip:photosApp.fullscreen.exit.in_progress},n=!0;for(let e in t)t[e]&&(n=!1,devConsole("Touch end not allowed: ",e));n&&requestAnimationFrame((async function(){await s(e,photosApp.fullscreen.touchstart_int),photosApp.fullscreen.setShowImage(!0)}))}));n.addEventListener("mouseup",(async function(e){return!("ontouchend"in window)&&(devConsole("slide: mouseup"),photosApp.fullscreen.mouse.down.active=!1,photosApp.fullscreen.slide.allow?!(!photosApp.fullscreen.init_finished||photosApp.fullscreen.zoom.toggle_ip||photosApp.fullscreen.exit.transition_ip||photosApp.fullscreen.exit.in_progress)&&(await s(e,photosApp.fullscreen.touchstart_int),void photosApp.fullscreen.setShowImage(!0)):photosApp.fullscreen.allowSlide(!0))}))}},changeSlide:async function(e){devConsole("change slide");let t=++photosApp.fullscreen.slide.change_int;function n(){photosApp.fullscreen.slide.change_queue.splice(photosApp.fullscreen.slide.change_queue.indexOf(t),1),photosApp.fullscreen.slide.change_ip=!1}return photosApp.fullscreen.slide.change_ip=!0,photosApp.fullscreen.slide.change_queue.push(t),devConsole(JSON.stringify({slide_change_queue:photosApp.fullscreen.slide.change_queue,background_ints:photosApp.fullscreen.background_change_ints})),await function e(n){return new Promise(((o,r)=>{o=n||o,0!==photosApp.fullscreen.slide.change_queue.indexOf(t)?requestAnimationFrame((function(){return e(o)})):o()}))}(),new Promise((async(t,o)=>{if(!e)return n(),t();let r=photosApp.fullscreen.item_ids.slides.indexOf(photosApp.fullscreen.item_ids.current),s=null;s="l"===e?r-1:r+1;let i=photosApp.fullscreen.wrapperEl.getElementsByClassName("slide")[s];if(!i)return n(),t();let a=Number.parseInt(i.getAttribute("data-x"));photosApp.fullscreen.resetSlideItem(photosApp.fullscreen.item_ids.current),await photosApp.fullscreen.transitionToSlideX(-a,!0),await photosApp.fullscreen.slideChangeLogic(photosApp.fullscreen.item_ids.slides[s],photosApp.fullscreen.item_ids.current,e),requestAnimationFrame((async function(){n(),photosApp.fullscreen.slide.change_queue.length||(photosApp.fullscreen.slide.in_progress=!1,photosApp.fullscreen.slide.transition_ip=!1,photosApp.fullscreen.zoom.last_click=null),t()}))}))},returnToSlideOrigin:function(){return new Promise((async(e,t)=>{devConsole("Return to slide origin"),await photosApp.fullscreen.transitionToSlideX(photosApp.fullscreen.slide.current_wrapper_translate),devConsole("returned to origin"),e()}))},transitionToSlideX:function(e,t){let n=photosApp.fullscreen.wrapperEl,o=photosApp.fullscreen.slide.events_timeout,r=timeNow(!0);function s(e){return new Promise(((t,i)=>(t=e||t,photosApp.fullscreen.slide.change_queue.length>1?(addClassEl("transition-transform-0",n),removeClassEl("transition-transform-0",n),setElementTransition(n,!1),t()):timeNow(!0)-r>=o?t():void requestAnimationFrame((function(){s(t)})))))}return new Promise((async(o,r)=>{photosApp.fullscreen.slide.tmp_wrapper_translate=e,addClassEl("transition-transform-0",n),removeClassEl("transition-transform-0",n),addClassEl("slide-transition",photosApp.app.els.fullscreen),t&&addClassEl("slide-change",photosApp.app.els.fullscreen),setElementTransform(n,e,0,0),await s(),removeClassEl("slide-transition",photosApp.app.els.fullscreen),removeClassEl("slide-change",photosApp.app.els.fullscreen),setElementTransition(n,!1),o()}))},toggleZoom:function(e,t){if(photosApp.fullscreen.zoom.toggle_ip)return!1;photosApp.fullscreen.setRecentlyZoomedClass(!0),addClassEl("toggle-ip",photosApp.app.els.fullscreen),photosApp.fullscreen.zoom.toggle_ip=!0,photosApp.fullscreen.setZoomInProgress(!0),requestAnimationFrame((function(){photosApp.fullscreen.setInteract(!1)}));let n=photosApp.fullscreen.getActiveSlide().querySelector(`.${photosApp.fullscreen.img_class}`),o=Number.parseFloat(n.getAttribute("data-scale")),r=Number.parseFloat(n.getAttribute("data-scale-original"));o-r<Number.parseFloat(n.getAttribute("data-scale-max"))-r?photosApp.fullscreen.zoomIn(e,t):photosApp.fullscreen.zoomOut(),setTimeout((function(){removeClassEl("toggle-ip",photosApp.app.els.fullscreen),photosApp.fullscreen.zoom.toggle_ip=!1}),photosApp.fullscreen.zoom.transition_duration)},zoomIn:function(e,t){let n=photosApp.fullscreen.currentImage,o=Number.parseFloat(n.getAttribute("data-scale-max"));photosApp.fullscreen.setShowImage(!1),photosApp.fullscreen.updateZoom(o,e,t),photosApp.fullscreen.setZoomInProgress(!0),setTimeout((function(){photosApp.fullscreen.setShowImage(!0)}),photosApp.fullscreen.zoom.transition_duration)},setShowImage:function(e){changeElClass(photosApp.app.els.fullscreen,"show-image",e)},zoomOut:function(){let e=photosApp.fullscreen.getActiveSlide().querySelector(`.${photosApp.fullscreen.img_class}`),t=Number.parseFloat(e.getAttribute("data-scale-original")),n=Number.parseFloat(e.getAttribute("data-x-original")),o=Number.parseFloat(e.getAttribute("data-y-original"));photosApp.fullscreen.setShowImage(!1),e.style.transform=`translate3d(${n}px, ${o}px, 0) scale(${t})`,e.setAttribute("data-scale",t),e.setAttribute("data-x",n),e.setAttribute("data-y",o),photosApp.fullscreen.setBackgroundTransformFromImage(),setTimeout((function(){photosApp.fullscreen.setZoomInProgress(!1),photosApp.fullscreen.setShowImage(!0)}),photosApp.fullscreen.zoom.transition_duration)},updateZoom:function(e,t,n,o){let r=photosApp.fullscreen.zoomTransform(e,t,n),s=photosApp.fullscreen.currentImage;s.style.transform=`translate3d(${r.x}px, ${r.y}px, 0) scale(${e})`,s.setAttribute("data-scale",e),s.setAttribute("data-x",r.x),s.setAttribute("data-y",r.y),o||photosApp.fullscreen.setBackgroundTransformFromImage()},setBackgroundTransformFromImage:function(e){let t=photosApp.fullscreen.currentImage,n=Number.parseFloat(t.getAttribute("data-scale-original")),o=Number.parseFloat(t.getAttribute("data-scale")),r=Number.parseFloat(t.getAttribute("data-x")),s=Number.parseFloat(t.getAttribute("data-y")),i=o/n,a=r-Number.parseFloat(t.getAttribute("data-x-original"))*i,l=s-Number.parseFloat(t.getAttribute("data-y-original"))*i;if(e)return{x:a,y:l,scale:i};let p=photosApp.fullscreen.currentBackground;p.style.transform=`translate3d(${a}px, ${l}px, 0) scale(${i})`,p.setAttribute("data-x",a),p.setAttribute("data-y",l),p.setAttribute("data-scale",i)},updatePan:function(e,t){let n=photosApp.fullscreen.currentImage,o=photosApp.fullscreen.currentImage.getAttribute("data-scale"),r=e-photosApp.fullscreen.touchstartx,s=t-photosApp.fullscreen.touchstarty,i=photosApp.fullscreen.pan.startX+r,a=photosApp.fullscreen.pan.startY+s;n.style.transform=`translate3d(${i}px, ${a}px, 0) scale(${o})`,n.setAttribute("data-x",i),n.setAttribute("data-y",a),photosApp.fullscreen.setBackgroundTransformFromImage()},getPanBounds:function(e){let t=photosApp.fullscreen.currentImage;if(!t)return;let n=Number.parseFloat(t.style.width.replace("px","")),o=Number.parseFloat(t.style.height.replace("px","")),r=t.getAttribute("data-scale");e&&(r=e);let s=n*r,i=o*r,a=Number.parseFloat(t.getAttribute("data-x-original")),l=Number.parseFloat(t.getAttribute("data-y-original"));return{x:{l:a,r:photosApp.style.screen.width.current-s-a},y:{t:l,b:photosApp.style.screen.height.current-i-l}}},panEnd:function(){return new Promise((async(e,t)=>{let n=photosApp.fullscreen.currentImage;if(!n)return e();let o=n.getAttribute("data-scale"),r=Number.parseFloat(n.getAttribute("data-x")),s=Number.parseFloat(n.getAttribute("data-y")),i=r,a=s,l=!1,p=!1,c=photosApp.fullscreen.getPanBounds();if(r>c.x.l&&(l=!0,i=c.x.l),r<c.x.r&&(l=!0,i=c.x.r),s>c.y.t&&(p=!0,a=c.y.t),s<c.y.b&&(p=!0,a=c.y.b),l||p){addClassEl("pan-out-of-bounds",photosApp.app.els.fullscreen);let t=photosApp.fullscreen.setBackgroundTransformFromImage(!0);devConsole(t),n.style.transform=`translate3d(${i}px, ${a}px, 0) scale(${o})`,n.setAttribute("data-x",i),n.setAttribute("data-y",a);let r=photosApp.fullscreen.setBackgroundTransformFromImage(!0);devConsole(r),addClassEl("transition-transform-0",photosApp.fullscreen.currentBackground),await photosApp.animation.transformScale(photosApp.fullscreen.currentBackground,t.x,r.x,t.y,r.y,r.scale,r.scale,photosApp.fullscreen.default_transition,"easeOutQuad",photosApp.fullscreen.touchstart_int),removeClassEl("transition-transform-0",photosApp.fullscreen.currentBackground),removeClassEl("pan-out-of-bounds",photosApp.app.els.fullscreen),e()}else e()}))},zoomTransform:function(e,t,n){let o,r,s=photosApp.fullscreen.currentImage,i=Number.parseFloat(s.getAttribute("data-scale-original")),a=Number.parseFloat(s.getAttribute("data-x-original")),l=Number.parseFloat(s.getAttribute("data-y-original")),p=Number.parseFloat(s.style.width.replace("px","")),c=Number.parseFloat(s.style.height.replace("px","")),u=photosApp.style.screen.width.current,d=photosApp.style.screen.height.current,h=Number.parseFloat(s.getAttribute("data-scale"));e<i||photosApp.fullscreen.setScaleTooLow(!1);let f=p*h,m=c*h,g=e*p*((t-Number.parseFloat(s.getAttribute("data-x")))/f),v=e*c*((n-Number.parseFloat(s.getAttribute("data-y")))/m),y=f-u,A=m-d,_=!1,w=!1;if(a>1&&y<0&&(Math.abs(y/2)>t&&(_=!0),Math.abs(y/2)+f<t&&(_=!0)),_)return photosApp.fullscreen.zoomTransform(e,u/2,n);if(o=t-g,l>1&&A<0&&(Math.abs(A/2)>n&&(w=!0),Math.abs(A/2)+m<n&&(w=!0)),w)return photosApp.fullscreen.zoomTransform(e,t,d/2);if(r=n-v,e.toFixed(4)===i.toFixed(4))return{x:a,y:l};if(e<i)return{x:Math.max(o,a),y:Math.max(r,l)};{let t=photosApp.fullscreen.getPanBounds(e);return o>t.x.l?o=t.x.l:o<t.x.r&&(o=t.x.r),r>t.y.t?r=t.y.t:r<t.y.b&&(r=t.y.b),{x:o,y:r}}},setCurrentSlide(e){photosApp.fullscreen.currentSlide=document.getElementById("slide-"+e)},setCurrentImage(){let e=photosApp.fullscreen.getActiveSlide();try{photosApp.fullscreen.currentImage=e.querySelector(`.${photosApp.fullscreen.img_class}`)}catch(e){}},setCurrentBackground(){let e=photosApp.fullscreen.getActiveSlide();photosApp.fullscreen.currentBackground=e.querySelector(".fullscreen-background")},setImageEventsClass(e){e?addClassEl(photosApp.fullscreen.events_class,photosApp.app.els.fullscreen):removeClassEl(photosApp.fullscreen.events_class,photosApp.app.els.fullscreen)},setScaleTooLow:function(e){let t="scale-too-low",n="scaleTooLowTs";if(e)addClassEl(t,photosApp.app.els.fullscreen),photosApp.fullscreen.setInteract(!1);else{photosApp.fullscreen[n]||(photosApp.fullscreen[n]=[]);for(let e of photosApp.fullscreen[n])clearTimeout(e);let e=setTimeout((function(){if(photosApp.app.els.fullscreen.classList.contains(photosApp.fullscreen.events_class))return photosApp.fullscreen.setScaleTooLow(!1);removeClassEl(t,photosApp.app.els.fullscreen)}),photosApp.fullscreen.zoom.scale_low_duration);photosApp.fullscreen[n].push(e)}},setPanInProgress:function(e){let t="pan-in-progress",n="panInProgressTs";if(e)photosApp.fullscreen.pan.in_progress=!0,addClassEl(t,photosApp.app.els.fullscreen),photosApp.fullscreen.setInteract(!1);else{photosApp.fullscreen.pan.in_progress=!1,photosApp.fullscreen[n]||(photosApp.fullscreen[n]=[]);for(let e of photosApp.fullscreen[n])clearTimeout(e);let e=setTimeout((function(){if(photosApp.app.els.fullscreen.classList.contains(photosApp.fullscreen.events_class))return photosApp.fullscreen.setPanInProgress(!1);removeClassEl(t,photosApp.app.els.fullscreen)}),500);photosApp.fullscreen[n].push(e)}},setPanTransition:function(e){let t="pan-transition",n="recently-panned",o="panTransitionTs";if(e)addClassEl(t,photosApp.app.els.fullscreen),addClassEl(n,photosApp.app.els.fullscreen),photosApp.fullscreen.setInteract(!1);else{photosApp.fullscreen[o]||(photosApp.fullscreen[o]=[]);for(let e of photosApp.fullscreen[o])clearTimeout(e);let e=setTimeout((function(){if(photosApp.app.els.fullscreen.classList.contains("pan-in-progress"))return photosApp.fullscreen.setPanTransition(!1);removeClassEl(t,photosApp.app.els.fullscreen),removeClassEl(n,photosApp.app.els.fullscreen)}),500);photosApp.fullscreen[o].push(e)}},setSlideInMomentum:function(e){let t="slide-in-momentum",n="recently-slide",o="slideInMomentumTs";if(e)addClassEl(t,photosApp.app.els.fullscreen),addClassEl(n,photosApp.app.els.fullscreen);else{photosApp.fullscreen[o]||(photosApp.fullscreen[o]=[]);for(let e of photosApp.fullscreen[o])clearTimeout(e);let e=setTimeout((function(){if(photosApp.app.els.fullscreen.classList.contains(photosApp.fullscreen.events_class))return photosApp.fullscreen.setSlideInMomentum(!1);removeClassEl(t,photosApp.app.els.fullscreen),removeClassEl(n,photosApp.app.els.fullscreen)}),500);photosApp.fullscreen[o].push(e)}},setRecentlyZoomedClass:function(e){let t="recently-zoomed",n="recentlyZoomedTs";if(e)addClassEl(t,photosApp.app.els.fullscreen),photosApp.fullscreen.setInteract(!1);else{photosApp.fullscreen[n]||(photosApp.fullscreen[n]=[]);for(let e of photosApp.fullscreen[n])clearTimeout(e);let e=setTimeout((function(){if(photosApp.app.els.fullscreen.classList.contains(photosApp.fullscreen.events_class))return photosApp.fullscreen.setRecentlyZoomedClass(!1);removeClassEl(t,photosApp.app.els.fullscreen)}),photosApp.fullscreen.default_transition);photosApp.fullscreen[n].push(e)}},getRecentlyZoomed:function(){return photosApp.app.els.fullscreen.classList.contains("recently-zoomed")},setInteract:function(e,t){if(!photosApp.app.els.fullscreen.classList.contains("recently-zoomed"))if(t&&(e=!photosApp.app.els.fullscreen.classList.contains("interact")),e){let e="setInteractTs";photosApp.fullscreen[e]||(photosApp.fullscreen[e]=[]);for(let t of photosApp.fullscreen[e])clearTimeout(t);if(photosApp.fullscreen.pan.in_progress)return devConsole("Prevent interact, ",`pan: ${photosApp.fullscreen.pan.in_progress}`),!1;let t=setTimeout((function(){if(photosApp.fullscreen.pan.in_progress)return devConsole("Prevent interact, ",`pan: ${photosApp.fullscreen.pan.in_progress}`),!1;addClassEl("interact",photosApp.app.els.fullscreen)}),0);photosApp.fullscreen[e].push(t)}else removeClassEl("interact",photosApp.app.els.fullscreen)},resetSlideItem:function(e){let t=document.getElementById("slide-"+e),n=t.querySelector(`.${photosApp.fullscreen.img_class}`),o=t.querySelector(".fullscreen-background");if(n){let e=n.getAttribute("data-x-original"),t=n.getAttribute("data-y-original"),r=n.getAttribute("data-scale-original");n.style.transform=`translate3d(${e}px, ${t}px, 0px) scale(${r})`,n.setAttribute("data-x",e),n.setAttribute("data-y",t),n.setAttribute("data-scale",r),o.style.transform="scale(1)"}},navigationEvents(){let e=document.getElementById("slide-prev"),t=document.getElementById("slide-next");e._navigation_listener||(e._navigation_listener=!0,e.addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.fullscreen.changeSlide("l"),photosApp.fullscreen.allowSlide(!0)}))),t._navigation_listener||(t._navigation_listener=!0,t.addEventListener(click_handler,(function(e){e.preventDefault(),e.stopPropagation(),photosApp.fullscreen.changeSlide("r"),photosApp.fullscreen.allowSlide(!0)})))},controlEvents(){let e=[document.getElementById("slide-prev"),document.getElementById("slide-next"),photosApp.app.els.fullscreen.querySelector(".top-bar")];if(!is_touch_device())for(let t=0;t<e.length;t++){let n=e[t];n._control_listener||(n._control_listener=!0,n.addEventListener("mouseenter",(function(e){addClassEl("show-controls",photosApp.app.els.fullscreen)})),n.addEventListener("mouseleave",(function(e){removeClassEl("show-controls",photosApp.app.els.fullscreen)})))}},activateDeactivateSlideButtons(){let e=document.getElementById("slide-prev"),t=document.getElementById("slide-next"),n=photosApp.fullscreen.currentSlide.getAttribute("data-item-id");n=Number.parseInt(n),0===photosApp.fullscreen.item_ids.list.indexOf(n)?addClassEl("disable",e):removeClassEl("disable",e),photosApp.fullscreen.item_ids.list.indexOf(n)===photosApp.fullscreen.item_ids.list.length-1?addClassEl("disable",t):removeClassEl("disable",t)},setZoomInProgress(e){photosApp.fullscreen.zoom.in_progress=e},clearBackgroundInts(){for(let e of photosApp.fullscreen.background_change_ints)clearInterval(e);photosApp.fullscreen.background_change_ints=[]},setOpenInProgress(e){photosApp.fullscreen.open_in_progress=e,e?addClassEl(photosApp.style.classes.fullscreen_open_ip,photosApp.app.els.fullscreen):removeClassEl(photosApp.style.classes.fullscreen_open_ip,photosApp.app.els.fullscreen)}};let kdMap={};function handleKeyDown(e){let t;if(t=e.currentTarget&&"nodeName"in e.currentTarget?e.currentTarget:e.target,kdMap[e.keyCode]=!0,photosApp.slideshow.in_slideshow)39===e.which?(e.preventDefault(),fireClick(document.getElementById("slideshow").querySelector(".control.next-item"))):37===e.which&&(e.preventDefault(),fireClick(document.getElementById("slideshow").querySelector(".control.prev-item")));else if(photosApp.app.is_fullscreen){let t=photosApp.app.els.fullscreen.getElementsByTagName("input"),n=!1;for(let e=0;e<t.length;e++){let o=t[e];if(document.activeElement===o){n=!0;break}}n||(39===e.which?(photosApp.fullscreen.changeSlide("r"),e.preventDefault()):37===e.which&&(photosApp.fullscreen.changeSlide("l"),e.preventDefault()))}else 32===e.which&&(e.target.closest('input[type="text"]')||photosApp.rotate.rotateLogic());"Tab"!==e.code&&9!==e.which||photosApp.app.is_fullscreen&&t.closest(".context__menu")||(photosApp.app.levels[2].open||photosApp.app.levels[3].open)&&(e.preventDefault(),e.stopPropagation())}function handleKeyUp(e){if(photosApp.dev.enabled&&kdMap[91]&&kdMap[68]&&photosApp.debug.openDevTools(),"Escape"===e.key&&27===e.which)return photosApp.events.closeConditionally(e),!1;"Space"!==e.code&&32!==e.which||photosApp.slideshow.in_slideshow&&photosApp.slideshow.togglePlayPause(),kdMap[e.keyCode]=!1}photosApp.navigation={in_progress:!1,handler_called:!1,transition:500,forceShow:!1,scrolling_class:"scrolling-down",scrollTop:0,level3:{current:null,updateIP:!1},handler:function(){if(photosApp.navigation.handler_called)return!1;const e=photosApp.app.els.navigation.querySelector(".life-nav"),t=document.getElementById("fullscreen").querySelector(".exit"),n=document.getElementById("navigation-level-3").querySelector("#level-3-cancel");t.addEventListener(click_handler,(function(e){return photosApp.fullscreen.exitFullscreen(),e.preventDefault(),e.stopPropagation(),!1})),n.addEventListener(click_handler,(function(t){if("grid"===photosApp.app.views.level2.active){let t=photosApp.app.els.navigation.querySelector(".life-nav.active");photosApp.app.hideLevel2(),setTimeout((function(){photosApp.app.hideLevel3()}),photosApp.style.navigation.level2.transition),t&&fireClick(e)}photosApp.organize.hideCalendarIf(),t.preventDefault(),t.stopPropagation()})),photosApp.navigation.handler_called=!0},setScrollingDown:function(e){e?(addClassEl(photosApp.navigation.scrolling_class,"app"),removeClassEl("screen","navigation")):removeClassEl(photosApp.navigation.scrolling_class,"app"),photosApp.app.scrollingDown=e}},photosApp.time={names:["life"],minutes:1,chronology:"desc",divs:2,intervalLoop:[],intervals:{minimum:5e3,transition:2e3,addRandom:{min:0,max:1e3}},saveInterval:20,init:function(){return new Promise((async(e,t)=>{try{await photosApp.time.loadIntervalLoops()}catch(e){}photosApp.time.startSaveInterval(),photosApp.settings.data.feature.minutes&&(photosApp.time.minutes=photosApp.settings.data.feature.minutes),photosApp.app.els.featureTimeInput.setAttribute("value",photosApp.time.minutes),photosApp.app.els.featureTimeRange.setAttribute("value",photosApp.time.minutes),photosApp.settings.data.feature.chronology&&(photosApp.time.chronology=photosApp.settings.data.feature.chronology),photosApp.time.updateChronologyFromTo(),e()}))},setMinutes:function(e){photosApp.time.minutes=e,photosApp.settings.saveSettings("feature.minutes",e)},swapChronology:async function(){"desc"===photosApp.time.chronology?photosApp.time.chronology="asc":photosApp.time.chronology="desc";try{await photosApp.settings.saveSettings("feature.chronology",photosApp.time.chronology)}catch(e){}try{await photosApp.app.saveInterval()}catch(e){}try{await photosApp.app.updateHtml(!0,!0,!0)}catch(e){}photosApp.time.updateChronologyFromTo()},startSaveInterval:function(){setInterval((function(){photosApp.app.saveInterval()}),1e3*photosApp.time.saveInterval)},getLife:function(){return new Promise((async(e,t)=>{try{e((await axios.get(`${photosApp.backend.host}items/life`)).data)}catch(e){}}))},getYearOfDate:e=>e.substr(0,4),getTimeName:function(){return"life"},loadIntervalLoops:async function(){let e=await axios.get(`${photosApp.backend.host}interval/loops`);e.data&&(photosApp.time.intervalLoop=e.data)},getCount:function(e){return new Promise((async(t,n)=>t((await axios.put(`${photosApp.backend.host}time/count`,{gridIndex:e})).data.count)))},getItems:function(e,t,n){return new Promise((async(o,r)=>{let s=[];try{s=(await axios.get(`${photosApp.backend.host}time/items`,{params:{gridIndex:e,direction:t,item_ids_only:n}})).data}catch(e){return r(e)}return o(s)}))},updateOrganizeGridItemsCount:function(){let e=`${Object.keys(photosApp.organize.selected.items).length} <br>Selected`,t=document.getElementById("level-3-title");t.querySelector(".total-selected")?t.querySelector(".total-selected").innerHTML=e:t.innerHTML+=`<div class="total-selected">${e}</div>`},isValidYear:function(e){try{if((e=Number.parseInt(e))<0)return!1}catch(e){return!1}return!0},isValidMonth:function(e){try{if((e=Number.parseInt(e))<1||e>12)return!1}catch(e){return!1}return!0},isValidDay:function(e,t,n){let o=moment(`${e}-${t}`,"YYYY-MM").daysInMonth();return n>0&&n<=o},isValidHour:function(e){return e>=0&&e<24},isValidMinute:function(e){return e>=0&&e<60},isValidSecond:function(e){return e>=0&&e<60},updateChronologyFromTo:function(){"desc"===photosApp.time.chronology?addClassEl("reverse",document.querySelector(".feature.chronology")):removeClassEl("reverse",document.querySelector(".feature.chronology"));let e=null,t=null;for(let n in photosApp.items.local.items){let o=photosApp.items.local.items[n];if(o.deleted)continue;let r=getMasterDate(o);if(!r)continue;let s=photosApp.time.getYearOfDate(r);s&&(s=parseInt(s),(null===e||s<e)&&(e=s),(null===t||s>t)&&(t=s))}if(e||t)if(e===t)document.getElementById("chronology-from-to").innerHTML=e;else{let n="";n="desc"===photosApp.time.chronology?`${t} - ${e}`:`${e} - ${t}`,document.getElementById("chronology-from-to").innerHTML=n}}},photosApp.rotate={name:"rotate",viewInt:0,refresh_time:30,last_updated:null,int_keys_ip:{},pause_rotate:!1,transition:{time_percent:.8,max_duration:2e3},init:function(){return new Promise((async(e,t)=>{photosApp.settings.data.rotate||photosApp.rotate.rotateLogic(!0),e()}))},async updateTime(){if(!photosApp.grid.life.length)return!1;let e=++photosApp.rotate.viewInt;devConsole("Updating time, view int: ",e);let t=0;for(let n=0;n<photosApp.grid.life.length;n++){let o=photosApp.grid.life[n];for(let n=0;n<o.length;n++)photosApp.rotate.startTimeout(t,e,!0),t++}},getRotateTiming:function(e){let t=60*photosApp.time.minutes,n=t*photosApp.rotate.transition.time_percent,o=1e3*n/e;return o>photosApp.rotate.transition.max_duration&&(o=photosApp.rotate.transition.max_duration,n=o/1e3*e),{transition:o,screen:1e3*(t-n)/e}},startTimeout:async function(e,t,n){function o(){return new Promise((async(t,n)=>{let o,r;o=photosApp.time.intervalLoop,e in o?r=o[e]+1:(o[e]=0,r=1),u=await photosApp.items.getLife(e,a,r),devConsole({item_next_id:u.id}),t(u)}))}let r,s,i,a,l,p,c,u,d,h;if(t!==photosApp.rotate.viewInt||photosApp.app.is_fullscreen||photosApp.slideshow.in_slideshow)return;if(!photosApp.app.doRotate()||photosApp.app.update_in_progress)return setTimeout((function(){photosApp.rotate.startTimeout(e,t,n)}),2e3);let f=photosApp.grid.getGridByIndex(e);if(1===f.count)return setTimeout((function(){photosApp.rotate.startTimeout(e,t,n)}),1e3);let m=photosApp.rotate.getRotateTiming(f.count),g=`life-${e}`;try{r=document.getElementById(g).querySelector(".show"),r.style.transition=`opacity ${m.transition}ms ease-in-out`}catch(e){}let v=m.screen;n&&(v+=getRndInteger(photosApp.time.intervals.addRandom.min,photosApp.time.intervals.addRandom.max)),await timeoutAwait((async function(){if(t!==photosApp.rotate.viewInt)return!1;if(!photosApp.app.doRotate()||photosApp.app.update_in_progress)return photosApp.rotate.startTimeout(e,t),!1;try{i=document.getElementById(g).querySelectorAll("[class*='image']"),r=document.getElementById(g).querySelector(".show")}catch(n){return photosApp.rotate.startTimeout(e,t)}if(!r&&i.length>=2)r=i[0],addClassEl("show",r);else if(!r)return photosApp.rotate.startTimeout(e,t);if(r.parentElement.classList.contains(photosApp.style.classes.display_first))return photosApp.rotate.startTimeout(e,t);for(let e=0;e<i.length;e++)i[e]!==r&&(s=i[e],s.style.transition=`opacity ${m.transition}ms ease-in-out`);if(d=r.getAttribute("data-item-id"),h=s.getAttribute("data-item-id"),d===h){if((await o()).id===Number.parseInt(d))return photosApp.rotate.startTimeout(e,t)}let n=!0;for(let e=0;e<i.length;e++){let t=i[e];-1===photosApp.cache.itemIds.indexOf(t.getAttribute("data-item-id"))&&(n=!1)}if(!n)return photosApp.rotate.startTimeout(e,t),!1;try{a=Number.parseInt(r.getAttribute("order"))}catch(e){return!1}if(l=1,1===a&&(l=0),p=await photosApp.items.getData(d),c=await photosApp.items.getData(h),devConsole({item_shown:d,item_opposite:h}),r.style.transition=`opacity ${m.transition}ms ease-in-out`,r.setAttribute("fade-start",timeNow(!0)),r.classList.add("fade"),t!==photosApp.rotate.viewInt)return!1;await timeoutAwait((async function(){if(t!==photosApp.rotate.viewInt)return!1;if(!photosApp.app.doRotate()||photosApp.app.update_in_progress)return photosApp.rotate.startTimeout(e,t),!1;s.classList.add("show"),await rafAwait(),r.classList.remove("show"),r.classList.remove("fade"),photosApp.time.intervalLoop[e]+=1;try{u=await o()}catch(e){console.error(e)}if(void 0===u.id)return;let n=!1;u.is_photo&&u.height>u.width&&(n=!0),n?r.classList.add(photosApp.style.classes.is_portrait):r.classList.remove(photosApp.style.classes.is_portrait),r.setAttribute("data-item-id",u.id),r.setAttribute("data-src",photosApp.image.getUrl(u)),loadGridImage(r),photosApp.rotate.startTimeout(e,t)}),m.transition)}),v)},setRotate:async function(e){photosApp.settings.data.rotate=e,photosApp.settings.saveSettings("rotate",e),e&&photosApp.rotate.updateTime()},rotateLogic:function(e){let t=document.getElementById("rotation-control"),n=t.querySelector(".icon-play"),o=t.querySelector(".icon-pause");toggleElClass(n,"visible"),toggleElClass(o,"visible"),elHasClass(n,"visible")?e||photosApp.rotate.setRotate(!0):e||photosApp.rotate.setRotate(!1)}};let variantNames={thumb:"thumb",device:"device"};function fetchImage(e){return new Promise(((t,n)=>{const o=new Image;o.src=photosApp.image.normalizeUrl(e),o.onload=function(){t(e)},o.onerror=function(){n()}}))}async function loadMetadataImage(e,t){let n=e.dataset.src;if(n=photosApp.image.normalizeUrl(n),t)e.style.backgroundImage=`url("${n}")`;else try{await fetchImage(n),e.style.backgroundImage=`url("${n}")`}catch(e){devConsole("could not fetch metadata image: "+n)}}function imageProcessLogic(e,t){return new Promise((async(n,o)=>{let r="";for(const n in t){let o=t[n];if(o.url){try{"IMG"===e.tagName&&e.src===o.url||e.style.backgroundImage.indexOf(o.url)>-1||await fetchImage(o.url)}catch(e){continue}r+=`url('${o.url}')`,n+1<t.length&&(r+=", ")}}if(!r)return o();"IMG"===e.tagName?e.src=file.url:-1===e.style.backgroundImage.indexOf(r)&&(e.style.backgroundImage=r),n()}))}function loadGridImage(e){return new Promise((async(t,n)=>{let o,r;if(photosApp.image.prevent_load)return t();const s=e.getAttribute("data-item-id");if(!s)return void devConsole("No item id loading grid image",e);r=Number.parseInt(e.getAttribute("col-length"));try{o=await photosApp.image.getSources(s,r)}catch(e){return n(e)}if(photosApp.cache.itemIds.indexOf(s)>-1){let t=e.getAttribute("style");if(t&&t.indexOf(o.local)>-1)return photosApp.view.removeDisplayFirst(e),!1}if(!o.local&&!o.thumb)return!1;let i=[[{url:o.local,isLocal:!0}]];for(const t in i){let n=i[t];try{await imageProcessLogic(e,n),-1===photosApp.cache.itemIds.indexOf(s)&&photosApp.cache.itemIds.push(s),photosApp.view.removeDisplayFirst(e);break}catch(e){e&&devConsole(e)}}}))}async function loadFullscreenImage(e){return new Promise((async(t,n)=>{let o,r;const s=e.getAttribute("data-item-id");try{o=await photosApp.image.getDeviceSrc(s)}catch(e){}if(!s)return void devConsole("No item id fullscreen",e);try{r=await photosApp.image.getSources(s,null,!0)}catch(e){return n(e)}let i=[[{url:o,isLocal:!0}],[{url:r.local,isLocal:!0}]],a=!1;for(const n in i){if(a)break;let o=i[n];try{let n=await imageProcessLogic(e,o);return a=!0,removeClassEl("hq-loading",e.closest(".slide").querySelector(".fullscreen-background")),t(n)}catch(e){e&&devConsole(e)}}}))}function iconRotate(){return'\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n<style type="text/css">\n\t#rotation-control .st0{fill:#FFFFFF;}\n</style>\n<path class="st0" d="M255.1,80c-82.8,0-153.5,55.9-175.8,132.5c-2.5,7.6-11.3,13.3-19.8,10.9c-8.5-2.5-13.4-11.4-10.9-19.9\n\tC74.7,113.7,157.7,48,255.1,48c84.5,0,157,47.5,192.9,116.1V112c0-8.8,7.2-16,16-16s16,7.2,16,16v96c0,8.8-7.2,16-16,16h-15.6\n\tc-0.2,0-0.5,0-0.7,0H368c-8.8,0-16-7.2-16-16s7.2-16,16-16h57.4C397.4,126.2,332.1,80,255.1,80L255.1,80z"/>\n<path class="st0" d="M48,416c-8.8,0-16-7.2-16-16v-96c0-8.8,7.2-16,16-16h15.6c0.2-0.9,0.5-0.9,0.7,0H144c8.8,0,16,7.2,16,16\n\ts-7.2,16-16,16H86.6c28,65.8,93.3,112,168.5,112c84.6,0,155.3-55.9,177.6-132.5c2.5-8.5,11.3-13.3,19.8-10.9\n\tc8.5,2.5,13.4,10.5,10.9,19.9C437.3,398.3,354.3,464,255.1,464C172.4,464,99.9,416.5,64,347v53C64,408.8,56.8,416,48,416L48,416z"/>\n</svg>\n\n'}function iconRotatePause(){return'\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n<style type="text/css">\n\t#rotation-control .st0{fill:#FFFFFF;}\n</style>\n<path class="st0" d="M255.1,80c-82.8,0-153.5,55.9-175.8,132.5c-2.5,7.6-11.3,13.3-19.8,10.9c-8.5-2.5-13.4-11.4-10.9-19.9\n\tC74.7,113.7,157.7,48,255.1,48c84.5,0,157,47.5,192.9,116.1V112c0-8.8,7.2-16,16-16s16,7.2,16,16v96c0,8.8-7.2,16-16,16h-15.6\n\tc-0.2,0-0.5,0-0.7,0H368c-8.8,0-16-7.2-16-16s7.2-16,16-16h57.4C397.4,126.2,332.1,80,255.1,80L255.1,80z"/>\n<path class="st0" d="M48,416c-8.8,0-16-7.2-16-16v-96c0-8.8,7.2-16,16-16h15.6c0.2-0.9,0.5-0.9,0.7,0H144c8.8,0,16,7.2,16,16\n\ts-7.2,16-16,16H86.6c28,65.8,93.3,112,168.5,112c84.6,0,155.3-55.9,177.6-132.5c2.5-8.5,11.3-13.3,19.8-10.9\n\tc8.5,2.5,13.4,10.5,10.9,19.9C437.3,398.3,354.3,464,255.1,464C172.4,464,99.9,416.5,64,347v53C64,408.8,56.8,416,48,416L48,416z"/>\n<path class="st0" d="M206.6,164.9c-6.3,0-11.4,5.1-11.4,11.4v159.5c0,6.3,5.1,11.4,11.4,11.4S218,342,218,335.7V176.3\n\tC218,170,212.9,164.9,206.6,164.9z M305.4,164.9c-6.3,0-11.4,5.1-11.4,11.4v159.5c0,6.3,5.1,11.4,11.4,11.4s11.4-5.1,11.4-11.4\n\tV176.3C316.7,170,311.7,164.9,305.4,164.9z"/>\n</svg>\n'}function iconControls(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n<style type="text/css">\n\t#controls-control  .st0{fill:#FFFFFF;}\n</style>\n<path class="st0" d="M64 264C64 241.9 81.91 224 104 224H184C206.1 224 224 241.9 224 264V344C224 366.1 206.1 384 184 384H104C81.91 384 64 366.1 64 344V264zM96 264V344C96 348.4 99.58 352 104 352H184C188.4 352 192 348.4 192 344V264C192 259.6 188.4 256 184 256H104C99.58 256 96 259.6 96 264zM128 64H320V16C320 7.164 327.2 0 336 0C344.8 0 352 7.164 352 16V64H384C419.3 64 448 92.65 448 128V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V128C0 92.65 28.65 64 64 64H96V16C96 7.164 103.2 0 112 0C120.8 0 128 7.164 128 16V64zM32 448C32 465.7 46.33 480 64 480H384C401.7 480 416 465.7 416 448V192H32V448zM32 128V160H416V128C416 110.3 401.7 96 384 96H64C46.33 96 32 110.3 32 128z"/></svg>'}function iconControlsHidden(){return'\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 448 512" style="enable-background:new 0 0 448 512;" xml:space="preserve">\n<style type="text/css">\n\t#controls-control  .st0{fill:#FFFFFF;}\n</style>\n<path class="st0" d="M64,264c0-22.1,17.9-40,40-40h80c22.1,0,40,17.9,40,40v80c0,22.1-17.9,40-40,40h-80c-22.1,0-40-17.9-40-40V264z M96,264v80\n\tc0,4.4,3.6,8,8,8h80c4.4,0,8-3.6,8-8v-80c0-4.4-3.6-8-8-8h-80C99.6,256,96,259.6,96,264z M128,64h192V16c0-8.8,7.2-16,16-16\n\ts16,7.2,16,16v48h32c35.3,0,64,28.7,64,64v320c0,35.3-28.7,64-64,64H64c-35.3,0-64-28.7-64-64V128c0-35.3,28.6-64,64-64h32V16\n\tc0-8.8,7.2-16,16-16s16,7.2,16,16V64z M32,448c0,17.7,14.3,32,32,32h320c17.7,0,32-14.3,32-32V192H32V448z M32,128v32h384v-32\n\tc0-17.7-14.3-32-32-32H64C46.3,96,32,110.3,32,128z"/>\n<path class="st0" d="M7.8,11.1c8.2-7.2,20.6-6.3,27.8,1.8l406.7,464.2c7.1,8.2,6.4,20.7-1.8,27.8c-8.2,7.1-20.7,6.4-27.8-1.8L6,38.9\n\tC-1.2,30.7-0.4,18.3,7.8,11.1L7.8,11.1z"/>\n</svg>\n\n'}function iconMaximize(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n<style type="text/css">\n\t#header-control .st0{fill:#FFFFFF;}\n</style>\n<path class="st0" d="M348.7 153.9l44.68 44.68c6.156 6.125 14.28 9.375 22.59 9.375c4.125 0 8.312-.8125 12.28-2.453C440.3 200.5 448 188.1 448 175.1V64c0-17.64-14.34-32-32-32h-111.1c-13 0-24.59 7.766-29.56 19.77s-2.25 25.69 6.938 34.86l44.67 44.67L224 233.4L121.9 131.3L166.6 86.63c6.125-6.156 9.375-14.28 9.375-22.59c0-4.125-.8125-8.312-2.453-12.28C168.5 39.75 156.1 32 143.1 32H32C14.36 32 0 46.34 0 64v111.1c0 13 7.766 24.59 19.77 29.56s25.69 2.25 34.86-6.938l44.67-44.67L201.4 256l-102.1 102.1L54.63 313.4C48.47 307.3 40.34 304 32.03 304c-4.125 0-8.312 .8125-12.28 2.453C7.75 311.5 0 323 0 336V448c0 17.64 14.34 32 32 32h111.1c13 0 24.59-7.766 29.56-19.77s2.25-25.69-6.938-34.86l-44.67-44.67L224 278.6l102.1 102.1l-44.68 44.68c-6.125 6.156-9.375 14.28-9.375 22.59c0 4.125 .8125 8.312 2.453 12.28C279.5 472.3 291 480 304 480H416c17.64 0 32-14.34 32-32v-111.1c0-13-7.766-24.59-19.77-29.56s-25.69-2.25-34.86 6.938l-44.67 44.67L246.6 256L348.7 153.9zM32.01 176C32.01 176 32.01 176.1 32.01 176L32 64h111.1L32.01 176zM144 447.1C144 447.1 144.1 447.1 144 447.1L32 448v-111.1L144 447.1zM415.1 335.1C415.1 335.1 415.1 335.9 415.1 335.1L416 448h-111.1L415.1 335.1zM303.1 64.01C303.1 64.01 303.9 64.01 303.1 64.01L416 64v111.1L303.1 64.01z"/></svg>'}function iconMinimize(){return'\n<?xml version="1.0" encoding="utf-8"?>\n\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 448 512" style="enable-background:new 0 0 448 512;" xml:space="preserve">\n\t <style type="text/css">\n\t#header-control .st0{fill:#FFFFFF;}\n</style>\n<path class="st0" d="M177.2,70.3c-10.8-4.5-23.2-2-31.5,6.3l-40.3,40.4L31.8,43.4c-5.6-5.6-14.8-5.6-20.4,0c-5.6,5.6-5.6,14.8,0,20.4l73.5,73.5\n\tl-40.4,40.4c-5.5,5.5-8.5,12.9-8.5,19.6c0,3.7,0.7,7.5,2.2,11.1c4.5,11.7,15,18.6,26.7,18.6h101.2c16,0,28.9-12.9,28.9-28.9V97\n\tC195.1,85.3,188,74.8,177.2,70.3z M166.2,198.2H65L165.4,97c0,0,0-0.1,0,0L166.2,198.2z M281.8,227.1h100.4c11.7,0,22.2-7,26.7-17.9\n\tc4.5-10.8,2-23.2-6.3-31.5l-40.4-40.4l73.5-73.5c5.6-5.6,5.6-14.8,0-20.4c-5.6-5.6-14.8-5.6-20.4,0l-73.5,73.5l-39.6-40.4\n\tc-5.6-5.5-12.9-8.5-20.4-8.5c-3.7,0-7.5,0.7-11.1,2.2c-10.8,4.5-17.8,15-17.8,26.7v101.2C252.9,214.2,265.8,227.1,281.8,227.1z\n\t M281.8,97L383,197.4c0,0,0.1,0,0,0l-101.2,0.8V97z M363.1,374.6l40.4-40.4c5.5-5.6,8.5-12.9,8.5-20.4c0-3.7-0.7-7.5-2.2-11.1\n\tc-4.5-10.8-15.7-17.8-27.5-17.8H281.8c-16,0-28.9,12.9-28.9,28.9v100.4c0,11.7,7,22.2,17.9,26.7c10.8,4.5,23.2,2,31.5-6.3l40.4-40.4\n\tl73.5,73.5c5.6,5.6,14.8,5.6,20.4,0c5.6-5.6,5.6-14.8,0-20.4L363.1,374.6z M281.8,415C281.8,415,281.8,415.1,281.8,415V313.8h100.4\n\tL281.8,415z M166.2,284.9H65c-11.7,0-22.2,7-26.7,17.9s-2,23.2,6.3,31.5l40.4,40.4l-73.5,73.5c-5.6,5.6-5.6,14.8,0,20.4\n\tc5.6,5.6,14.8,5.6,20.4,0l73.5-73.5l40.4,40.4c5.6,5.5,12.9,8.5,20.4,8.5c3.7,0,7.5-0.7,11.1-2.2c10.9-4.5,17.9-15.8,17.9-27.5\n\tV313.8C195.1,297.8,182.2,284.9,166.2,284.9z M166.2,414.2L65,313.8c0,0-0.1,0,0,0h101.2V414.2z"/>\n</svg>'}function iconFooterControl(){return'\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n        <style type="text/css">\n\t#footer-control path{fill:#FFFFFF;}\n</style>\n        <path d="M0 80C0 71.16 7.164 64 16 64H432C440.8 64 448 71.16 448 80C448 88.84 440.8 96 432 96H16C7.164 96 0 88.84 0 80zM0 240C0 231.2 7.164 224 16 224H432C440.8 224 448 231.2 448 240C448 248.8 440.8 256 432 256H16C7.164 256 0 248.8 0 240zM432 416H16C7.164 416 0 408.8 0 400C0 391.2 7.164 384 16 384H432C440.8 384 448 391.2 448 400C448 408.8 440.8 416 432 416z"/></svg>\n    '}function iconFooterControlHidden(){return'\n        <?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 25.3.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 448 512" style="enable-background:new 0 0 448 512;" xml:space="preserve">\n<style type="text/css">\n\t#footer-control path{fill:#FFFFFF;}\n</style>\n<path d="M0,80c0-8.8,7.2-16,16-16h416c8.8,0,16,7.2,16,16s-7.2,16-16,16H16C7.2,96,0,88.8,0,80z M0,240c0-8.8,7.2-16,16-16h416\n\tc8.8,0,16,7.2,16,16s-7.2,16-16,16H16C7.2,256,0,248.8,0,240z M432,416H16c-8.8,0-16-7.2-16-16s7.2-16,16-16h416c8.8,0,16,7.2,16,16\n\tS440.8,416,432,416z"/>\n<path d="M6.7,9.1c8.2-7.2,20.6-6.3,27.8,1.8l406.7,464.2c7.1,8.2,6.4,20.7-1.8,27.8c-8.2,7.1-20.7,6.4-27.8-1.8L4.9,36.9\n\tC-2.3,28.7-1.5,16.2,6.7,9.1L6.7,9.1z"/>\n</svg>\n    '}function iconNotification(){return'\n            <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.6575 39.5316"><defs>\n            </defs><path class="cls-2" d="M19.9232.0002c10.8831.0533,19.8216,9.0769,19.7336,19.9213-.088,10.8434-9.1747,19.7314-20.0472,19.6088C8.8279,39.4089-.0187,30.4772,0,19.7325.019,8.889,9.0475-.053,19.9232.0002Z"/><path class="cls-1" d="M35.8609,20.0938c-.2627,8.9775-7.5111,15.9116-16.3622,15.6527-9.008-.2634-15.961-7.4852-15.7028-16.3098.2627-8.9781,7.5087-15.9101,16.3619-15.6528,9.0069.2618,15.9613,7.4849,15.703,16.3098Z"/><path class="cls-2" d="M19.7859,27.1632c-4.049-.0282-7.4073-3.4143-7.3791-7.4401.0282-4.036,3.4251-7.3837,7.4638-7.3557,4.0486.0281,7.4076,3.4147,7.3794,7.4402-.0283,4.035-3.4264,7.3838-7.4641,7.3557Z"/>\n            </svg>\n    '}function iconClose(){return'\n        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79.5898 79.5457">\n        <defs></defs><g id="jG0ckZ.tif"><path class="cls-2" d="M39.899,79.5452C18.1192,79.6534-.0234,61.5593,0,39.7528.0234,18.0103,17.8894.1165,39.6906.0006c21.7712-.1158,39.9225,17.9869,39.8992,39.7923-.0232,21.742-17.8976,39.6441-39.6908,39.7523Z"/><path class="cls-1" d="M39.9351,7.4568c17.8742.0722,32.3311,14.7027,32.1937,32.5804-.1365,17.7627-14.6867,32.1237-32.4741,32.0518-17.874-.0723-32.331-14.703-32.1936-32.5805.1365-17.7631,14.6862-32.1236,32.474-32.0517Z"/><path class="cls-2" d="M53.2703,49.5061c.0683,1.5888-.7975,2.566-1.9652,3.2919-1.2668.7874-2.5928.6545-3.6782-.3097-2.1624-1.9211-4.3465-3.8384-6.3147-5.9499-1.3149-1.4108-2.0981-1.2431-3.3127.0787-1.788,1.9458-3.7755,3.7105-5.7059,5.5228-1.5696,1.4736-3.2336,1.552-4.8714.119-1.5077-1.3192-1.6677-3.4131-.1832-5.0908,1.9167-2.1662,3.9701-4.219,6.0603-6.2209.9985-.9563,1.0862-1.5802.0168-2.5577-1.8918-1.729-3.6749-3.5802-5.4561-5.4259-1.91-1.9791-2.117-4.1668-.615-5.6944,1.5086-1.5341,3.7249-1.3575,5.6974.5371,1.8499,1.7768,3.6892,3.5705,5.4321,5.4503.9283,1.0012,1.5618,1.1285,2.5581.0648,1.8086-1.9311,3.7287-3.7612,5.6535-5.5793,1.918-1.8117,3.997-1.992,5.512-.5716,1.6821,1.5771,1.5822,3.4717-.397,5.6124-1.741,1.8831-3.4819,3.7786-5.3675,5.5114-1.1727,1.0776-1.0273,1.745.0329,2.762,1.9691,1.8889,3.8416,3.8821,5.6878,5.893.6587.7174,1.2892,1.5372,1.2158,2.5567Z"/></g>\n        </svg>\n    '}function iconDots(){return'\n    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60.0835 60.074">\n    <defs></defs><g id="gNyBdK.tif">\n    <path class="cls-1" d="M60.0835,30.0685c-.009,16.5838-13.5587,30.0472-30.1978,30.0054C13.4403,60.0326-.0089,46.501,0,30.0051.009,13.4221,13.5587-.0412,30.1976,0c16.4446.0408,29.8949,13.5732,29.8859,30.0684ZM18.7741,33.3691c1.9765.0297,3.5411-1.3899,3.5898-3.2571.0481-1.8434-1.5014-3.378-3.4402-3.4071-1.9755-.0297-3.5404,1.3904-3.5895,3.2573-.0485,1.8427,1.5015,3.3778,3.4399,3.4069ZM37.7197,29.8545c-.1114,1.7079,1.3329,3.3455,3.0862,3.4991,2.147.1882,3.8136-1.1363,3.9435-3.1339.1111-1.7085-1.3327-3.3455-3.0859-3.4992-2.1469-.1882-3.8134,1.1362-3.9437,3.134ZM33.3704,30.134c.0405-2.1678-1.1541-3.4162-3.2934-3.4232-2.077-.0067-3.2537.9867-3.3589,3.1056-.1081,2.1764,1.07,3.4841,3.1648,3.5487,2.1679.0669,3.4481-1.1191,3.4875-3.2311Z"/></g></svg>'}function iconX(){return'\n        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.7869 24.6855">\n        <defs>\n        </defs><g id="_x39_LSz5t.tif"><path class="cls-1" d="M2.1683.0617c1.3657-.0257,2.1076.618,2.8114,1.3244,2.0859,2.0935,4.2084,4.1532,6.2323,6.3047.899.9558,1.4994.9125,2.3779-.0183,2.0276-2.1483,4.1493-4.2084,6.2325-6.3046,1.2071-1.2147,2.6128-2.0245,4.0834-.6468,1.5857,1.4856.7912,2.9557-.509,4.2383-2.1041,2.0754-4.1709,4.1905-6.331,6.2064-.9578.8939-.9205,1.4916.0159,2.3679,2.1574,2.019,4.2261,4.1319,6.3305,6.207,1.2185,1.2015,2.0353,2.6013.6512,4.0667-1.4907,1.5784-2.9671.7911-4.2557-.5052-2.0835-2.0959-4.2073-4.1542-6.2318-6.3052-.8961-.9521-1.4966-.921-2.3779.0134-2.0269,2.1489-4.1491,4.2086-6.2319,6.3052-1.2066,1.2146-2.6116,2.0266-4.0834.6505-1.5871-1.4839-.7954-2.9551.5052-4.2382,2.1039-2.0756,4.1716-4.1898,6.331-6.2064.9571-.8938.9173-1.4928-.0156-2.3719-2.2698-2.1391-4.4657-4.3567-6.6644-6.5693C.1772,3.7135-.281,2.691.2965,1.466.7192.5697,1.4721.1434,2.1683.0617Z"/></g></svg>\n    '}function iconOrganize(){return'\n        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 149.5336 119.7048">\n        <g id="nXbnIX.tif"><path d="M89.6585,77.0309c-.0008-3.1567-.0517-6.3144.0113-9.4699.0936-4.6898,2.9929-7.6501,7.6502-7.7031,6.2297-.0708,12.4611-.0538,18.6912.0018,4.0233.0359,7.4011,1.7276,10.2224,4.5003,6.932,6.8127,13.8528,13.6376,20.71,20.5254,3.425,3.4403,3.462,7.5282.0585,11.0278-6.9497,7.1462-13.9549,14.2398-21.0234,21.2683-3.4194,3.4001-7.8351,3.35-11.289-.0661-6.9694-6.893-13.8536-13.872-20.7885-20.7999-2.858-2.8552-4.1774-6.3305-4.2336-10.3131-.0422-2.99-.0083-5.981-.0091-8.9715ZM104.7171,69.2798c-3.0867-.0483-5.5599,2.3257-5.6201,5.3946-.0602,3.0707,2.3141,5.543,5.3958,5.6186,3.0549.0749,5.5546-2.3255,5.6176-5.3943.0631-3.0728-2.3349-5.571-5.3933-5.6188Z"/><path d="M82.155,87.7719c-3.8783-1.5456-7.7151-3.1803-11.6346-4.5838-1.5313-.5483-3.2501-.8136-4.8809-.8035-10.2061.0631-20.5103-.5946-30.5915.597-11.8902,1.4055-20.4685,10.3398-23.1583,22.6486-.174.7962-.2832,1.6065-.4951,2.8287,1.0577,0,2.0039,0,2.9501,0,26.0815,0,52.1631.0231,78.2445-.0438,2.0817-.0053,3.5549.5429,4.9855,2.0808,1.6882,1.8147,3.7352,3.2956,5.5808,4.8817-1.885,3.6216-4.6278,4.1315-7.4607,4.2489-3.0681.1271-6.1454.0294-9.2187.0294-25.5832,0-51.1663.0016-76.7495-.001-7.4114-.0007-10.3769-3.674-9.6088-11.0472.95-9.1189,4.031-17.1783,10.2377-24.0127,8.3121-9.1528,18.7552-13.4197,30.9644-13.5059,8.8845-.0627,17.7975-.2601,26.6451.3568,4.4199.3082,8.7375,2.256,13.0573,3.6036.5195.1621,1.0648,1.2042,1.0827,1.8526.1027,3.7279.05,7.4602.05,10.8696Z"/><path d="M22.3381,29.6791C22.5038,13.0144,35.8852-.1635,52.4739.0015c16.6651.1658,29.8431,13.5465,29.6783,30.1349-.1656,16.6696-13.5417,29.8423-30.1357,29.6775-16.67-.1656-29.8435-13.5417-29.6784-30.1348ZM52.3655,48.5363c10.5198-.1193,18.5654-8.2422,18.5087-18.6866-.0569-10.4682-8.1786-18.5662-18.6249-18.5705-10.5278-.0043-18.8133,8.3603-18.6332,18.8111.1819,10.5597,8.3181,18.5642,18.7495,18.4459Z"/></g></svg>\n    '}function iconLeft(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.7664 50.0333">\n            <g id="p8nrXq.tif"><path class="cls-1" d="M26.566,2.5983c.057,1.4726-.8508,2.2622-1.6336,3.0863-5.6274,5.9243-11.2323,11.8713-16.9464,17.7099-1.2129,1.2393-1.1888,1.8713.0104,3.0955,5.6012,5.7181,11.0939,11.5441,16.6133,17.3432.6231.6547,1.2899,1.3149,1.7246,2.0926.6577,1.1765.6181,2.3936-.4908,3.3562-1.0582.9185-2.2183,1.0022-3.3751.2106-.4694-.3212-.8681-.7571-1.266-1.1728-6.3349-6.6179-12.6725-13.2332-18.9918-19.8663-2.9372-3.0831-2.9406-3.9529-.0509-6.9842C8.5381,14.7785,14.9447,8.1151,21.3089,1.4108c1.0585-1.1151,2.2006-1.7739,3.7017-1.1984,1.1006.4219,1.67,1.3068,1.5553,2.386Z"/></g></svg>'}function iconRight(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.7664 50.0333">\n<g id="p8nrXq.tif"><path class="cls-1" d="M.2005,47.435c-.057-1.4726.8508-2.2622,1.6336-3.0863,5.6274-5.9243,11.2323-11.8713,16.9464-17.7099,1.2129-1.2393,1.1888-1.8713-.0104-3.0955C13.1689,17.8251,7.6762,11.9991,2.1568,6.2001c-.6231-.6547-1.2899-1.3149-1.7246-2.0926C-.2256,2.931-.1859,1.7139.923.7513,1.9812-.1672,3.1413-.2509,4.2981.5408c.4694.3212.8681.7571,1.266,1.1728,6.3349,6.6179,12.6725,13.2332,18.9918,19.8663,2.9372,3.0831,2.9406,3.9529.0509,6.9842-6.3783,6.6907-12.785,13.3541-19.1492,20.0584-1.0585,1.1151-2.2006,1.7739-3.7017,1.1984-1.1006-.4219-1.67-1.3068-1.5553-2.386Z"/></g></svg>'}function iconCloseTransparent(){return'\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 63.6789 63.6654">\n<g id="yv9O5t.tif"><path class="cls-1" d="M63.6788,31.7698c.0475,17.4188-14.2567,31.8044-31.7146,31.8951C14.4581,63.7559-.047,49.2825.0001,31.7707.047,14.3268,14.4039.0007,31.839,0c17.433-.0007,31.7923,14.327,31.8398,31.7698ZM59.6843,31.943c.0696-15.2103-12.504-27.8815-27.7342-27.9495-15.2162-.0679-27.8859,12.4988-27.9556,27.7283-.0696,15.2107,12.499,27.8768,27.7345,27.9495,15.2097.0726,27.8856-12.5004,27.9552-27.7283Z"/><path class="cls-1" d="M34.1,31.9413c2.5239,2.3018,4.7063,4.0953,6.609,6.1479.5688.6136.8169,2.2416.4047,2.8984-.8752,1.3945-2.1401.7751-3.0957-.2464-1.9165-2.0487-3.8083-4.1205-6.1707-6.6818-2.2233,2.4163-4.0413,4.4256-5.8994,6.3973-.9361.9933-1.9803,2.0092-3.3554.688-1.3662-1.3128-.4671-2.3982.5517-3.3574,1.9782-1.8624,3.9891-3.69,6.4089-5.9216-2.4795-2.3187-4.5312-4.2196-6.5612-6.1433-.9841-.9325-1.6422-1.9826-.4248-3.1846,1.2231-1.2076,2.2633-.5026,3.1846.4723,1.8759,1.9852,3.7254,3.9953,5.8252,6.2526,2.2816-2.2519,4.2592-4.2002,6.2326-6.1528,1.0039-.9933,2.0615-1.8722,3.3669-.5037,1.1924,1.2501.3978,2.2743-.5547,3.185-1.9713,1.8848-3.9669,3.744-6.5219,6.15Z"/></g></svg>'}function iconCalendar(){return'\n    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.3439 159.583"><g id="CoA8cY.tif"><path d="M0,159.5337V20.0137c8.8826,0,17.521.0002,26.1593,0q3.4908-.0001,3.4903-3.5692c.0002-4.5721.0715-9.1457-.0298-13.7156-.0457-2.0636.6962-2.8804,2.7652-2.6965,1.4846.1319,3.0007.1365,4.4841-.0016,1.964-.1828,2.6525.557,2.6108,2.5293-.102,4.8193.0525,9.6444-.0706,14.4628-.0559,2.1865.4775,3.0588,2.902,3.0455,18.1216-.1001,36.2441-.0887,54.3659-.0092,2.1583.0095,2.9131-.526,2.8323-2.7779-.1696-4.7323.0238-9.4766-.086-14.2124-.0503-2.1697.5002-3.1009,2.9209-3.0678,6.8868.0942,6.8882-.0114,6.8883,6.9416,0,3.3252.119,6.656-.0395,9.9736-.112,2.3437.5954,3.1979,3.0714,3.1525,7.9777-.1464,15.9607.0142,23.9396-.0961,2.3736-.0328,3.1409.7295,3.1376,3.1389-.0605,44.4739-.0608,88.948.002,133.4219.0034,2.414-.7135,3.0535-3.115,3.0497-44.8896-.0705-89.7793-.0504-134.6689-.0493-.4781,0-.9563,0-1.56,0ZM69.4806,149.8206c18.9552,0,37.9107-.0407,56.8655.0503,2.4382.0117,3.3405-.5528,3.3328-3.1619-.0832-27.9338-.0756-55.868-.0091-83.802.0056-2.3728-.6809-3.1204-3.1083-3.1159-37.9935.0703-75.9872.0753-113.9807-.0071-2.6073-.0057-3.1762.8394-3.1695,3.2828.0764,27.8507.0771,55.7018-.0005,83.5525-.0069,2.4759.628,3.2738,3.2044,3.2593,18.9547-.1067,37.9102-.0577,56.8654-.058ZM69.4756,50.0788c18.9559,0,37.9119.0019,56.8678-.0018,3.271-.0006,3.2778-.0116,3.2821-3.3431.006-4.6558-.0529-9.3126.0253-13.9671.0331-1.9715-.5581-2.7997-2.7081-2.7967-38.2443.0535-76.4888.0513-114.7332.0047-2.0296-.0025-2.834.5832-2.7833,2.6878.112,4.6531.0317,9.3108.0344,13.9667.002,3.432.0053,3.4454,3.3967,3.4462,18.8728.0046,37.7456.0022,56.6184.0033Z"/><path d="M33.2366,140.8993c.8168-4.034,1.4846-7.5965,2.2672-11.1336,1.0925-4.9379,2.2135-9.8712,3.4552-14.7729.287-1.133.9023-2.3395,1.7207-3.158,13.6278-13.6292,27.3094-27.2046,40.9869-40.784,1.7011-1.6889,3.4475-3.3321,5.2961-5.1152,6.8955,7.2333,13.8593,14.5383,20.8231,21.8433.2836-.2204.5671-.4408.8507-.6612-.3242.4511-.5928.9581-.9808,1.3454-14.6419,14.612-29.3199,29.1879-43.9116,43.8497-1.6613,1.6692-3.4638,2.7095-5.6975,3.2174-6.9511,1.5804-13.8916,3.2074-20.8436,4.784-1.1155.253-2.2686.3402-3.9664.5851ZM46.229,128.1393c2.7276-.6288,5.1143-1.1081,7.4571-1.748,1.2446-.3399,2.7088-.6561,3.57-1.4982,7.9615-7.7863,15.8007-15.6976,23.71-23.5376,1.1514-1.1413,1.1006-2.0193-.0439-3.1015-1.5686-1.4833-3.1335-2.9902-4.5265-4.6341-1.3744-1.622-2.3654-1.4616-3.8019.0036-6.6319,6.7642-13.1111,13.7117-20.15,20.031-4.3546,3.9096-5.1082,8.7867-6.2148,14.4849ZM87.6167,78.9512c-2.2389,2.1378-3.659,3.3061-4.8094,4.6973-.3857.4665-.4186,1.7945-.0399,2.2263,1.8021,2.0545,3.7666,3.9733,5.7638,5.8438.3545.332,1.3904.4959,1.6794.2432,1.3686-1.1967,2.6679-2.5003,3.8018-3.9178.2785-.3482.0612-1.4426-.3012-1.8953-1.9164-2.394-3.952-4.6926-6.0945-7.1975Z"/></g></svg>\n</svg>'}function iconFile(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45.6976 60.6286"><path class="cls-1" d="M.0162,30.3293c-.0007-7.1068-.0165-14.2137.0042-21.3205C.038,2.9736,2.9943.0397,9.0507.0255,15.3731.0107,21.6962.0717,28.0179.0008c2.926-.0328,5.3259.8902,7.3551,2.9978,2.4718,2.5674,5.0211,5.0629,7.582,7.5435,1.8257,1.7684,2.75,3.8355,2.7427,6.3979-.034,11.8171.0232,23.6344-.031,35.4513-.0237,5.1774-3.0224,8.1616-8.2154,8.1931-9.7329.059-19.4667.0589-29.1997,0-5.1938-.0314-8.1746-3.0147-8.2188-8.1911-.0628-7.3542-.0159-14.7093-.0166-22.0641ZM39.4432,19.022c-2.7141,0-5.3738.0416-8.0316-.0102-3.5624-.0694-4.7597-1.2943-4.791-4.8292-.0239-2.7049-.0048-5.4103-.0048-8.3345-6.1338,0-12.0205-.0162-17.9071.0076-2.5187.0102-2.9996.5002-3.0025,3.1096-.0155,14.3038-.0171,28.6076.0016,42.9113.0033,2.5114.5647,3.0671,3.0902,3.0733,9.4054.0232,18.8109.0262,28.2163-.0024,2.4757-.0075,2.822-.4365,2.8218-2.9502-.0006-10.0044.0054-20.0088-.0116-30.0131-.0015-.888.2058-1.8114-.3816-2.9623Z"/><path class="cls-1" d="M19.6081,42.1881c1.3872-2.0567,2.6975-4.0445,4.055-5.9998,1.4993-2.1596,2.3801-2.1561,3.8746.037,2.563,3.7611,5.0937,7.544,7.6294,11.3233.548.8168,1.2398,1.6128.6457,2.7083-.5442,1.0033-1.5099.8834-2.414.8844-7.0735.0074-14.1471.0234-21.2206-.0046-2.6298-.0104-3.2993-1.2159-1.8956-3.3956,1.3433-2.086,2.769-4.12,4.1716-6.168,1.8547-2.7082,2.5158-2.7129,4.5152-.0675.1372.1815.3114.3353.6387.6826Z"/><path class="cls-1" d="M19.0518,30.2572c.0526,2.0843-1.6071,3.8307-3.7047,3.8984-2.0953.0676-3.819-1.5761-3.8656-3.6861-.0495-2.2394,1.4192-3.7783,3.6539-3.8286,2.1746-.0489,3.8633,1.5105,3.9164,3.6163Z"/></svg>'}function iconSlideshow(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60.9957 60.5504"><path class="cls-1" d="M30.5028,60.5504C13.7227,60.5542.0463,47.0017.0001,30.324-.0457,13.799,13.825.0057,30.4941,0c16.6622-.0057,30.5388,13.7862,30.5015,30.3153-.0376,16.675-13.7096,30.2314-30.4928,30.2352ZM55.2175,30.4087c.04-13.576-11.0044-24.5711-24.6933-24.5833-13.6923-.0122-24.7549,10.9557-24.7443,24.5325.0105,13.4133,10.9552,24.347,24.5689,24.544,13.467.1949,24.829-10.9955,24.8687-24.4931Z"/><path class="cls-1" d="M43.7459,30.1934c.1069,1.3818-.6431,2.2591-1.6675,2.8874-5.4372,3.3347-10.8549,6.7042-16.367,9.9133-2.4099,1.403-4.6856.2009-4.7465-2.5724-.1487-6.766-.1525-13.5398.0033-20.3056.064-2.7781,2.3045-3.8127,4.7614-2.3555,5.4862,3.254,10.9146,6.6043,16.3618,9.923.9596.5847,1.7085,1.3267,1.6546,2.5098Z"/></svg>'}function iconLocate(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61.0944 60.4942"><path class="cls-1" d="M19.196,41.5703c-3.382,0-6.7642-.0151-10.1461.0047-2.8168.0165-3.2982.507-3.3242,3.3382-.0189,2.065-.0092,4.1304-.0025,6.1956.0108,3.3289.3928,3.7252,3.6904,3.7271,11.3931.0065,22.7863.0026,34.1795.0025,2.9107,0,5.8219.0326,8.7318-.0123,2.3154-.0357,2.797-.516,2.8286-2.7503.0362-2.5604.0338-5.1219.0012-7.6824-.0293-2.2937-.4853-2.78-2.768-2.8098-3.4815-.0454-6.964-.0119-11.0303-.0119,2.0045-2.0038,3.6528-3.6689,5.3242-5.3108.4556-.4475,1.0856-.3436,1.6591-.3449,1.663-.0039,3.3297-.0573,4.9884.0301,4.4333.2336,7.4545,3.1526,7.6573,7.5625.144,3.1325.1472,6.2824-.0022,9.4144-.2102,4.4069-3.2743,7.49-7.68,7.5129-15.2179.079-30.4368.0784-45.6547-.006-4.4721-.0248-7.4206-3.0785-7.5695-7.538-.1047-3.1354-.1064-6.28.0011-9.4152.1495-4.36,2.9923-7.2281,7.3608-7.5035,1.8226-.1149,3.658-.0143,5.4857-.0719.9133-.0288,1.5551.3366,2.1812.956,1.4115,1.3966,2.8838,2.7326,4.3314,4.0932-.0811.2066-.1621.4132-.2432.6198Z"/><path class="cls-1" d="M33.9948,34.1585c3.0717-3.0936,6.1348-6.1957,9.2221-9.2739.6405-.6385,1.3216-1.2605,2.0707-1.7624,1.2166-.8152,2.4284-.535,3.3916.4418.9634.9771,1.2023,2.1692.3791,3.3824-.3683.5428-.8055,1.0508-1.2714,1.5153-4.7563,4.7425-9.5154,9.4824-14.2943,14.2023-2.413,2.3833-3.4489,2.3966-5.8302.0735-4.8675-4.7485-9.7134-9.5189-14.5627-14.2857-.4127-.4057-.8387-.815-1.1663-1.2858-.8708-1.2514-.8027-2.5288.2564-3.6051,1.058-1.0751,2.3504-1.2136,3.6131-.3281.6727.4717,1.2569,1.0757,1.8474,1.6539,3.168,3.1017,6.3254,6.214,9.6387,9.4723.4908-1.1046.3188-1.9269.32-2.7143.0141-9.0084.0059-18.0169.0141-27.0253.0008-.8234-.0354-1.6704.1382-2.4649C28.0635.7712,29.1137.0044,30.4578,0c1.3292-.0043,2.3494.6916,2.7255,2.1074.2383.8971.2312,1.7978.2313,2.7057.0006,8.8431.0005,17.6863.0005,26.5295,0,.8633,0,1.7267,0,2.59l.5798.2259Z"/><path class="cls-1" d="M48.5696,45.4467c1.5684-.0077,2.8818,1.2426,2.8864,2.7477.0047,1.5082-1.2996,2.7699-2.8682,2.7746-1.5656.0047-2.8845-1.2519-2.8904-2.7537-.0059-1.5035,1.2986-2.7609,2.8721-2.7686Z"/></svg>'}function iconTrash(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.1486 60.6193"><path class="cls-1" d="M4.1,15.3973c-.5895-.0669-.9957-.0857-1.3904-.1626C1.0623,14.9137-.0471,14.0857.0015,12.2517c.0437-1.6482,1.1398-2.6707,3.1962-2.7683,2.0747-.0986,4.1607-.095,6.2358-.0035,1.224.0539,2.0043-.3426,2.6402-1.381.9921-1.6201,2.1137-3.1617,3.178-4.7382C16.7585,1.1286,18.8796.0258,21.5683.0124c3.3268-.0166,6.6539-.0164,9.9808,0,2.8849.0143,5.1026,1.2478,6.6715,3.6584,1.2583,1.9333,2.544,3.849,3.8384,5.804,2.7763,0,5.4373-.071,8.0919.029,1.3956.0526,2.5922.6534,2.9154,2.2217.2818,1.3678-.1539,2.4301-1.4087,3.1201-.753.4141-1.5979.413-2.6533.5433-.3391,4.3884-.6842,8.8137-1.0223,13.2394-.6291,8.2336-1.1861,16.4735-1.9071,24.6991-.4066,4.6383-3.2088,7.1884-7.855,7.2343-7.7344.0765-15.4706.0759-23.205.0028-4.8551-.0459-7.6554-2.8261-8.0081-7.6392-.8391-11.4477-1.6894-22.8945-2.5451-34.3409-.0736-.9845-.2208-1.9635-.3616-3.1871ZM10.0772,15.4168c0,.8183-.0412,1.4707.0063,2.1167.5035,6.8345,1.0197,13.6681,1.5353,20.5017.3479,4.6106.66,9.2243,1.0671,13.8298.222,2.5114.7467,3.0507,2.98,3.0629,7.3181.0401,14.6367.0438,21.9548-.0041,2.1321-.014,2.7381-.6933,2.9018-2.8578.6475-8.5627,1.3641-17.1214,1.8804-25.6921.2169-3.6005.8215-7.1927.5864-10.9571H10.0772ZM18.5123,9.25h16.224c-.877-2.9157-2.7887-3.7532-5.5483-3.4568-1.8919.2032-3.8498.2366-5.7317-.0076-2.7948-.3626-4.0611,1.0753-4.9441,3.4644Z"/></svg>'}function iconArrowUp(){return'\n    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119.2398 138.9532">\n    <g id="hZ2XNP.tif"><path d="M66.9283,26.7098c0,1.048,0,2.096,0,3.144.0002,33.5102-.0034,67.0204.0068,100.5306.001,3.1423-.5624,5.9318-3.6522,7.6137-4.7684,2.5955-10.381-.3554-10.819-5.7608-.0804-.9924-.0675-1.9937-.0676-2.9909-.0031-33.0944-.0002-66.1889-.0122-99.2833-.0004-1.1104-.1446-2.2208-.2629-3.9228-1.2448,1.1076-2.0761,1.7541-2.7995,2.5049-11.9381,12.3892-23.8594,24.7946-35.7923,37.1887-3.3264,3.455-6.288,4.1379-9.7319,2.2928-3.5095-1.8802-4.8111-5.8256-2.9499-9.3254.6529-1.2277,1.5212-2.3879,2.4812-3.3982C19.9306,37.8314,36.6102,20.4332,53.1513,2.9042c3.7846-4.0106,9.2193-3.7375,12.7173.0195,16.1955,17.3948,32.7616,34.4441,49.1711,51.64,1.1966,1.2539,2.3812,2.5835,3.2598,4.063,1.66,2.7953,1.048,6.2427-1.2508,8.4212-2.3552,2.2319-6.455,2.8381-8.9009.8315-2.8084-2.304-5.3293-4.9765-7.8553-7.6042-10.2519-10.6643-20.4557-21.3748-30.6859-32.0601-.6137-.641-1.3022-1.2105-1.9558-1.8133-.2408.1027-.4816.2053-.7224.308Z"/></g></svg>'}function iconArrowDown(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119.2398 138.9532">\n    <g id="hZ2XNP.tif"><path d="M52.3116,112.2433c0-1.048,0-2.096,0-3.144-.0002-33.5102.0034-67.0204-.0068-100.5306-.001-3.1423.5624-5.9318,3.6522-7.6137,4.7684-2.5955,10.381.3554,10.819,5.7608.0804.9924.0675,1.9937.0676,2.9909.0031,33.0944.0002,66.1889.0122,99.2833.0004,1.1104.1446,2.2208.2629,3.9228,1.2448-1.1076,2.0761-1.7541,2.7995-2.5049,11.9381-12.3892,23.8594-24.7946,35.7923-37.1887,3.3264-3.455,6.288-4.1379,9.7319-2.2928,3.5095,1.8802,4.8111,5.8256,2.9499,9.3254-.6529,1.2277-1.5212,2.3879-2.4812,3.3982-16.602,17.4717-33.2815,34.8699-49.8226,52.3989-3.7846,4.0106-9.2193,3.7375-12.7173-.0195-16.1955-17.3948-32.7616-34.4441-49.1711-51.64-1.1966-1.2539-2.3812-2.5835-3.2598-4.063-1.66-2.7953-1.048-6.2427,1.2508-8.4212,2.3552-2.2319,6.455-2.8381,8.9009-.8315,2.8084,2.304,5.3293,4.9765,7.8553,7.6042,10.2519,10.6643,20.4557,21.3748,30.6859,32.0601.6137.641,1.3022,1.2105,1.9558,1.8133.2408-.1027.4816-.2053.7224-.308Z"/></g></svg>'}function iconArrowLeft(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 138.9532 119.2398"><g id="hZ2XNP.tif"><path d="M26.7098,52.3116c1.048,0,2.096,0,3.144,0,33.5102-.0002,67.0204.0034,100.5306-.0068,3.1423-.001,5.9318.5624,7.6137,3.6522,2.5955,4.7684-.3554,10.381-5.7608,10.819-.9924.0804-1.9937.0675-2.9909.0676-33.0944.0031-66.1889.0002-99.2833.0122-1.1104.0004-2.2208.1446-3.9228.2629,1.1076,1.2448,1.7541,2.0761,2.5049,2.7995,12.3892,11.9381,24.7946,23.8594,37.1887,35.7923,3.455,3.3264,4.1379,6.288,2.2928,9.7319-1.8802,3.5095-5.8256,4.8111-9.3254,2.9499-1.2277-.6529-2.3879-1.5212-3.3982-2.4812-17.4717-16.602-34.8699-33.2815-52.3989-49.8226-4.0106-3.7846-3.7375-9.2193.0195-12.7173C20.3185,37.1757,37.3678,20.6096,54.5637,4.2002c1.2539-1.1966,2.5835-2.3812,4.063-3.2598,2.7953-1.66,6.2427-1.048,8.4212,1.2508,2.2319,2.3552,2.8381,6.455.8315,8.9009-2.304,2.8084-4.9765,5.3293-7.6042,7.8553-10.6643,10.2519-21.3748,20.4557-32.0601,30.6859-.641.6137-1.2105,1.3022-1.8133,1.9558.1027.2408.2053.4816.308.7224Z"/></g></svg>'}function iconArrowRight(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 138.9532 119.2398"><g id="hZ2XNP.tif"><path d="M112.2433,66.9283c-1.048,0-2.096,0-3.144,0-33.5102.0002-67.0204-.0034-100.5306.0068-3.1423.001-5.9318-.5624-7.6137-3.6522-2.5955-4.7684.3554-10.381,5.7608-10.819.9924-.0804,1.9937-.0675,2.9909-.0676,33.0944-.0031,66.1889-.0002,99.2833-.0122,1.1104-.0004,2.2208-.1446,3.9228-.2629-1.1076-1.2448-1.7541-2.0761-2.5049-2.7995-12.3892-11.9381-24.7946-23.8594-37.1887-35.7923-3.455-3.3264-4.1379-6.288-2.2928-9.7319,1.8802-3.5095,5.8256-4.8111,9.3254-2.9499,1.2277.6529,2.3879,1.5212,3.3982,2.4812,17.4717,16.602,34.8699,33.2815,52.3989,49.8226,4.0106,3.7846,3.7375,9.2193-.0195,12.7173-17.3948,16.1955-34.4441,32.7616-51.64,49.1711-1.2539,1.1966-2.5835,2.3812-4.063,3.2598-2.7953,1.66-6.2427,1.048-8.4212-1.2508-2.2319-2.3552-2.8381-6.455-.8315-8.9009,2.304-2.8084,4.9765-5.3293,7.6042-7.8553,10.6643-10.2519,21.3748-20.4557,32.0601-30.6859.641-.6137,1.2105-1.3022,1.8133-1.9558-.1027-.2408-.2053-.4816-.308-.7224Z"/></g></svg>'}function iconPlay(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119.5598 139.7704"><g id="_x34_eGOfy.tif"><path d="M119.5596,67.2809c-.2345,9.0813-3.4255,13.1084-8.4718,16.1757-27.5394,16.7392-55.0219,33.5721-82.5256,50.37-2.1969,1.3418-4.3704,2.7278-6.6182,3.9793-4.5522,2.5345-9.2292,2.6518-13.796.1472C2.5897,134.9049-.21,130.1593.013,123.7403c.0289-.8306.0141-1.6627.0142-2.4941C.0278,86.4919.0541,51.7375,0,16.9832-.0083,11.6469,1.1669,6.94,5.5235,3.4611,10.8056-.7566,16.9082-1.1616,22.9114,2.4774c12.5012,7.578,24.9588,15.2279,37.4348,22.8475,17.0128,10.3904,34.0281,20.7766,51.0379,31.1719,5.1554,3.1507,8.2079,7.5531,8.1755,10.7841Z"/></g></svg>'}function iconPause(){return'<?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 99.5554 119.7329"><g id="DzTKLJ.tif"><path d="M.0123,60.1137c-.0004-14.6374-.0083-29.2749.0023-43.9123C.0218,6.3226,6.0746.1441,15.9242.0391c3.4016-.0362,6.8437-.1457,10.2008.2904,8.1937,1.0645,13.0632,6.4233,13.4073,14.6665.2149,5.1474.0836,10.3099.0847,15.4656.0051,24.0353-.0091,48.0707.0141,72.106.0036,3.7145-.4578,7.2945-2.5416,10.4664-2.533,3.8557-6.2543,6.0408-10.7392,6.3946-4.2823.3378-8.6767.4967-12.9125-.0751C4.5378,118.152.0562,112.7315.0259,103.7766c-.0492-14.5541-.0133-29.1086-.0137-43.6629Z"/><path d="M59.9077,60.0785c0-14.6375-.0086-29.2749.003-43.9124.0079-9.8634,6.0797-16.0328,15.9445-16.1271,3.4013-.0325,6.8424-.1361,10.1998.299,8.1814,1.0603,13.0554,6.4242,13.3736,14.6929.2237,5.8131.0831,11.6407.0843,17.4619.0051,23.37-.0088,46.7401.0131,70.1101.0035,3.7142-.4648,7.2917-2.5631,10.4581-2.7178,4.1014-6.7236,6.2034-11.492,6.4658-4.292.2362-8.6533.2369-12.9161-.2512-7.2668-.8322-12.4394-6.484-12.522-13.7914-.171-15.1335-.0516-30.2702-.0516-45.4056-.0245,0-.0491,0-.0736,0Z"/></g></svg>'}function iconCheck(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.2847 94.4394"><g id="sHB9Y8.tif"><path d="M49.7167,82.3981c.7678-.7325,1.4327-1.3426,2.071-1.9793,19.7724-19.7226,39.5351-39.4548,59.3164-59.1685,6.415-6.3931,12.9029-12.7134,19.3082-19.1162,3.5137-3.5123,6.3898-2.188,8.1039.3763,1.1592,1.7341.964,3.4654-.2962,5.07-.5105.65-1.1227,1.223-1.7098,1.8099-27.4526,27.4444-54.9073,54.8867-82.3624,82.3286-3.596,3.5943-5.3965,3.6298-8.9402.0915-14.2933-14.2712-28.5688-28.5602-42.8676-42.8259-1.5338-1.5303-2.828-3.1143-2.1596-5.458,1.0476-3.6734,5.159-4.7037,8.0593-1.9681,3.0211,2.8496,5.9617,5.7853,8.9119,8.709,10.0342,9.9443,20.0553,19.9019,30.0882,29.8476.7597.7531,1.5729,1.4524,2.4769,2.2831Z"/></g></svg>'}function iconCalendarAlt(){return'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.6199 159.4036"><g id="a8w9kx.tif"><path d="M.1875,59.8313h2.716c44.489-.0002,88.978.0207,133.4669-.0557,2.5085-.0043,3.2577.6352,3.2495,3.1818-.0861,26.6012-.0334,53.2028-.063,79.8042-.0117,10.5177-6.2674,16.6416-16.8492,16.6415-35.3417-.0005-70.6834.0005-106.0252.0005C6.3472,159.4036.0662,153.3709.0412,143.1141-.0251,115.9309.0127,88.7474.0165,61.564c0-.4809.0922-.9617.171-1.7327Z"/><path d="M89.746,19.6237c0-1.309-.0759-2.6923.0159-4.0643.1878-2.8056.2816-5.6362.7495-8.3999C91.2224,2.9595,95.2277-.0258,99.7097.0006c4.565.0269,8.6607,2.9807,9.2564,7.1603.4774,3.3495.4805,6.7816.4859,10.1773.0031,1.948.6634,2.5919,2.6226,2.591,4.6475-.0021,9.3284-.0797,13.9353.425,8.0603.8831,12.8896,6.015,13.4331,14.1095.3001,4.4701.0705,8.9745.1295,13.4628.0182,1.3895-.5422,1.9996-1.93,1.8524-.3289-.0349-.6648-.0037-.9974-.0037-44.66,0-89.3201-.0002-133.9801-.0003H.0176c0-1.8093-.0449-3.5157.0088-5.219.136-4.3072-.2817-8.741.6075-12.8918,1.6803-7.8437,7.1108-11.5393,15.9702-11.7603,3.657-.0912,7.3204-.0919,10.9766.0135,1.7525.0505,2.3014-.5894,2.3391-2.299.0748-3.394.1385-6.8164.6263-10.1661C31.1905,3.0279,35.1003.058,39.7756.0008c4.6595-.0571,8.7647,3.1334,9.3342,7.6094.4275,3.3604.4708,6.7744.5812,10.1679.0458,1.4081.4136,2.1348,1.9974,2.129,12.3082-.0449,24.6167-.0325,36.925-.0458.2402-.0003.4802-.097,1.1326-.2376Z"/></g></svg>'}
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */photosApp.image={prevent_load:!1,preloadHeights:1.5,variants:{device:variantNames.device,thumb:variantNames.thumb},variantOrder:{thumb:[variantNames.thumb],grid:{"1k":[variantNames.thumb,variantNames.device],"2k":[variantNames.thumb,variantNames.device]},full:{"4k":[variantNames.device,variantNames.thumb]}},threshold:{"2k":720,"4k":1200},getUrl(e,t,n){let o,r;if("string"!=typeof e&&"number"!=typeof e||(e=photosApp.items.local.items[e]),!e)return photosApp.placeholderImg;let s=photosApp.image.variantOrder.grid["1k"],i=window.devicePixelRatio?window.devicePixelRatio:1;t&&(t=Number.parseInt(t),o=photosApp.style.screen.width.current*i/t),n||o&&o>=photosApp.image.threshold["4k"]?s=photosApp.image.variantOrder.full["4k"]:o&&o>=photosApp.image.threshold["2k"]&&(s=photosApp.image.variantOrder.grid["2k"]);for(let t in s){let n=s[t];if(e.id in photosApp.items.local.variants&&n in photosApp.items.local.variants[e.id]&&photosApp.items.local.variants[e.id][n].local_url&&(r=photosApp.items.local.variants[e.id][n].local_url),r)break}return r?(r=photosApp.image.normalizeUrl(r),r):photosApp.placeholderImg},normalizeUrl:function(e){return e?(e.includes("data:")||is_windows&&(e=getWindowsPath(e,!0)),e):null},timeObserve(e){"string"==typeof e&&(e=document.getElementById(e));const t=e.querySelectorAll("[class*='__image']");photosApp.observer=[];const n={root:e,rootMargin:photosApp.style.screen.height.current*photosApp.image.preloadHeights+"px",threshold:0},o=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&loadGridImage(e.target)}))}),n);t.forEach((e=>{o.observe(e)}))},getDeviceSrc:function(e){return new Promise((async(t,n)=>{let o,r;try{if(e in photosApp.items.local.variants&&photosApp.items.local.variants[e][photosApp.image.device_variant_name])return o=photosApp.items.local.variants[e][photosApp.image.device_variant_name].local_url,t(photosApp.image.normalizeUrl(o));let n=(await axios.get(`${photosApp.backend.host}items/${e}/device`)).data;return r=n.item,t(r?n.device_src:null)}catch(e){return n(e)}}))},level3Observe:function(e){const t=document.getElementById(e).querySelectorAll("[class*='image']"),n={root:document.getElementById("level-3-content"),rootMargin:photosApp.style.screen.height.current*photosApp.image.preloadHeights+"px",threshold:0},o=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&loadMetadataImage(e.target)}))}),n);t.forEach((e=>{o.observe(e)}))},fullscreenObserve:function(){const e=photosApp.app.els.fullscreen.querySelectorAll(`.${photosApp.fullscreen.img_class}`),t={root:photosApp.app.els.fullscreen,rootMargin:2*photosApp.style.screen.width.current+"px",threshold:0},n=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&loadFullscreenImage(e.target)}))}),t);e.forEach((e=>{n.observe(e)}))},getSources:function(e,t,n){return new Promise((async(o,r)=>{let s=!1,i={local:null};if(e in photosApp.items.local.items&&e in photosApp.items.local.variants&&Object.keys(photosApp.items.local.variants[e]).length&&(s=!0),s)i.local=photosApp.image.getUrl(e,t,n);else try{i=(await axios.get(`${photosApp.backend.host}items/${e}/sources?num_cols=${t}&is_fullscreen=${n}`)).data}catch(e){return r(e)}o(i)}))}},photosApp.items={local:{items:{},variants:{}},getLife:(e,t,n)=>new Promise((async(o,r)=>{try{o((await axios.put(`${photosApp.backend.host}life/item`,{gridIndex:e,divOrder:t,intervalLoop:n})).data)}catch(e){o(null)}})),getItem:function(e){return photosApp.items.local.items[e]},getYear:function(e){let t=getMasterDate(photosApp.items.local.items[e]);return new Date(t).getFullYear()},getMonth:function(e){let t=getMasterDate(photosApp.items.local.items[e]);return new Date(t).getMonth()+1},getDay:function(e){let t=getMasterDate(photosApp.items.local.items[e]);return new Date(t).getDate()},getHour:function(e){let t=getMasterDate(photosApp.items.local.items[e]);return new Date(t).getHours()},getMinute:function(e){let t=getMasterDate(photosApp.items.local.items[e]);return new Date(t).getMinutes()},getSecond:function(e){let t=getMasterDate(photosApp.items.local.items[e]);return new Date(t).getSeconds()},updateDateTime:function(e,t){return new Promise(((n,o)=>{let r=photosApp.items.local.items[e],s=["year","month","day","hour","minute","second"],i=!0;for(let e in s){let n=s[e];n in t&&!Number.isNaN(Number.parseInt(t[n]))||(i=!1)}if(!i)return o();let a=["month","day","hour","minute","second"];for(let e in t){let n=t[e];n=n.toString(),t[e]=n,a.indexOf(e)>-1&&1===n.length&&(t[e]=formatNumberLength(n,2))}if(t.year.length>4)return o("Year needs to be 4 digits or less");t.year.length<4&&(t.year=formatNumberLength(t.year,4)),r.master_item_date=`${t.year}-${t.month}-${t.day} ${t.hour}:${t.minute}:${t.second}`,n()}))},updateItem:function(e,t){return new Promise((async(n,o)=>{let r={};r[t]=e[t];let s=`${photosApp.backend.host}items/${e.id}`;try{await axios.put(s,r)}catch(e){}n()}))},getData:function(e){return new Promise((async(t,n)=>{try{let n=`${photosApp.backend.host}data/items?item_id=${e}`;t((await axios.get(n)).data)}catch(e){return n(e)}}))},getCount:function(){return new Promise((async(e,t)=>{let n=0;try{n=(await axios.get(`${photosApp.backend.host}items/photos/count`)).data.count}catch(t){return console.error(t),e(0)}return e(n)}))},showLocal:async function(e,t){e.preventDefault(),e.stopPropagation();let n=e.currentTarget?e.currentTarget:e.target;if(!n._in_progress){if(n._in_progress=!0,t){let e=photosApp.items.local.items[t];if(e){let t=e.local_url;if(!t)return void(n._in_progress=!1);if(is_mac)try{await axios.put(`${photosApp.backend.host}show/file/local`,{file:t})}catch(e){console.error(e)}else if(is_windows){require("electron").shell.showItemInFolder(t)}}}n._in_progress=!1}}},photosApp.db={init_called:!1,data_loaded:!1,classes:{loading:"db-loading"},dir:null,init:function(){return photosApp.initLastStep="db",new Promise((async(e,t)=>{if(photosApp.db.init_called)return e();photosApp.db.init_called=!0;try{await photosApp.db.getPartitions()}catch(e){return t(e)}e()}))},getPartitions:function(){return new Promise((async(e,t)=>{try{await axios.get(`${photosApp.backend.host}db`),e()}catch(e){t()}}))},setDataLoaded:function(){return new Promise((async(e,t)=>{try{await axios.put(`${photosApp.backend.host}db/loaded`)}catch(e){}return photosApp.db.data_loaded=!0,e()}))},getBackend:function(){return new Promise((async(e,t)=>{let n=[{url:"items",prop:"items.local.items"},{url:"variants",prop:"items.local.variants"}];try{for(let e in n){let t=n[e],o=await axios.get(`${photosApp.backend.host}${t.url}`);_.set(photosApp,t.prop,o.data)}}catch(e){console.error(e)}try{await photosApp.db.setDataLoaded()}catch(e){}photosApp.time.updateChronologyFromTo(),e()}))}},photosApp.view={setupTimeViews:(e,t)=>new Promise((async(e,n)=>{let o=timeNow(!0);photosApp.app.processes.timeView.push(o),devConsole("update time views"),photosApp.app.setNoItems(!1);let r=await photosApp.view.getBackendView("life",{intervalLoop:photosApp.time.intervalLoop,on_chronology:t});try{await async function(t){if(-1===photosApp.app.processes.timeView.indexOf(o))return n();if(photosApp.app.processes.timeView.length>1){let e=photosApp.app.processes.timeView[photosApp.app.processes.timeView.length-1];if(o!==e){let e=photosApp.app.processes.timeView.indexOf(o);return photosApp.app.processes.timeView.splice(e,1),n()}}t?(document.getElementById("life").innerHTML=t,photosApp.style.setStyles(),await photosApp.style.updateCalculations(!0),requestAnimationFrame((async function(){photosApp.app.hasItems()||await rafAwait(),photosApp.image.timeObserve("life"),photosApp.app.addTapEventListeners("time");for(let e in photosApp.app.processes.timeView)photosApp.app.processes.timeView[e]<=o&&photosApp.app.processes.timeView.splice(e,1);e()}))):e();requestAnimationFrame((function(){photosApp.app.init_finished?photosApp.app.removeLoadingScreen():setTimeout((function(){photosApp.app.removeLoadingScreen(),photosApp.app.init_finished=!0,photosApp.setInit(!1),e()}),100),photosApp.app.updateFullscreenBackground()}))}(r.life),photosApp.time.intervalLoop=r.intervalLoop}catch(e){}photosApp.style.updateCalculations(!1)})),addOrganizeGridItemsHTML:function(){let e=document.getElementById("organize-all").querySelectorAll(".grid_item_container.selected");if(null!==photosApp.organize.selected.items)for(let t=0;t<e.length;t++){let n=e[t];n.getAttribute("data-item-id")in photosApp.organize.selected.items||removeClassEl("selected",n)}let t="select",n=document.getElementById("level-3-title"),o=`${Object.keys(photosApp.organize.selected.items).length} <br>Selected`;n.querySelector(`.${t}`)||(n.innerHTML+=`<div class="${t}">\n                                             <div class="total-selected">${o}</div>\n                                              <div class="section-title">Batch Organize</div>\n                                            <div class="btn-sm-default select-all">Select All</div>\n                                           </div>`,n.querySelector(".select-all").addEventListener(click_handler,(function(){let e=document.getElementById("organize-all").getElementsByClassName("grid_item_container"),t=!1;Object.keys(photosApp.organize.selected.items).length<e.length/2&&(t=!0);let n="Select All";if(t&&(n="Unselect All"),this.innerHTML=n,t){let t,n,o=!1;document.getElementById("organize-menu").querySelector(".date.selected")&&photosApp.organize.calendar_instance&&photosApp.organize.calendar_instance.latestSelectedDateObj&&(o=!0,t=moment(photosApp.organize.calendar_instance.latestSelectedDateObj),n=`${t.year()}-${formatNumberLength(t.month()+1,2)}-${formatNumberLength(t.date(),2)}`);for(let r=0;r<e.length;r++){let s=e[r];addClassEl("selected",s);let i=s.getAttribute("data-item-id");photosApp.organize.selected.items[i]=!0,o&&(photosApp.organize.items[i]={year:t.year(),month:formatNumberLength(t.month()+1,2),date:formatNumberLength(t.date(),2)},s.parentNode.querySelector(".date.new").innerHTML=n)}}else{for(let t=0;t<e.length;t++){let n=e[t];removeClassEl("selected",n),n.parentNode.querySelector(".date.new").innerHTML=""}photosApp.organize.items={},photosApp.organize.selected.items={}}photosApp.time.updateOrganizeGridItemsCount()})))},updateDirCount:function(){let e=photosApp.local.getSelectedDirCount();document.getElementById("manage-folders-count").innerHTML=`(${e})`},updateManageDirectories:function(){let e="",t=photosApp.style.view.level2.height-document.getElementById("manage-folders").querySelector(".header-folders").getBoundingClientRect().height,n=photosApp.local.listFolders(),o=Object.keys(n).length;for(let t=0;t<o;t++){let o="odd";t%2!=0&&(o="even");let r,s="";r=Object.keys(n)[t],r&&(s=`<div class="dir-name">\n                    ${n[r]}\n                </div>\n\n                <div class="delete-dir" data-dir-key="${r}">\n                    <i class="">${iconTrash()}</i>\n                </div>`),e+=`<div class="dir-row ${o}">\n                                ${s}\n                            </div>`}document.getElementById("manage-folders").querySelector(".folder-list").style.height=`${t}px`,document.getElementById("manage-folders").querySelector(".folder-list").querySelector(".container").innerHTML=e,photosApp.events.deleteFoldersDir()},showDateMenu:async function(e){e.preventDefault(),e.stopPropagation(),photosApp.events.closeConditionally(e);let t=e.target,n=0,o=0,r=photosApp.app.els.time.querySelector(".time-period.display"),s=t.closest(".date__column"),i=s.getAttribute("id"),a=s.getAttribute("grid-index");photosApp.app.dateMenu.gridIndex=a;let l=t.closest(".date__row"),p=Number.parseInt(l.style.top.replace("px","")),c=t.closest(".row-group"),u=Number.parseInt(c.style.top.replace("px",""));isNumeric(u)||(u=0);let d=c.getElementsByClassName("date__row"),h=d[d.length-1],f=Number.parseInt(h.style.top.replace("px","")),m=r.getElementsByClassName("context__menu");for(let e=m.length-1;e>=0;e--){m[e].remove()}let g=await photosApp.time.getCount(a),v=`        <div class="items">\n                                   ${numberWithCommas(g)} Item${g>1?"s":""}\n                                   <i class="close" on${click_handler}="photosApp.app.hideDateMenu(event)">\n                                        ${iconX()}\n                                    </i>\n                                </div>\n                                    \n                                    <div class="organize"\n                                        onclick="photosApp.app.showDateLevel3(event, 'organize-all')"\n                                    >\n                                        <i class="organize-icon">${iconOrganize()}</i>\n                                        <span>Organize</span>\n                                    </div>\n                    `,y=createEl("div",null,["context__menu","date__menu"]);y.setAttribute("date-id",i),y.innerHTML=v;let A=t.getBoundingClientRect().x-photosApp.style.grid.menu.width+photosApp.style.grid.circle.width+n;A>photosApp.style.screen.width.current-photosApp.style.grid.menu.width?A=photosApp.style.screen.width.current-photosApp.style.grid.menu.width:A<0&&(A=0);let _=p+u+o,w=f+u+photosApp.style.screen.height.current/l.getElementsByClassName("date__column").length-photosApp.style.grid.menu.height;_>w&&(_=w),y.style.top=_+"px",y.style.left=A+"px",r.appendChild(y),addClassEl("show",y),photosApp.app.dateMenu.open=!0,photosApp.app.addTapEventListeners(y)},updateOrganizeGridItemsView:function(e){return new Promise((async(t,n)=>{function o(e,n){e&&(n&&(e=JSON.parse(e)),i.innerHTML=e,photosApp.events.addOrganizeMenuHandler(),photosApp.app.displayGroupsConditionally("level-3-content",!0),photosApp.view.addOrganizeGridItemsHTML(),photosApp.app.addTapEventListeners("level-3-content"),photosApp.image.level3Observe(s)),t()}function r(e){e.setDate(`${e.currentYear}-${e.currentMonth+1}-01`,!0)}let s="organize-all",i=document.getElementById(s),a=document.getElementById("level-3-footer");function l(){let e="placeholder",t=document.getElementById("organize-date-input"),n=t.parentElement;t.value?removeClassEl(e,n):addClassEl(e,n)}i.innerHTML="",i.setAttribute("data-grid-index",e),document.getElementById("level-3-confirm").innerHTML=photosApp.organize.tab_classes[photosApp.organize.last_menu].button_text,a.querySelector("#organize-date").value="";let p=a.querySelector(".flatpickr-input");p&&(p.value=""),l();let c=photosApp.organize.calendar_instance=flatpickr("#organize-date-input",{});if(photosApp.organize.last_date.year){let e=photosApp.organize.last_date.year,t=photosApp.organize.last_date.month,n=photosApp.organize.last_date.day;c.setDate(`${e}-${t}-${n}`)}c.config.onOpen.push((function(){photosApp.organize.isCalendarOpen=!0;let e=new Date;if(photosApp.organize.last_date.year){e=`${photosApp.organize.last_date.year}-${photosApp.organize.last_date.month}-${photosApp.organize.last_date.day}`}c.setDate(e)})),c.config.onClose.push((function(){photosApp.organize.isCalendarOpen=!1,l()})),c.config.onMonthChange.push((function(e,t,n){r(n)})),c.config.onYearChange.push((function(e,t,n){r(n)})),c.config.onChange.push((function(e,t){let n=t.substring(0,4),o=t.substring(5,7),r=t.substring(8);photosApp.organize.last_date.year=n,photosApp.organize.last_date.month=o,photosApp.organize.last_date.day=r;for(let e in photosApp.organize.selected.items)e in photosApp.organize.items||(photosApp.organize.items[e]={}),photosApp.organize.items[e].year=n,photosApp.organize.items[e].month=o,photosApp.organize.items[e].date=r;for(let e in photosApp.organize.items){document.getElementById("gridorganizeitem"+e).querySelector(".date.new").innerHTML=t}l()}));let u=await photosApp.view.getBackendView("organize-grid",{metadata:photosApp.style.metadata,selected:photosApp.organize.selected.items,gridIndex:e||photosApp.app.dateMenu.gridIndex});if(!u||!u.html)return o();null===photosApp.organize.selected.items&&(photosApp.organize.selected.items={}),o(u.html)}))},fullscreenActions:function(e){e=Number.parseInt(e);let t=photosApp.app.els.fullscreen.querySelector(".item-actions"),n=t.getAttribute("data-item-id");if(Number.parseInt(n)===e)return!1;t.setAttribute("data-item-id",e);let o={},r=photosApp.items.local.items[e],s=t.querySelector(".action.date"),i=t.querySelector(".action.file"),a=t.querySelector(".action.slideshow"),l=t.querySelector(".action.locate"),p=t.querySelector(".action.delete");function c(t,n,r,s){devConsole("on date input change"),n?t={target:n}:t&&(t.preventDefault(),t.stopPropagation()),"inputType"in t||(t.inputType="");let i=t.currentTarget?t.currentTarget:t.target,a=i.closest(".date-group"),l=Number.parseInt(i.value);(e=photosApp.fullscreen.item_ids.current)in o||(o[e]={year:null,month:null,day:null,hour:null,minute:null,second:null});let p=o[e];for(let e in p){let t=p[e];null!==t&&""!==t&&(p[e]=Number.parseInt(t))}if(a.classList.contains("date-year")){if(t.inputType.indexOf("delete")>-1)return p.year=i.value,!1;photosApp.time.isValidYear(l)||(i.value=photosApp.items.getYear(e)),p.year=i.value}else if(a.classList.contains("date-month")){if(t.inputType.indexOf("delete")>-1)return p.month=i.value,!1;if(""===p.month&&[0,1].indexOf(l)>-1)return p.month=i.value,!1;photosApp.time.isValidMonth(l)?l=formatNumberLength(l,2):l<0?l=12:0===l||(l=l>=13?1:photosApp.items.getMonth(e)),i.value=0===l?0:formatNumberLength(l,2),p.month=l}else if(a.classList.contains("date-day")){if(t.inputType.indexOf("delete")>-1)return p.day=i.value,!1;let n=a.closest(".dates").querySelector(".date-year").querySelector("input").value,o=a.closest(".dates").querySelector(".date-month").querySelector("input").value;o=formatNumberLength(o,2);let r=moment(`${n}-${o}`,"YYYY-MM").daysInMonth(),s=[0,1,2];if(r>=30&&s.push(3),""===p.day&&s.indexOf(l)>-1)return p.day=i.value,!1;Number.isNaN(l)?l=photosApp.items.getDay(e):l<0?l=r:0===l||l>r&&(l=1),i.value=0===l?0:formatNumberLength(l,2),p.day=l}else if(a.classList.contains("date-hour")){if(t.inputType.indexOf("delete")>-1)return p.hour=i.value,!1;if(""===p.hour&&[0,1].indexOf(l)>-1)return p.hour=i.value,!1;let n=a.querySelector(".pm").innerHTML.toLowerCase().indexOf("pm")>-1,o=!1;r&&12===r||0===l&&13===p.hour||0===l&&1===p.hour&&n?l=12:12===l&&23===p.hour&&n?(l=12,o=!0):l>=13&&12===p.hour&&!n?l=1:0!==l||n||1!==p.hour?0===l||1===l||12===l&&n||n&&13===l||(12===l&&23===p.hour?n&&(l+=12):n&&12!==p.hour||n&&12===p.hour&&13!==l&&11!==l?l+=12:n||12!==p.hour?n||0!==p.hour||13!==l?n||0!==p.hour||11!==l||(l+=12):l-=12:l+=12):(l=12,o=!0),Number.isNaN(l)?l=photosApp.items.getHour(e):0===l||(l>23?l=0:l<0&&(l=23));let s="AM";o||(l>=12||n&&1===l)&&(s="PM");let c=l;1===l&&n&&(c=13),p.hour=c,l>12&&(l-=12),0===l?i.value=0:1===l?i.value="01":(i.value=formatNumberLength(l,2),a.querySelector(".pm").innerHTML=s)}else if(a.classList.contains("date-minute")){if(t.inputType.indexOf("delete")>-1)return p.minute=i.value,!1;if(""===p.minute&&[0,1,2,3,4,5].indexOf(l)>-1)return p.minute=i.value,!1;Number.isNaN(l)?l=photosApp.items.getMinute(e):l<0?l=59:l>59&&(l=0),i.value=formatNumberLength(l,2),p.minute=l}else if(a.classList.contains("date-second")){if(t.inputType.indexOf("delete")>-1)return p.second=i.value,!1;if(""===p.second&&[0,1,2,3,4,5].indexOf(l)>-1)return p.second=i.value,!1;Number.isNaN(l)?l=photosApp.items.getSecond(e):l<0?l=59:l>59&&(l=0),i.value=formatNumberLength(l,2),p.second=l}}async function u(t,n,r,i){devConsole("Date input blur"),(e=photosApp.fullscreen.item_ids.current)in o||(o[e]={year:null,month:null,day:null,hour:null,minute:null,second:null});let a,l,p,c,u,d,h=o[e];n||(t.preventDefault(),t.stopPropagation(),n=t.currentTarget?t.currentTarget:t.target);let f,m=n.closest(".date-group"),g=Number.parseInt(n.value),v=!0;if(m.classList.contains("date-year"))photosApp.time.isValidYear(g)||(n.value=photosApp.items.getYear(e),v=!1);else if(m.classList.contains("date-month")){g<=0?g=12:g>=13&&(g=1),m.closest(".date").querySelector(".date-month").querySelector("input").value=formatNumberLength(g,2),photosApp.time.isValidMonth(g)||(n.value=photosApp.items.getMonth(e),v=!1),a=m.closest(".dates").querySelector(".date-year").querySelector("input").value,l=formatNumberLength(g,2);let t=m.closest(".dates").querySelector(".date-day").querySelector("input");p=t.value,p=Number.parseInt(p),f=moment(`${a}-${l}`,"YYYY-MM").daysInMonth(),p>f&&(p=f,t.value=p,t.setAttribute("value",p))}else if(m.classList.contains("date-day"))a=m.closest(".date").querySelector(".date-year").querySelector("input").value,l=m.closest(".date").querySelector(".date-month").querySelector("input").value,l=formatNumberLength(l,2),f=moment(`${a}-${l}`,"YYYY-MM").daysInMonth(),g<=0?g=f:g>f&&(g=1),m.closest(".date").querySelector(".date-day").querySelector("input").value=formatNumberLength(g,2),photosApp.time.isValidDay(a,l,g)||(n.value=photosApp.items.getDay(e),v=!1);else if(m.classList.contains("date-hour")&&!r){let t=m.querySelector(".pm").innerHTML.toLowerCase().indexOf("pm")>-1,o=!1;0===g&&h&&13===h.hour?g=12:0===g&&i?(o=!0,g=12):13===g&&i&&!t?g=1:1===g||(12===g&&t&&h&&23===h.hour?o=!0:12===g&&!t&&h&&11===h.hour||(0!==g||t)&&(t&&13===g||(12===g&&h&&23===h.hour?t&&(g+=12):t&&h&&12!==h.hour||t&&h&&12===h.hour&&13!==g&&11!==g||!t&&h&&12===h.hour?g+=12:!t&&h&&0===h.hour&&13===g?g-=12:!t&&h&&0===h.hour&&11===g&&(g+=12)))),Number.isNaN(g)?g=photosApp.items.getHour(e):0===g||(g>23?g=0:g<0&&(g=23));let r="AM";o||(g>=12||t&&1===g)&&(r="PM");let s=g;1===g&&t&&(s=13),h.hour=s,g>12&&(g-=12),0===g?n.value=0:1===g?n.value="01":(n.value=formatNumberLength(g,2),m.querySelector(".pm").innerHTML=r),photosApp.time.isValidHour(g)||(n.value=photosApp.items.getHour(e),v=!1)}else m.classList.contains("date-minute")?photosApp.time.isValidMinute(g)||(n.value=photosApp.items.getMinute(e),v=!1):m.classList.contains("date-second")&&(photosApp.time.isValidSecond(g)||(n.value=photosApp.items.getSecond(e),v=!1));if(v){a=m.closest(".date").querySelector(".date-year").querySelector("input").value,l=m.closest(".date").querySelector(".date-month").querySelector("input").value,p=m.closest(".date").querySelector(".date-day").querySelector("input").value,c=m.closest(".date").querySelector(".date-hour").querySelector("input").value,m.closest(".date").querySelector(".pm").innerHTML.toLowerCase().indexOf("pm")>-1?12!==Number.parseInt(c)&&(c=Number.parseInt(c)+12):12===Number.parseInt(c)&&(c=0),c>23&&(c="23",u="59",c="59"),u=m.closest(".date").querySelector(".date-minute").querySelector("input").value,d=m.closest(".date").querySelector(".date-second").querySelector("input").value;let n="master_item_date";try{await photosApp.items.updateDateTime(e,{year:a,month:l,day:p,hour:c,minute:u,second:d})}catch(t){return void console.error(t)}let o=photosApp.items.local.items[e].master_item_date.substring(0,10);s.querySelector(".action-name").innerHTML=o;let r=photosApp.items.local.items[e];try{await photosApp.items.updateItem(r,n)}catch(t){console.error(t)}try{await photosApp.view.setupTimeViews(!0)}catch(t){}}}!function(){let e=getMasterDate(r),t=moment(e),n=e.substring(0,10);s.querySelector(".action-name").innerHTML=n;let o=t.hour(),i="AM";o>=12&&(i="PM"),o>12&&(o-=12),0===o&&"AM"===i&&(o=12);let a=formatNumberLength(o,2),l=s.querySelector(".date-year").querySelector("input"),p=s.querySelector(".date-month").querySelector("input"),d=s.querySelector(".date-day").querySelector("input"),h=s.querySelector(".date-hour").querySelector("input"),f=s.querySelector(".pm"),m=s.querySelector(".date-minute").querySelector("input"),g=s.querySelector(".date-second").querySelector("input");l.value=t.year(),p.value=formatNumberLength(t.month()+1,2),d.value=formatNumberLength(t.date(),2),h.value=a,f.innerHTML=i,m.value=formatNumberLength(t.minute(),2),g.value=formatNumberLength(t.second(),2);let v=s.getElementsByTagName("input");for(let e=0;e<v.length;e++){let t=v[e];t.getAttribute("listener")||(t.setAttribute("listener",!0),t.addEventListener(click_handler,(function(e){e.stopPropagation()})),t.addEventListener("input",(function(e){c(e)})),t.addEventListener("focusout",(function(e){try{u(e)}catch(e){}})))}let y=s.getElementsByClassName("date-row");for(let e=0;e<y.length;e++){let t=y[e];t.getAttribute("listener")||(t.setAttribute("listener",!0),t.addEventListener(click_handler,(function(e){e.stopPropagation()})))}let A=s.getElementsByClassName("arrow");for(let e=0;e<A.length;e++){let t=A[e];t.getAttribute("listener")||(t.setAttribute("listener",!0),t.addEventListener(click_handler,(function(e){e.stopPropagation();let t=e.currentTarget?e.currentTarget:e.target,n=t.closest(".date-group").querySelector("input"),o=Number.parseInt(n.value);t.classList.contains("arrow-up")?o++:t.classList.contains("arrow-down")&&o--,n.value=o,n.setAttribute("value",o),u(null,n,null,!0)})))}let _=s.getElementsByClassName("pm");for(let e=0;e<_.length;e++){let t=_[e];t.getAttribute("listener")||(t.setAttribute("listener",!0),t.addEventListener(click_handler,(function(e){e.stopPropagation();let t=e.currentTarget?e.currentTarget:e.target,n=t.closest(".date-group").querySelector("input"),o=(Number.parseInt(n.value),t.innerHTML.toLowerCase().indexOf("pm")>-1);t.innerHTML=o?"AM":"PM",u(null,n,!0)})))}}(),function(){let e=i.querySelector(".info.name"),t=i.querySelector(".info.resolution"),n=i.querySelector(".info.size");e.querySelector(".value").innerHTML=r.filename,t.querySelector(".value").innerHTML=`${r.width} x ${r.height}`,n.querySelector(".value").innerHTML=`${getSizeMB(r.size,1)} MB`}(),a._event_listener||(a._event_listener=!0,a.addEventListener(click_handler,(function(e){e.stopPropagation(),photosApp.slideshow.startSlideShow(photosApp.fullscreen.item_ids.current,photosApp.fullscreen.item_ids.list)}))),async function(){l._event_listener||(l._event_listener=!0,l.addEventListener(click_handler,(async function(e){e.stopPropagation();let t=photosApp.items.local.items[photosApp.fullscreen.item_ids.current];photosApp.items.showLocal(e,t.id)}))),l.setAttribute("data-item-id",photosApp.fullscreen.item_ids.current),l.querySelector(".action-name").innerHTML="Locate"}(),p._event_listener||(p._event_listener=!0,p.addEventListener(click_handler,(function(e){e.stopPropagation(),photosApp.app.openConfirm(null,"fullscreen-delete-item","Would you like to delete this item?",photosApp.fullscreen.item_ids.current)})))},currentTimeHeight:function(){return document.getElementById("time").querySelector(".display.time-period").scrollHeight},getBackendView:(e,t)=>new Promise((async(n,o)=>{let r={width:photosApp.style.screen.width.current,height:photosApp.style.screen.height.current,click_handler:click_handler};if(t)for(let e in t)r[e]=t[e];try{n((await axios.put(`${photosApp.backend.host}views/${e}`,r)).data)}catch(e){console.error(e),n()}})),removeDisplayFirst(e){requestAnimationFrame((function(){e&&e.classList.contains("show")&&removeClassEl(photosApp.style.classes.display_first,e.parentElement)}))}},photosApp.settings={name:"settings",init_called:!1,data:{rotate:!0,feature:{minutes:null,parallel:null,chronology:"desc"},style:{controls:!0,header:!0,footer:!0}},init:function(){return new Promise((async(e,t)=>{if(photosApp.settings.init_called)return e();photosApp.settings.init_called=!0;try{let e=await axios.get(`${photosApp.backend.host}settings`);photosApp.settings.data=e.data}catch(e){}e()}))},saveSettings:function(e,t){return new Promise((async(n,o)=>{let r=e.split("."),s=photosApp.settings.data;for(let e=0;e<r.length;e++){let n=r[e];e===r.length-1?s[n]=t:s=s[n]}try{await axios.put(`${photosApp.backend.host}settings`,{key:e,value:t})}catch(e){}n()}))}},photosApp.organize={calendar_instance:null,isCalendarOpen:!1,items:{},last_menu:"date",last_date:{year:null,month:null,day:null},selected:{date:{gridIndex:null},items:null},tab_classes:{date:{name:"date",button_text:"Update"},delete:{name:"delete",button_text:"Delete"}},onBatchDateSubmit:function(){return new Promise((async(e,t)=>{let n={};for(let e in photosApp.organize.selected.items)e in photosApp.organize.items&&(n[e]=photosApp.organize.items[e]);try{let e=await axios.put(`${photosApp.backend.host}organize/batch/date`,{items:n});if(202===e.status)try{await function(e){return new Promise((async(t,n)=>{for(let t in e){photosApp.items.local.items[t]=e[t];let n=document.getElementById("gridorganizeitem"+t);n.querySelector(".date.original").innerHTML=e[t].master_item_date.substring(0,10),n.querySelector(".date.new").innerHTML=""}requestAnimationFrame((async function(){try{await photosApp.app.updateHtml(!0,!1)}catch(e){console.error(e)}t()}))}))}(e.data)}catch(e){console.error(e)}}catch(e){console.error(e)}e()}))},onBatchDeleteConfirm:function(e){return new Promise((async(t,n)=>{if("hide"!==e&&"delete"!==e)return n("Action not supported");return new Promise((async(t,n)=>{try{202===(await axios.put(`${photosApp.backend.host}organize/batch/${e}`,{items:Object.keys(photosApp.organize.selected.items)})).status&&await new Promise((async(e,t)=>{for(let e in photosApp.organize.selected.items){let t=document.getElementById("gridorganizeitem"+e);t.parentNode.removeChild(t),delete photosApp.organize.selected.items[e]}photosApp.app.hideConfirm(),0===document.getElementById("organize-all").getElementsByClassName("organize__item").length?photosApp.app.hideLevel2():await photosApp.view.updateOrganizeGridItemsView(photosApp.organize.selected.date.gridIndex),photosApp.time.updateOrganizeGridItemsCount();try{await photosApp.app.updateHtml(!0,!1)}catch(e){}e()}))}catch(e){return console.error(e),n(e)}t()}))}))},hideCalendarIf:function(){photosApp.organize.isCalendarOpen&&photosApp.organize.calendar_instance.close()},setSelectedGridIndex:function(e){photosApp.organize.selected.date.gridIndex=e,photosApp.organize.selected.items=null}},function(){var e,t="Expected a function",n="__lodash_hash_undefined__",o="__lodash_placeholder__",r=16,s=32,i=64,a=128,l=256,p=1/0,c=9007199254740991,u=NaN,d=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",r],["flip",512],["partial",s],["partialRight",i],["rearg",l]],f="[object Arguments]",m="[object Array]",g="[object Boolean]",v="[object Date]",y="[object Error]",A="[object Function]",_="[object GeneratorFunction]",w="[object Map]",b="[object Number]",x="[object Object]",C="[object Promise]",M="[object RegExp]",S="[object Set]",E="[object String]",D="[object Symbol]",k="[object WeakMap]",I="[object ArrayBuffer]",T="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",N="[object Int8Array]",P="[object Int16Array]",F="[object Int32Array]",Y="[object Uint8Array]",$="[object Uint8ClampedArray]",H="[object Uint16Array]",z="[object Uint32Array]",B=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,V=/[&<>"']/g,W=RegExp(j.source),U=RegExp(V.source),Z=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+|\s+$/g,oe=/^\s+/,re=/\s+$/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pe=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,Ae=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",be="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="['â]",De="["+_e+"]",ke="["+Se+"]",Ie="["+we+"]",Te="\\d+",Le="["+be+"]",Oe="["+xe+"]",Ne="[^"+_e+Se+Te+be+xe+Ce+"]",Pe="\\ud83c[\\udffb-\\udfff]",Fe="[^"+_e+"]",Ye="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ce+"]",ze="\\u200d",Be="(?:"+Oe+"|"+Ne+")",Re="(?:"+He+"|"+Ne+")",qe="(?:['â](?:d|ll|m|re|s|t|ve))?",je="(?:['â](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Ie+"|"+Pe+")"+"?",We="["+Me+"]?",Ue=We+Ve+("(?:"+ze+"(?:"+[Fe,Ye,$e].join("|")+")"+We+Ve+")*"),Ze="(?:"+[Le,Ye,$e].join("|")+")"+Ue,Ge="(?:"+[Fe+Ie+"?",Ie,Ye,$e,De].join("|")+")",Xe=RegExp(Ee,"g"),Je=RegExp(Ie,"g"),Ke=RegExp(Pe+"(?="+Pe+")|"+Ge+Ue,"g"),Qe=RegExp([He+"?"+Oe+"+"+qe+"(?="+[ke,He,"$"].join("|")+")",Re+"+"+je+"(?="+[ke,He+Be,"$"].join("|")+")",He+"?"+Be+"+"+qe,He+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,Ze].join("|"),"g"),et=RegExp("["+ze+_e+we+Me+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,rt={};rt[L]=rt[O]=rt[N]=rt[P]=rt[F]=rt[Y]=rt[$]=rt[H]=rt[z]=!0,rt[f]=rt[m]=rt[I]=rt[g]=rt[T]=rt[v]=rt[y]=rt[A]=rt[w]=rt[b]=rt[x]=rt[M]=rt[S]=rt[E]=rt[k]=!1;var st={};st[f]=st[m]=st[I]=st[T]=st[g]=st[v]=st[L]=st[O]=st[N]=st[P]=st[F]=st[w]=st[b]=st[x]=st[M]=st[S]=st[E]=st[D]=st[Y]=st[$]=st[H]=st[z]=!0,st[y]=st[A]=st[k]=!1;var it={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,pt="object"==typeof global&&global&&global.Object===Object&&global,ct="object"==typeof self&&self&&self.Object===Object&&self,ut=pt||ct||Function("return this")(),dt="object"==typeof exports&&exports&&!exports.nodeType&&exports,ht=dt&&"object"==typeof module&&module&&!module.nodeType&&module,ft=ht&&ht.exports===dt,mt=ft&&pt.process,gt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,At=gt&&gt.isMap,_t=gt&&gt.isRegExp,wt=gt&&gt.isSet,bt=gt&&gt.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,o){for(var r=-1,s=null==e?0:e.length;++r<s;){var i=e[r];t(o,i,n(i),e)}return o}function Mt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,o=null==e?0:e.length,r=0,s=[];++n<o;){var i=e[n];t(i,n,e)&&(s[r++]=i)}return s}function kt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function It(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}function Tt(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}function Lt(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function Ot(e,t,n,o){var r=-1,s=null==e?0:e.length;for(o&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function Nt(e,t,n,o){var r=null==e?0:e.length;for(o&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Pt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var Ft=qt("length");function Yt(e,t,n){var o;return n(e,(function(e,n,r){if(t(e,n,r))return o=n,!1})),o}function $t(e,t,n,o){for(var r=e.length,s=n+(o?1:-1);o?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function Ht(e,t,n){return t==t?function(e,t,n){var o=n-1,r=e.length;for(;++o<r;)if(e[o]===t)return o;return-1}(e,t,n):$t(e,Bt,n)}function zt(e,t,n,o){for(var r=n-1,s=e.length;++r<s;)if(o(e[r],t))return r;return-1}function Bt(e){return e!=e}function Rt(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:u}function qt(t){return function(n){return null==n?e:n[t]}}function jt(t){return function(n){return null==t?e:t[n]}}function Vt(e,t,n,o,r){return r(e,(function(e,r,s){n=o?(o=!1,e):t(n,e,r,s)})),n}function Wt(t,n){for(var o,r=-1,s=t.length;++r<s;){var i=n(t[r]);i!==e&&(o=o===e?i:o+i)}return o}function Ut(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function Zt(e){return function(t){return e(t)}}function Gt(e,t){return Tt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,o=e.length;++n<o&&Ht(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var Qt=jt({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),en=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tn(e){return"\\"+it[e]}function nn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function rn(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,i[s++]=n)}return i}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return nn(e)?function(e){var t=Ke.lastIndex=0;for(;Ke.test(e);)++t;return t}(e):Ft(e)}function cn(e){return nn(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.split("")}(e)}var un=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dn=function _e(we){var be,xe=(we=null==we?ut:dn.defaults(ut.Object(),we,dn.pick(ut,nt))).Array,Ce=we.Date,Me=we.Error,Se=we.Function,Ee=we.Math,De=we.Object,ke=we.RegExp,Ie=we.String,Te=we.TypeError,Le=xe.prototype,Oe=Se.prototype,Ne=De.prototype,Pe=we["__core-js_shared__"],Fe=Oe.toString,Ye=Ne.hasOwnProperty,$e=0,He=(be=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+be:"",ze=Ne.toString,Be=Fe.call(De),Re=ut._,qe=ke("^"+Fe.call(Ye).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=ft?we.Buffer:e,Ve=we.Symbol,We=we.Uint8Array,Ue=je?je.allocUnsafe:e,Ze=rn(De.getPrototypeOf,De),Ge=De.create,Ke=Ne.propertyIsEnumerable,et=Le.splice,it=Ve?Ve.isConcatSpreadable:e,pt=Ve?Ve.iterator:e,ct=Ve?Ve.toStringTag:e,dt=function(){try{var e=ds(De,"defineProperty");return e({},"",{}),e}catch(e){}}(),ht=we.clearTimeout!==ut.clearTimeout&&we.clearTimeout,mt=Ce&&Ce.now!==ut.Date.now&&Ce.now,gt=we.setTimeout!==ut.setTimeout&&we.setTimeout,Ft=Ee.ceil,jt=Ee.floor,hn=De.getOwnPropertySymbols,fn=je?je.isBuffer:e,mn=we.isFinite,gn=Le.join,vn=rn(De.keys,De),yn=Ee.max,An=Ee.min,_n=Ce.now,wn=we.parseInt,bn=Ee.random,xn=Le.reverse,Cn=ds(we,"DataView"),Mn=ds(we,"Map"),Sn=ds(we,"Promise"),En=ds(we,"Set"),Dn=ds(we,"WeakMap"),kn=ds(De,"create"),In=Dn&&new Dn,Tn={},Ln=$s(Cn),On=$s(Mn),Nn=$s(Sn),Pn=$s(En),Fn=$s(Dn),Yn=Ve?Ve.prototype:e,$n=Yn?Yn.valueOf:e,Hn=Yn?Yn.toString:e;function zn(e){if(ta(e)&&!ji(e)&&!(e instanceof jn)){if(e instanceof qn)return e;if(Ye.call(e,"__wrapped__"))return Hs(e)}return new qn(e)}var Bn=function(){function t(){}return function(n){if(!ea(n))return{};if(Ge)return Ge(n);t.prototype=n;var o=new t;return t.prototype=e,o}}();function Rn(){}function qn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function jn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Un;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=ji(e),o=!n&&qi(e),r=!n&&!o&&Zi(e),s=!n&&!o&&!r&&pa(e),i=n||o||r||s,a=i?Ut(e.length,Ie):[],l=a.length;for(var p in e)!t&&!Ye.call(e,p)||i&&("length"==p||r&&("offset"==p||"parent"==p)||s&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||As(p,l))||a.push(p);return a}function Jn(t){var n=t.length;return n?t[Go(0,n-1)]:e}function Kn(e,t){return Ps(Ir(e),ao(t,0,e.length))}function Qn(e){return Ps(Ir(e))}function eo(t,n,o){(o!==e&&!zi(t[n],o)||o===e&&!(n in t))&&so(t,n,o)}function to(t,n,o){var r=t[n];Ye.call(t,n)&&zi(r,o)&&(o!==e||n in t)||so(t,n,o)}function no(e,t){for(var n=e.length;n--;)if(zi(e[n][0],t))return n;return-1}function oo(e,t,n,o){return ho(e,(function(e,r,s){t(o,e,n(e),s)})),o}function ro(e,t){return e&&Tr(t,Ta(t),e)}function so(e,t,n){"__proto__"==t&&dt?dt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function io(t,n){for(var o=-1,r=n.length,s=xe(r),i=null==t;++o<r;)s[o]=i?e:Sa(t,n[o]);return s}function ao(t,n,o){return t==t&&(o!==e&&(t=t<=o?t:o),n!==e&&(t=t>=n?t:n)),t}function lo(t,n,o,r,s,i){var a,l=1&n,p=2&n,c=4&n;if(o&&(a=s?o(t,r,s,i):o(t)),a!==e)return a;if(!ea(t))return t;var u=ji(t);if(u){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ye.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(t),!l)return Ir(t,a)}else{var d=ms(t),h=d==A||d==_;if(Zi(t))return Cr(t,l);if(d==x||d==f||h&&!s){if(a=p||h?{}:vs(t),!l)return p?function(e,t){return Tr(e,fs(e),t)}(t,function(e,t){return e&&Tr(t,La(t),e)}(a,t)):function(e,t){return Tr(e,hs(e),t)}(t,ro(a,t))}else{if(!st[d])return s?t:{};a=function(e,t,n){var o=e.constructor;switch(t){case I:return Mr(e);case g:case v:return new o(+e);case T:return function(e,t){var n=t?Mr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case O:case N:case P:case F:case Y:case $:case H:case z:return Sr(e,n);case w:return new o;case b:case E:return new o(e);case M:return function(e){var t=new e.constructor(e.source,ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new o;case D:return r=e,$n?De($n.call(r)):{}}var r}(t,d,l)}}i||(i=new Gn);var m=i.get(t);if(m)return m;i.set(t,a),ia(t)?t.forEach((function(e){a.add(lo(e,n,o,e,t,i))})):na(t)&&t.forEach((function(e,r){a.set(r,lo(e,n,o,r,t,i))}));var y=u?e:(c?p?ss:rs:p?La:Ta)(t);return Mt(y||t,(function(e,r){y&&(e=t[r=e]),to(a,r,lo(e,n,o,r,t,i))})),a}function po(t,n,o){var r=o.length;if(null==t)return!r;for(t=De(t);r--;){var s=o[r],i=n[s],a=t[s];if(a===e&&!(s in t)||!i(a))return!1}return!0}function co(n,o,r){if("function"!=typeof n)throw new Te(t);return Ts((function(){n.apply(e,r)}),o)}function uo(e,t,n,o){var r=-1,s=kt,i=!0,a=e.length,l=[],p=t.length;if(!a)return l;n&&(t=Tt(t,Zt(n))),o?(s=It,i=!1):t.length>=200&&(s=Xt,i=!1,t=new Zn(t));e:for(;++r<a;){var c=e[r],u=null==n?c:n(c);if(c=o||0!==c?c:0,i&&u==u){for(var d=p;d--;)if(t[d]===u)continue e;l.push(c)}else s(t,u,o)||l.push(c)}return l}zn.templateSettings={escape:Z,evaluate:G,interpolate:X,variable:"",imports:{_:zn}},zn.prototype=Rn.prototype,zn.prototype.constructor=zn,qn.prototype=Bn(Rn.prototype),qn.prototype.constructor=qn,jn.prototype=Bn(Rn.prototype),jn.prototype.constructor=jn,Vn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(t){var o=this.__data__;if(kn){var r=o[t];return r===n?e:r}return Ye.call(o,t)?o[t]:e},Vn.prototype.has=function(t){var n=this.__data__;return kn?n[t]!==e:Ye.call(n,t)},Vn.prototype.set=function(t,o){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kn&&o===e?n:o,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=no(t,e);return!(n<0)&&(n==t.length-1?t.pop():et.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(t){var n=this.__data__,o=no(n,t);return o<0?e:n[o][1]},Wn.prototype.has=function(e){return no(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,o=no(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Un.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Mn||Wn),string:new Vn}},Un.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Un.prototype.get=function(e){return cs(this,e).get(e)},Un.prototype.has=function(e){return cs(this,e).has(e)},Un.prototype.set=function(e,t){var n=cs(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,n),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var o=n.__data__;if(!Mn||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Un(o)}return n.set(e,t),this.size=n.size,this};var ho=Nr(wo),fo=Nr(bo,!0);function mo(e,t){var n=!0;return ho(e,(function(e,o,r){return n=!!t(e,o,r)})),n}function go(t,n,o){for(var r=-1,s=t.length;++r<s;){var i=t[r],a=n(i);if(null!=a&&(l===e?a==a&&!la(a):o(a,l)))var l=a,p=i}return p}function vo(e,t){var n=[];return ho(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}function yo(e,t,n,o,r){var s=-1,i=e.length;for(n||(n=ys),r||(r=[]);++s<i;){var a=e[s];t>0&&n(a)?t>1?yo(a,t-1,n,o,r):Lt(r,a):o||(r[r.length]=a)}return r}var Ao=Pr(),_o=Pr(!0);function wo(e,t){return e&&Ao(e,t,Ta)}function bo(e,t){return e&&_o(e,t,Ta)}function xo(e,t){return Dt(t,(function(t){return Ji(e[t])}))}function Co(t,n){for(var o=0,r=(n=_r(n,t)).length;null!=t&&o<r;)t=t[Ys(n[o++])];return o&&o==r?t:e}function Mo(e,t,n){var o=t(e);return ji(e)?o:Lt(o,n(e))}function So(t){return null==t?t===e?"[object Undefined]":"[object Null]":ct&&ct in De(t)?function(t){var n=Ye.call(t,ct),o=t[ct];try{t[ct]=e;var r=!0}catch(e){}var s=ze.call(t);r&&(n?t[ct]=o:delete t[ct]);return s}(t):function(e){return ze.call(e)}(t)}function Eo(e,t){return e>t}function Do(e,t){return null!=e&&Ye.call(e,t)}function ko(e,t){return null!=e&&t in De(e)}function Io(t,n,o){for(var r=o?It:kt,s=t[0].length,i=t.length,a=i,l=xe(i),p=1/0,c=[];a--;){var u=t[a];a&&n&&(u=Tt(u,Zt(n))),p=An(u.length,p),l[a]=!o&&(n||s>=120&&u.length>=120)?new Zn(a&&u):e}u=t[0];var d=-1,h=l[0];e:for(;++d<s&&c.length<p;){var f=u[d],m=n?n(f):f;if(f=o||0!==f?f:0,!(h?Xt(h,m):r(c,m,o))){for(a=i;--a;){var g=l[a];if(!(g?Xt(g,m):r(t[a],m,o)))continue e}h&&h.push(m),c.push(f)}}return c}function To(t,n,o){var r=null==(t=Ds(t,n=_r(n,t)))?t:t[Ys(Xs(n))];return null==r?e:xt(r,t,o)}function Lo(e){return ta(e)&&So(e)==f}function Oo(t,n,o,r,s){return t===n||(null==t||null==n||!ta(t)&&!ta(n)?t!=t&&n!=n:function(t,n,o,r,s,i){var a=ji(t),l=ji(n),p=a?m:ms(t),c=l?m:ms(n),u=(p=p==f?x:p)==x,d=(c=c==f?x:c)==x,h=p==c;if(h&&Zi(t)){if(!Zi(n))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new Gn),a||pa(t)?ns(t,n,o,r,s,i):function(e,t,n,o,r,s,i){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!s(new We(e),new We(t)));case g:case v:case b:return zi(+e,+t);case y:return e.name==t.name&&e.message==t.message;case M:case E:return e==t+"";case w:var a=on;case S:var l=1&o;if(a||(a=an),e.size!=t.size&&!l)return!1;var p=i.get(e);if(p)return p==t;o|=2,i.set(e,t);var c=ns(a(e),a(t),o,r,s,i);return i.delete(e),c;case D:if($n)return $n.call(e)==$n.call(t)}return!1}(t,n,p,o,r,s,i);if(!(1&o)){var A=u&&Ye.call(t,"__wrapped__"),_=d&&Ye.call(n,"__wrapped__");if(A||_){var C=A?t.value():t,k=_?n.value():n;return i||(i=new Gn),s(C,k,o,r,i)}}if(!h)return!1;return i||(i=new Gn),function(t,n,o,r,s,i){var a=1&o,l=rs(t),p=l.length,c=rs(n),u=c.length;if(p!=u&&!a)return!1;var d=p;for(;d--;){var h=l[d];if(!(a?h in n:Ye.call(n,h)))return!1}var f=i.get(t);if(f&&i.get(n))return f==n;var m=!0;i.set(t,n),i.set(n,t);var g=a;for(;++d<p;){var v=t[h=l[d]],y=n[h];if(r)var A=a?r(y,v,h,n,t,i):r(v,y,h,t,n,i);if(!(A===e?v===y||s(v,y,o,r,i):A)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=t.constructor,w=n.constructor;_==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return i.delete(t),i.delete(n),m}(t,n,o,r,s,i)}(t,n,o,r,Oo,s))}function No(t,n,o,r){var s=o.length,i=s,a=!r;if(null==t)return!i;for(t=De(t);s--;){var l=o[s];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){var p=(l=o[s])[0],c=t[p],u=l[1];if(a&&l[2]){if(c===e&&!(p in t))return!1}else{var d=new Gn;if(r)var h=r(c,u,p,t,n,d);if(!(h===e?Oo(u,c,3,r,d):h))return!1}}return!0}function Po(e){return!(!ea(e)||(t=e,He&&He in t))&&(Ji(e)?qe:fe).test($s(e));var t}function Fo(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?ji(e)?Ro(e[0],e[1]):Bo(e):dl(e)}function Yo(e){if(!Cs(e))return vn(e);var t=[];for(var n in De(e))Ye.call(e,n)&&"constructor"!=n&&t.push(n);return t}function $o(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in De(e))t.push(n);return t}(e);var t=Cs(e),n=[];for(var o in e)("constructor"!=o||!t&&Ye.call(e,o))&&n.push(o);return n}function Ho(e,t){return e<t}function zo(e,t){var n=-1,o=Wi(e)?xe(e.length):[];return ho(e,(function(e,r,s){o[++n]=t(e,r,s)})),o}function Bo(e){var t=us(e);return 1==t.length&&t[0][2]?Ss(t[0][0],t[0][1]):function(n){return n===e||No(n,e,t)}}function Ro(t,n){return ws(t)&&Ms(n)?Ss(Ys(t),n):function(o){var r=Sa(o,t);return r===e&&r===n?Ea(o,t):Oo(n,r,3)}}function qo(t,n,o,r,s){t!==n&&Ao(n,(function(i,a){if(s||(s=new Gn),ea(i))!function(t,n,o,r,s,i,a){var l=ks(t,o),p=ks(n,o),c=a.get(p);if(c)return void eo(t,o,c);var u=i?i(l,p,o+"",t,n,a):e,d=u===e;if(d){var h=ji(p),f=!h&&Zi(p),m=!h&&!f&&pa(p);u=p,h||f||m?ji(l)?u=l:Ui(l)?u=Ir(l):f?(d=!1,u=Cr(p,!0)):m?(d=!1,u=Sr(p,!0)):u=[]:ra(p)||qi(p)?(u=l,qi(l)?u=va(l):ea(l)&&!Ji(l)||(u=vs(p))):d=!1}d&&(a.set(p,u),s(u,p,r,i,a),a.delete(p));eo(t,o,u)}(t,n,a,o,qo,r,s);else{var l=r?r(ks(t,a),i,a+"",t,n,s):e;l===e&&(l=i),eo(t,a,l)}}),La)}function jo(t,n){var o=t.length;if(o)return As(n+=n<0?o:0,o)?t[n]:e}function Vo(e,t,n){var o=-1;t=Tt(t.length?t:[ol],Zt(ps()));var r=zo(e,(function(e,n,r){var s=Tt(t,(function(t){return t(e)}));return{criteria:s,index:++o,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var o=-1,r=e.criteria,s=t.criteria,i=r.length,a=n.length;for(;++o<i;){var l=Er(r[o],s[o]);if(l)return o>=a?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wo(e,t,n){for(var o=-1,r=t.length,s={};++o<r;){var i=t[o],a=Co(e,i);n(a,i)&&er(s,_r(i,e),a)}return s}function Uo(e,t,n,o){var r=o?zt:Ht,s=-1,i=t.length,a=e;for(e===t&&(t=Ir(t)),n&&(a=Tt(e,Zt(n)));++s<i;)for(var l=0,p=t[s],c=n?n(p):p;(l=r(a,c,l,o))>-1;)a!==e&&et.call(a,l,1),et.call(e,l,1);return e}function Zo(e,t){for(var n=e?t.length:0,o=n-1;n--;){var r=t[n];if(n==o||r!==s){var s=r;As(r)?et.call(e,r,1):dr(e,r)}}return e}function Go(e,t){return e+jt(bn()*(t-e+1))}function Xo(e,t){var n="";if(!e||t<1||t>c)return n;do{t%2&&(n+=e),(t=jt(t/2))&&(e+=e)}while(t);return n}function Jo(e,t){return Ls(Es(e,t,ol),e+"")}function Ko(e){return Jn(za(e))}function Qo(e,t){var n=za(e);return Ps(n,ao(t,0,n.length))}function er(t,n,o,r){if(!ea(t))return t;for(var s=-1,i=(n=_r(n,t)).length,a=i-1,l=t;null!=l&&++s<i;){var p=Ys(n[s]),c=o;if(s!=a){var u=l[p];(c=r?r(u,p,l):e)===e&&(c=ea(u)?u:As(n[s+1])?[]:{})}to(l,p,c),l=l[p]}return t}var tr=In?function(e,t){return In.set(e,t),e}:ol,nr=dt?function(e,t){return dt(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:ol;function or(e){return Ps(za(e))}function rr(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=xe(r);++o<r;)s[o]=e[o+t];return s}function sr(e,t){var n;return ho(e,(function(e,o,r){return!(n=t(e,o,r))})),!!n}function ir(e,t,n){var o=0,r=null==e?o:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;o<r;){var s=o+r>>>1,i=e[s];null!==i&&!la(i)&&(n?i<=t:i<t)?o=s+1:r=s}return r}return ar(e,t,ol,n)}function ar(t,n,o,r){n=o(n);for(var s=0,i=null==t?0:t.length,a=n!=n,l=null===n,p=la(n),c=n===e;s<i;){var u=jt((s+i)/2),d=o(t[u]),h=d!==e,f=null===d,m=d==d,g=la(d);if(a)var v=r||m;else v=c?m&&(r||h):l?m&&h&&(r||!f):p?m&&h&&!f&&(r||!g):!f&&!g&&(r?d<=n:d<n);v?s=u+1:i=u}return An(i,4294967294)}function lr(e,t){for(var n=-1,o=e.length,r=0,s=[];++n<o;){var i=e[n],a=t?t(i):i;if(!n||!zi(a,l)){var l=a;s[r++]=0===i?0:i}}return s}function pr(e){return"number"==typeof e?e:la(e)?u:+e}function cr(e){if("string"==typeof e)return e;if(ji(e))return Tt(e,cr)+"";if(la(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ur(e,t,n){var o=-1,r=kt,s=e.length,i=!0,a=[],l=a;if(n)i=!1,r=It;else if(s>=200){var p=t?null:Xr(e);if(p)return an(p);i=!1,r=Xt,l=new Zn}else l=t?[]:a;e:for(;++o<s;){var c=e[o],u=t?t(c):c;if(c=n||0!==c?c:0,i&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue e;t&&l.push(u),a.push(c)}else r(l,u,n)||(l!==a&&l.push(u),a.push(c))}return a}function dr(e,t){return null==(e=Ds(e,t=_r(t,e)))||delete e[Ys(Xs(t))]}function hr(e,t,n,o){return er(e,t,n(Co(e,t)),o)}function fr(e,t,n,o){for(var r=e.length,s=o?r:-1;(o?s--:++s<r)&&t(e[s],s,e););return n?rr(e,o?0:s,o?s+1:r):rr(e,o?s+1:0,o?r:s)}function mr(e,t){var n=e;return n instanceof jn&&(n=n.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function gr(e,t,n){var o=e.length;if(o<2)return o?ur(e[0]):[];for(var r=-1,s=xe(o);++r<o;)for(var i=e[r],a=-1;++a<o;)a!=r&&(s[r]=uo(s[r]||i,e[a],t,n));return ur(yo(s,1),t,n)}function vr(t,n,o){for(var r=-1,s=t.length,i=n.length,a={};++r<s;){var l=r<i?n[r]:e;o(a,t[r],l)}return a}function yr(e){return Ui(e)?e:[]}function Ar(e){return"function"==typeof e?e:ol}function _r(e,t){return ji(e)?e:ws(e,t)?[e]:Fs(ya(e))}var wr=Jo;function br(t,n,o){var r=t.length;return o=o===e?r:o,!n&&o>=r?t:rr(t,n,o)}var xr=ht||function(e){return ut.clearTimeout(e)};function Cr(e,t){if(t)return e.slice();var n=e.length,o=Ue?Ue(n):new e.constructor(n);return e.copy(o),o}function Mr(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Sr(e,t){var n=t?Mr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Er(t,n){if(t!==n){var o=t!==e,r=null===t,s=t==t,i=la(t),a=n!==e,l=null===n,p=n==n,c=la(n);if(!l&&!c&&!i&&t>n||i&&a&&p&&!l&&!c||r&&a&&p||!o&&p||!s)return 1;if(!r&&!i&&!c&&t<n||c&&o&&s&&!r&&!i||l&&o&&s||!a&&s||!p)return-1}return 0}function Dr(e,t,n,o){for(var r=-1,s=e.length,i=n.length,a=-1,l=t.length,p=yn(s-i,0),c=xe(l+p),u=!o;++a<l;)c[a]=t[a];for(;++r<i;)(u||r<s)&&(c[n[r]]=e[r]);for(;p--;)c[a++]=e[r++];return c}function kr(e,t,n,o){for(var r=-1,s=e.length,i=-1,a=n.length,l=-1,p=t.length,c=yn(s-a,0),u=xe(c+p),d=!o;++r<c;)u[r]=e[r];for(var h=r;++l<p;)u[h+l]=t[l];for(;++i<a;)(d||r<s)&&(u[h+n[i]]=e[r++]);return u}function Ir(e,t){var n=-1,o=e.length;for(t||(t=xe(o));++n<o;)t[n]=e[n];return t}function Tr(t,n,o,r){var s=!o;o||(o={});for(var i=-1,a=n.length;++i<a;){var l=n[i],p=r?r(o[l],t[l],l,o,t):e;p===e&&(p=t[l]),s?so(o,l,p):to(o,l,p)}return o}function Lr(e,t){return function(n,o){var r=ji(n)?Ct:oo,s=t?t():{};return r(n,e,ps(o,2),s)}}function Or(t){return Jo((function(n,o){var r=-1,s=o.length,i=s>1?o[s-1]:e,a=s>2?o[2]:e;for(i=t.length>3&&"function"==typeof i?(s--,i):e,a&&_s(o[0],o[1],a)&&(i=s<3?e:i,s=1),n=De(n);++r<s;){var l=o[r];l&&t(n,l,r,i)}return n}))}function Nr(e,t){return function(n,o){if(null==n)return n;if(!Wi(n))return e(n,o);for(var r=n.length,s=t?r:-1,i=De(n);(t?s--:++s<r)&&!1!==o(i[s],s,i););return n}}function Pr(e){return function(t,n,o){for(var r=-1,s=De(t),i=o(t),a=i.length;a--;){var l=i[e?a:++r];if(!1===n(s[l],l,s))break}return t}}function Fr(t){return function(n){var o=nn(n=ya(n))?cn(n):e,r=o?o[0]:n.charAt(0),s=o?br(o,1).join(""):n.slice(1);return r[t]()+s}}function Yr(e){return function(t){return Ot(Ja(qa(t).replace(Xe,"")),e,"")}}function $r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),o=e.apply(n,t);return ea(o)?o:n}}function Hr(t){return function(n,o,r){var s=De(n);if(!Wi(n)){var i=ps(o,3);n=Ta(n),o=function(e){return i(s[e],e,s)}}var a=t(n,o,r);return a>-1?s[i?n[a]:a]:e}}function zr(n){return os((function(o){var r=o.length,s=r,i=qn.prototype.thru;for(n&&o.reverse();s--;){var a=o[s];if("function"!=typeof a)throw new Te(t);if(i&&!l&&"wrapper"==as(a))var l=new qn([],!0)}for(s=l?s:r;++s<r;){var p=as(a=o[s]),c="wrapper"==p?is(a):e;l=c&&bs(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[as(c[0])].apply(l,c[3]):1==a.length&&bs(a)?l[p]():l.thru(a)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&ji(t))return l.plant(t).value();for(var n=0,s=r?o[n].apply(this,e):t;++n<r;)s=o[n].call(this,s);return s}}))}function Br(t,n,o,r,s,i,l,p,c,u){var d=n&a,h=1&n,f=2&n,m=24&n,g=512&n,v=f?e:$r(t);return function a(){for(var y=arguments.length,A=xe(y),_=y;_--;)A[_]=arguments[_];if(m)var w=ls(a),b=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(A,w);if(r&&(A=Dr(A,r,s,m)),i&&(A=kr(A,i,l,m)),y-=b,m&&y<u){var x=sn(A,w);return Zr(t,n,Br,a.placeholder,o,A,x,p,c,u-y)}var C=h?o:this,M=f?C[t]:t;return y=A.length,p?A=function(t,n){var o=t.length,r=An(n.length,o),s=Ir(t);for(;r--;){var i=n[r];t[r]=As(i,o)?s[i]:e}return t}(A,p):g&&y>1&&A.reverse(),d&&c<y&&(A.length=c),this&&this!==ut&&this instanceof a&&(M=v||$r(M)),M.apply(C,A)}}function Rr(e,t){return function(n,o){return function(e,t,n,o){return wo(e,(function(e,r,s){t(o,n(e),r,s)})),o}(n,e,t(o),{})}}function qr(t,n){return function(o,r){var s;if(o===e&&r===e)return n;if(o!==e&&(s=o),r!==e){if(s===e)return r;"string"==typeof o||"string"==typeof r?(o=cr(o),r=cr(r)):(o=pr(o),r=pr(r)),s=t(o,r)}return s}}function jr(e){return os((function(t){return t=Tt(t,Zt(ps())),Jo((function(n){var o=this;return e(t,(function(e){return xt(e,o,n)}))}))}))}function Vr(t,n){var o=(n=n===e?" ":cr(n)).length;if(o<2)return o?Xo(n,t):n;var r=Xo(n,Ft(t/pn(n)));return nn(n)?br(cn(r),0,t).join(""):r.slice(0,t)}function Wr(t){return function(n,o,r){return r&&"number"!=typeof r&&_s(n,o,r)&&(o=r=e),n=ha(n),o===e?(o=n,n=0):o=ha(o),function(e,t,n,o){for(var r=-1,s=yn(Ft((t-e)/(n||1)),0),i=xe(s);s--;)i[o?s:++r]=e,e+=n;return i}(n,o,r=r===e?n<o?1:-1:ha(r),t)}}function Ur(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Zr(t,n,o,r,a,l,p,c,u,d){var h=8&n;n|=h?s:i,4&(n&=~(h?i:s))||(n&=-4);var f=[t,n,a,h?l:e,h?p:e,h?e:l,h?e:p,c,u,d],m=o.apply(e,f);return bs(t)&&Is(m,f),m.placeholder=r,Os(m,t,n)}function Gr(e){var t=Ee[e];return function(e,n){if(e=ga(e),(n=null==n?0:An(fa(n),292))&&mn(e)){var o=(ya(e)+"e").split("e");return+((o=(ya(t(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}var Xr=En&&1/an(new En([,-0]))[1]==p?function(e){return new En(e)}:ll;function Jr(e){return function(t){var n=ms(t);return n==w?on(t):n==S?ln(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Kr(n,p,c,u,d,h,f,m){var g=2&p;if(!g&&"function"!=typeof n)throw new Te(t);var v=u?u.length:0;if(v||(p&=-97,u=d=e),f=f===e?f:yn(fa(f),0),m=m===e?m:fa(m),v-=d?d.length:0,p&i){var y=u,A=d;u=d=e}var _=g?e:is(n),w=[n,p,c,u,d,y,A,h,f,m];if(_&&function(e,t){var n=e[1],r=t[1],s=n|r,i=s<131,p=r==a&&8==n||r==a&&n==l&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!p)return e;1&r&&(e[2]=t[2],s|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Dr(u,c,t[4]):c,e[4]=u?sn(e[3],o):t[4]}(c=t[5])&&(u=e[5],e[5]=u?kr(u,c,t[6]):c,e[6]=u?sn(e[5],o):t[6]);(c=t[7])&&(e[7]=c);r&a&&(e[8]=null==e[8]?t[8]:An(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=s}(w,_),n=w[0],p=w[1],c=w[2],u=w[3],d=w[4],!(m=w[9]=w[9]===e?g?0:n.length:yn(w[9]-v,0))&&24&p&&(p&=-25),p&&1!=p)b=8==p||p==r?function(t,n,o){var r=$r(t);return function s(){for(var i=arguments.length,a=xe(i),l=i,p=ls(s);l--;)a[l]=arguments[l];var c=i<3&&a[0]!==p&&a[i-1]!==p?[]:sn(a,p);return(i-=c.length)<o?Zr(t,n,Br,s.placeholder,e,a,c,e,e,o-i):xt(this&&this!==ut&&this instanceof s?r:t,this,a)}}(n,p,m):p!=s&&33!=p||d.length?Br.apply(e,w):function(e,t,n,o){var r=1&t,s=$r(e);return function t(){for(var i=-1,a=arguments.length,l=-1,p=o.length,c=xe(p+a),u=this&&this!==ut&&this instanceof t?s:e;++l<p;)c[l]=o[l];for(;a--;)c[l++]=arguments[++i];return xt(u,r?n:this,c)}}(n,p,c,u);else var b=function(e,t,n){var o=1&t,r=$r(e);return function t(){return(this&&this!==ut&&this instanceof t?r:e).apply(o?n:this,arguments)}}(n,p,c);return Os((_?tr:Is)(b,w),n,p)}function Qr(t,n,o,r){return t===e||zi(t,Ne[o])&&!Ye.call(r,o)?n:t}function es(t,n,o,r,s,i){return ea(t)&&ea(n)&&(i.set(n,t),qo(t,n,e,es,i),i.delete(n)),t}function ts(t){return ra(t)?e:t}function ns(t,n,o,r,s,i){var a=1&o,l=t.length,p=n.length;if(l!=p&&!(a&&p>l))return!1;var c=i.get(t);if(c&&i.get(n))return c==n;var u=-1,d=!0,h=2&o?new Zn:e;for(i.set(t,n),i.set(n,t);++u<l;){var f=t[u],m=n[u];if(r)var g=a?r(m,f,u,n,t,i):r(f,m,u,t,n,i);if(g!==e){if(g)continue;d=!1;break}if(h){if(!Pt(n,(function(e,t){if(!Xt(h,t)&&(f===e||s(f,e,o,r,i)))return h.push(t)}))){d=!1;break}}else if(f!==m&&!s(f,m,o,r,i)){d=!1;break}}return i.delete(t),i.delete(n),d}function os(t){return Ls(Es(t,e,Vs),t+"")}function rs(e){return Mo(e,Ta,hs)}function ss(e){return Mo(e,La,fs)}var is=In?function(e){return In.get(e)}:ll;function as(e){for(var t=e.name+"",n=Tn[t],o=Ye.call(Tn,t)?n.length:0;o--;){var r=n[o],s=r.func;if(null==s||s==e)return r.name}return t}function ls(e){return(Ye.call(zn,"placeholder")?zn:e).placeholder}function ps(){var e=zn.iteratee||rl;return e=e===rl?Fo:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function us(e){for(var t=Ta(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Ms(r)]}return t}function ds(t,n){var o=function(t,n){return null==t?e:t[n]}(t,n);return Po(o)?o:e}var hs=hn?function(e){return null==e?[]:(e=De(e),Dt(hn(e),(function(t){return Ke.call(e,t)})))}:ml,fs=hn?function(e){for(var t=[];e;)Lt(t,hs(e)),e=Ze(e);return t}:ml,ms=So;function gs(e,t,n){for(var o=-1,r=(t=_r(t,e)).length,s=!1;++o<r;){var i=Ys(t[o]);if(!(s=null!=e&&n(e,i)))break;e=e[i]}return s||++o!=r?s:!!(r=null==e?0:e.length)&&Qi(r)&&As(i,r)&&(ji(e)||qi(e))}function vs(e){return"function"!=typeof e.constructor||Cs(e)?{}:Bn(Ze(e))}function ys(e){return ji(e)||qi(e)||!!(it&&e&&e[it])}function As(e,t){var n=typeof e;return!!(t=null==t?c:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function _s(e,t,n){if(!ea(n))return!1;var o=typeof t;return!!("number"==o?Wi(n)&&As(t,n.length):"string"==o&&t in n)&&zi(n[t],e)}function ws(e,t){if(ji(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(K.test(e)||!J.test(e)||null!=t&&e in De(t))}function bs(e){var t=as(e),n=zn[t];if("function"!=typeof n||!(t in jn.prototype))return!1;if(e===n)return!0;var o=is(n);return!!o&&e===o[0]}(Cn&&ms(new Cn(new ArrayBuffer(1)))!=T||Mn&&ms(new Mn)!=w||Sn&&ms(Sn.resolve())!=C||En&&ms(new En)!=S||Dn&&ms(new Dn)!=k)&&(ms=function(t){var n=So(t),o=n==x?t.constructor:e,r=o?$s(o):"";if(r)switch(r){case Ln:return T;case On:return w;case Nn:return C;case Pn:return S;case Fn:return k}return n});var xs=Pe?Ji:gl;function Cs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Ms(e){return e==e&&!ea(e)}function Ss(t,n){return function(o){return null!=o&&(o[t]===n&&(n!==e||t in De(o)))}}function Es(t,n,o){return n=yn(n===e?t.length-1:n,0),function(){for(var e=arguments,r=-1,s=yn(e.length-n,0),i=xe(s);++r<s;)i[r]=e[n+r];r=-1;for(var a=xe(n+1);++r<n;)a[r]=e[r];return a[n]=o(i),xt(t,this,a)}}function Ds(e,t){return t.length<2?e:Co(e,rr(t,0,-1))}function ks(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Is=Ns(tr),Ts=gt||function(e,t){return ut.setTimeout(e,t)},Ls=Ns(nr);function Os(e,t,n){var o=t+"";return Ls(e,function(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return Mt(h,(function(n){var o="_."+n[0];t&n[1]&&!kt(e,o)&&e.push(o)})),e.sort()}(function(e){var t=e.match(ie);return t?t[1].split(ae):[]}(o),n)))}function Ns(t){var n=0,o=0;return function(){var r=_n(),s=16-(r-o);if(o=r,s>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Ps(t,n){var o=-1,r=t.length,s=r-1;for(n=n===e?r:n;++o<n;){var i=Go(o,s),a=t[i];t[i]=t[o],t[o]=a}return t.length=n,t}var Fs=function(e){var t=Ni(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,n,o,r){t.push(o?r.replace(pe,"$1"):n||e)})),t}));function Ys(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $s(e){if(null!=e){try{return Fe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Hs(e){if(e instanceof jn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ir(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zs=Jo((function(e,t){return Ui(e)?uo(e,yo(t,1,Ui,!0)):[]})),Bs=Jo((function(t,n){var o=Xs(n);return Ui(o)&&(o=e),Ui(t)?uo(t,yo(n,1,Ui,!0),ps(o,2)):[]})),Rs=Jo((function(t,n){var o=Xs(n);return Ui(o)&&(o=e),Ui(t)?uo(t,yo(n,1,Ui,!0),e,o):[]}));function qs(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:fa(n);return r<0&&(r=yn(o+r,0)),$t(e,ps(t,3),r)}function js(t,n,o){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return o!==e&&(s=fa(o),s=o<0?yn(r+s,0):An(s,r-1)),$t(t,ps(n,3),s,!0)}function Vs(e){return(null==e?0:e.length)?yo(e,1):[]}function Ws(t){return t&&t.length?t[0]:e}var Us=Jo((function(e){var t=Tt(e,yr);return t.length&&t[0]===e[0]?Io(t):[]})),Zs=Jo((function(t){var n=Xs(t),o=Tt(t,yr);return n===Xs(o)?n=e:o.pop(),o.length&&o[0]===t[0]?Io(o,ps(n,2)):[]})),Gs=Jo((function(t){var n=Xs(t),o=Tt(t,yr);return(n="function"==typeof n?n:e)&&o.pop(),o.length&&o[0]===t[0]?Io(o,e,n):[]}));function Xs(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Js=Jo(Ks);function Ks(e,t){return e&&e.length&&t&&t.length?Uo(e,t):e}var Qs=os((function(e,t){var n=null==e?0:e.length,o=io(e,t);return Zo(e,Tt(t,(function(e){return As(e,n)?+e:e})).sort(Er)),o}));function ei(e){return null==e?e:xn.call(e)}var ti=Jo((function(e){return ur(yo(e,1,Ui,!0))})),ni=Jo((function(t){var n=Xs(t);return Ui(n)&&(n=e),ur(yo(t,1,Ui,!0),ps(n,2))})),oi=Jo((function(t){var n=Xs(t);return n="function"==typeof n?n:e,ur(yo(t,1,Ui,!0),e,n)}));function ri(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Ui(e))return t=yn(e.length,t),!0})),Ut(t,(function(t){return Tt(e,qt(t))}))}function si(t,n){if(!t||!t.length)return[];var o=ri(t);return null==n?o:Tt(o,(function(t){return xt(n,e,t)}))}var ii=Jo((function(e,t){return Ui(e)?uo(e,t):[]})),ai=Jo((function(e){return gr(Dt(e,Ui))})),li=Jo((function(t){var n=Xs(t);return Ui(n)&&(n=e),gr(Dt(t,Ui),ps(n,2))})),pi=Jo((function(t){var n=Xs(t);return n="function"==typeof n?n:e,gr(Dt(t,Ui),e,n)})),ci=Jo(ri);var ui=Jo((function(t){var n=t.length,o=n>1?t[n-1]:e;return o="function"==typeof o?(t.pop(),o):e,si(t,o)}));function di(e){var t=zn(e);return t.__chain__=!0,t}function hi(e,t){return t(e)}var fi=os((function(t){var n=t.length,o=n?t[0]:0,r=this.__wrapped__,s=function(e){return io(e,t)};return!(n>1||this.__actions__.length)&&r instanceof jn&&As(o)?((r=r.slice(o,+o+(n?1:0))).__actions__.push({func:hi,args:[s],thisArg:e}),new qn(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(s)}));var mi=Lr((function(e,t,n){Ye.call(e,n)?++e[n]:so(e,n,1)}));var gi=Hr(qs),vi=Hr(js);function yi(e,t){return(ji(e)?Mt:ho)(e,ps(t,3))}function Ai(e,t){return(ji(e)?St:fo)(e,ps(t,3))}var _i=Lr((function(e,t,n){Ye.call(e,n)?e[n].push(t):so(e,n,[t])}));var wi=Jo((function(e,t,n){var o=-1,r="function"==typeof t,s=Wi(e)?xe(e.length):[];return ho(e,(function(e){s[++o]=r?xt(t,e,n):To(e,t,n)})),s})),bi=Lr((function(e,t,n){so(e,n,t)}));function xi(e,t){return(ji(e)?Tt:zo)(e,ps(t,3))}var Ci=Lr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Mi=Jo((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_s(e,t[0],t[1])?t=[]:n>2&&_s(t[0],t[1],t[2])&&(t=[t[0]]),Vo(e,yo(t,1),[])})),Si=mt||function(){return ut.Date.now()};function Ei(t,n,o){return n=o?e:n,n=t&&null==n?t.length:n,Kr(t,a,e,e,e,e,n)}function Di(n,o){var r;if("function"!=typeof o)throw new Te(t);return n=fa(n),function(){return--n>0&&(r=o.apply(this,arguments)),n<=1&&(o=e),r}}var ki=Jo((function(e,t,n){var o=1;if(n.length){var r=sn(n,ls(ki));o|=s}return Kr(e,o,t,n,r)})),Ii=Jo((function(e,t,n){var o=3;if(n.length){var r=sn(n,ls(Ii));o|=s}return Kr(t,o,e,n,r)}));function Ti(n,o,r){var s,i,a,l,p,c,u=0,d=!1,h=!1,f=!0;if("function"!=typeof n)throw new Te(t);function m(t){var o=s,r=i;return s=i=e,u=t,l=n.apply(r,o)}function g(t){var n=t-c;return c===e||n>=o||n<0||h&&t-u>=a}function v(){var e=Si();if(g(e))return y(e);p=Ts(v,function(e){var t=o-(e-c);return h?An(t,a-(e-u)):t}(e))}function y(t){return p=e,f&&s?m(t):(s=i=e,l)}function A(){var t=Si(),n=g(t);if(s=arguments,i=this,c=t,n){if(p===e)return function(e){return u=e,p=Ts(v,o),d?m(e):l}(c);if(h)return xr(p),p=Ts(v,o),m(c)}return p===e&&(p=Ts(v,o)),l}return o=ga(o)||0,ea(r)&&(d=!!r.leading,a=(h="maxWait"in r)?yn(ga(r.maxWait)||0,o):a,f="trailing"in r?!!r.trailing:f),A.cancel=function(){p!==e&&xr(p),u=0,s=c=i=p=e},A.flush=function(){return p===e?l:y(Si())},A}var Li=Jo((function(e,t){return co(e,1,t)})),Oi=Jo((function(e,t,n){return co(e,ga(t)||0,n)}));function Ni(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Te(t);var o=function(){var t=arguments,r=n?n.apply(this,t):t[0],s=o.cache;if(s.has(r))return s.get(r);var i=e.apply(this,t);return o.cache=s.set(r,i)||s,i};return o.cache=new(Ni.Cache||Un),o}function Pi(e){if("function"!=typeof e)throw new Te(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ni.Cache=Un;var Fi=wr((function(e,t){var n=(t=1==t.length&&ji(t[0])?Tt(t[0],Zt(ps())):Tt(yo(t,1),Zt(ps()))).length;return Jo((function(o){for(var r=-1,s=An(o.length,n);++r<s;)o[r]=t[r].call(this,o[r]);return xt(e,this,o)}))})),Yi=Jo((function(t,n){var o=sn(n,ls(Yi));return Kr(t,s,e,n,o)})),$i=Jo((function(t,n){var o=sn(n,ls($i));return Kr(t,i,e,n,o)})),Hi=os((function(t,n){return Kr(t,l,e,e,e,n)}));function zi(e,t){return e===t||e!=e&&t!=t}var Bi=Ur(Eo),Ri=Ur((function(e,t){return e>=t})),qi=Lo(function(){return arguments}())?Lo:function(e){return ta(e)&&Ye.call(e,"callee")&&!Ke.call(e,"callee")},ji=xe.isArray,Vi=vt?Zt(vt):function(e){return ta(e)&&So(e)==I};function Wi(e){return null!=e&&Qi(e.length)&&!Ji(e)}function Ui(e){return ta(e)&&Wi(e)}var Zi=fn||gl,Gi=yt?Zt(yt):function(e){return ta(e)&&So(e)==v};function Xi(e){if(!ta(e))return!1;var t=So(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ji(e){if(!ea(e))return!1;var t=So(e);return t==A||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ki(e){return"number"==typeof e&&e==fa(e)}function Qi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=At?Zt(At):function(e){return ta(e)&&ms(e)==w};function oa(e){return"number"==typeof e||ta(e)&&So(e)==b}function ra(e){if(!ta(e)||So(e)!=x)return!1;var t=Ze(e);if(null===t)return!0;var n=Ye.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fe.call(n)==Be}var sa=_t?Zt(_t):function(e){return ta(e)&&So(e)==M};var ia=wt?Zt(wt):function(e){return ta(e)&&ms(e)==S};function aa(e){return"string"==typeof e||!ji(e)&&ta(e)&&So(e)==E}function la(e){return"symbol"==typeof e||ta(e)&&So(e)==D}var pa=bt?Zt(bt):function(e){return ta(e)&&Qi(e.length)&&!!rt[So(e)]};var ca=Ur(Ho),ua=Ur((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Wi(e))return aa(e)?cn(e):Ir(e);if(pt&&e[pt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[pt]());var t=ms(e);return(t==w?on:t==S?an:za)(e)}function ha(e){return e?(e=ga(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fa(e){var t=ha(e),n=t%1;return t==t?n?t-n:t:0}function ma(e){return e?ao(fa(e),0,d):0}function ga(e){if("number"==typeof e)return e;if(la(e))return u;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ne,"");var n=he.test(e);return n||me.test(e)?lt(e.slice(2),n?2:8):de.test(e)?u:+e}function va(e){return Tr(e,La(e))}function ya(e){return null==e?"":cr(e)}var Aa=Or((function(e,t){if(Cs(t)||Wi(t))Tr(t,Ta(t),e);else for(var n in t)Ye.call(t,n)&&to(e,n,t[n])})),_a=Or((function(e,t){Tr(t,La(t),e)})),wa=Or((function(e,t,n,o){Tr(t,La(t),e,o)})),ba=Or((function(e,t,n,o){Tr(t,Ta(t),e,o)})),xa=os(io);var Ca=Jo((function(t,n){t=De(t);var o=-1,r=n.length,s=r>2?n[2]:e;for(s&&_s(n[0],n[1],s)&&(r=1);++o<r;)for(var i=n[o],a=La(i),l=-1,p=a.length;++l<p;){var c=a[l],u=t[c];(u===e||zi(u,Ne[c])&&!Ye.call(t,c))&&(t[c]=i[c])}return t})),Ma=Jo((function(t){return t.push(e,es),xt(Na,e,t)}));function Sa(t,n,o){var r=null==t?e:Co(t,n);return r===e?o:r}function Ea(e,t){return null!=e&&gs(e,t,ko)}var Da=Rr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),el(ol)),ka=Rr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Ye.call(e,t)?e[t].push(n):e[t]=[n]}),ps),Ia=Jo(To);function Ta(e){return Wi(e)?Xn(e):Yo(e)}function La(e){return Wi(e)?Xn(e,!0):$o(e)}var Oa=Or((function(e,t,n){qo(e,t,n)})),Na=Or((function(e,t,n,o){qo(e,t,n,o)})),Pa=os((function(e,t){var n={};if(null==e)return n;var o=!1;t=Tt(t,(function(t){return t=_r(t,e),o||(o=t.length>1),t})),Tr(e,ss(e),n),o&&(n=lo(n,7,ts));for(var r=t.length;r--;)dr(n,t[r]);return n}));var Fa=os((function(e,t){return null==e?{}:function(e,t){return Wo(e,t,(function(t,n){return Ea(e,n)}))}(e,t)}));function Ya(e,t){if(null==e)return{};var n=Tt(ss(e),(function(e){return[e]}));return t=ps(t),Wo(e,n,(function(e,n){return t(e,n[0])}))}var $a=Jr(Ta),Ha=Jr(La);function za(e){return null==e?[]:Gt(e,Ta(e))}var Ba=Yr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ra(t):t)}));function Ra(e){return Xa(ya(e).toLowerCase())}function qa(e){return(e=ya(e))&&e.replace(ve,Qt).replace(Je,"")}var ja=Yr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Va=Yr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wa=Fr("toLowerCase");var Ua=Yr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Za=Yr((function(e,t,n){return e+(n?" ":"")+Xa(t)}));var Ga=Yr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Fr("toUpperCase");function Ja(t,n,o){return t=ya(t),(n=o?e:n)===e?function(e){return tt.test(e)}(t)?function(e){return e.match(Qe)||[]}(t):function(e){return e.match(le)||[]}(t):t.match(n)||[]}var Ka=Jo((function(t,n){try{return xt(t,e,n)}catch(e){return Xi(e)?e:new Me(e)}})),Qa=os((function(e,t){return Mt(t,(function(t){t=Ys(t),so(e,t,ki(e[t],e))})),e}));function el(e){return function(){return e}}var tl=zr(),nl=zr(!0);function ol(e){return e}function rl(e){return Fo("function"==typeof e?e:lo(e,1))}var sl=Jo((function(e,t){return function(n){return To(n,e,t)}})),il=Jo((function(e,t){return function(n){return To(e,n,t)}}));function al(e,t,n){var o=Ta(t),r=xo(t,o);null!=n||ea(t)&&(r.length||!o.length)||(n=t,t=e,e=this,r=xo(t,Ta(t)));var s=!(ea(n)&&"chain"in n&&!n.chain),i=Ji(e);return Mt(r,(function(n){var o=t[n];e[n]=o,i&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Ir(this.__actions__)).push({func:o,args:arguments,thisArg:e}),n.__chain__=t,n}return o.apply(e,Lt([this.value()],arguments))})})),e}function ll(){}var pl=jr(Tt),cl=jr(Et),ul=jr(Pt);function dl(e){return ws(e)?qt(Ys(e)):function(e){return function(t){return Co(t,e)}}(e)}var hl=Wr(),fl=Wr(!0);function ml(){return[]}function gl(){return!1}var vl=qr((function(e,t){return e+t}),0),yl=Gr("ceil"),Al=qr((function(e,t){return e/t}),1),_l=Gr("floor");var wl,bl=qr((function(e,t){return e*t}),1),xl=Gr("round"),Cl=qr((function(e,t){return e-t}),0);return zn.after=function(e,n){if("function"!=typeof n)throw new Te(t);return e=fa(e),function(){if(--e<1)return n.apply(this,arguments)}},zn.ary=Ei,zn.assign=Aa,zn.assignIn=_a,zn.assignInWith=wa,zn.assignWith=ba,zn.at=xa,zn.before=Di,zn.bind=ki,zn.bindAll=Qa,zn.bindKey=Ii,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ji(e)?e:[e]},zn.chain=di,zn.chunk=function(t,n,o){n=(o?_s(t,n,o):n===e)?1:yn(fa(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var s=0,i=0,a=xe(Ft(r/n));s<r;)a[i++]=rr(t,s,s+=n);return a},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,r=[];++t<n;){var s=e[t];s&&(r[o++]=s)}return r},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xe(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Lt(ji(n)?Ir(n):[n],yo(t,1))},zn.cond=function(e){var n=null==e?0:e.length,o=ps();return e=n?Tt(e,(function(e){if("function"!=typeof e[1])throw new Te(t);return[o(e[0]),e[1]]})):[],Jo((function(t){for(var o=-1;++o<n;){var r=e[o];if(xt(r[0],this,t))return xt(r[1],this,t)}}))},zn.conforms=function(e){return function(e){var t=Ta(e);return function(n){return po(n,e,t)}}(lo(e,1))},zn.constant=el,zn.countBy=mi,zn.create=function(e,t){var n=Bn(e);return null==t?n:ro(n,t)},zn.curry=function t(n,o,r){var s=Kr(n,8,e,e,e,e,e,o=r?e:o);return s.placeholder=t.placeholder,s},zn.curryRight=function t(n,o,s){var i=Kr(n,r,e,e,e,e,e,o=s?e:o);return i.placeholder=t.placeholder,i},zn.debounce=Ti,zn.defaults=Ca,zn.defaultsDeep=Ma,zn.defer=Li,zn.delay=Oi,zn.difference=zs,zn.differenceBy=Bs,zn.differenceWith=Rs,zn.drop=function(t,n,o){var r=null==t?0:t.length;return r?rr(t,(n=o||n===e?1:fa(n))<0?0:n,r):[]},zn.dropRight=function(t,n,o){var r=null==t?0:t.length;return r?rr(t,0,(n=r-(n=o||n===e?1:fa(n)))<0?0:n):[]},zn.dropRightWhile=function(e,t){return e&&e.length?fr(e,ps(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?fr(e,ps(t,3),!0):[]},zn.fill=function(t,n,o,r){var s=null==t?0:t.length;return s?(o&&"number"!=typeof o&&_s(t,n,o)&&(o=0,r=s),function(t,n,o,r){var s=t.length;for((o=fa(o))<0&&(o=-o>s?0:s+o),(r=r===e||r>s?s:fa(r))<0&&(r+=s),r=o>r?0:ma(r);o<r;)t[o++]=n;return t}(t,n,o,r)):[]},zn.filter=function(e,t){return(ji(e)?Dt:vo)(e,ps(t,3))},zn.flatMap=function(e,t){return yo(xi(e,t),1)},zn.flatMapDeep=function(e,t){return yo(xi(e,t),p)},zn.flatMapDepth=function(t,n,o){return o=o===e?1:fa(o),yo(xi(t,n),o)},zn.flatten=Vs,zn.flattenDeep=function(e){return(null==e?0:e.length)?yo(e,p):[]},zn.flattenDepth=function(t,n){return(null==t?0:t.length)?yo(t,n=n===e?1:fa(n)):[]},zn.flip=function(e){return Kr(e,512)},zn.flow=tl,zn.flowRight=nl,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var r=e[t];o[r[0]]=r[1]}return o},zn.functions=function(e){return null==e?[]:xo(e,Ta(e))},zn.functionsIn=function(e){return null==e?[]:xo(e,La(e))},zn.groupBy=_i,zn.initial=function(e){return(null==e?0:e.length)?rr(e,0,-1):[]},zn.intersection=Us,zn.intersectionBy=Zs,zn.intersectionWith=Gs,zn.invert=Da,zn.invertBy=ka,zn.invokeMap=wi,zn.iteratee=rl,zn.keyBy=bi,zn.keys=Ta,zn.keysIn=La,zn.map=xi,zn.mapKeys=function(e,t){var n={};return t=ps(t,3),wo(e,(function(e,o,r){so(n,t(e,o,r),e)})),n},zn.mapValues=function(e,t){var n={};return t=ps(t,3),wo(e,(function(e,o,r){so(n,o,t(e,o,r))})),n},zn.matches=function(e){return Bo(lo(e,1))},zn.matchesProperty=function(e,t){return Ro(e,lo(t,1))},zn.memoize=Ni,zn.merge=Oa,zn.mergeWith=Na,zn.method=sl,zn.methodOf=il,zn.mixin=al,zn.negate=Pi,zn.nthArg=function(e){return e=fa(e),Jo((function(t){return jo(t,e)}))},zn.omit=Pa,zn.omitBy=function(e,t){return Ya(e,Pi(ps(t)))},zn.once=function(e){return Di(2,e)},zn.orderBy=function(t,n,o,r){return null==t?[]:(ji(n)||(n=null==n?[]:[n]),ji(o=r?e:o)||(o=null==o?[]:[o]),Vo(t,n,o))},zn.over=pl,zn.overArgs=Fi,zn.overEvery=cl,zn.overSome=ul,zn.partial=Yi,zn.partialRight=$i,zn.partition=Ci,zn.pick=Fa,zn.pickBy=Ya,zn.property=dl,zn.propertyOf=function(t){return function(n){return null==t?e:Co(t,n)}},zn.pull=Js,zn.pullAll=Ks,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Uo(e,t,ps(n,2)):e},zn.pullAllWith=function(t,n,o){return t&&t.length&&n&&n.length?Uo(t,n,e,o):t},zn.pullAt=Qs,zn.range=hl,zn.rangeRight=fl,zn.rearg=Hi,zn.reject=function(e,t){return(ji(e)?Dt:vo)(e,Pi(ps(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,r=[],s=e.length;for(t=ps(t,3);++o<s;){var i=e[o];t(i,o,e)&&(n.push(i),r.push(o))}return Zo(e,r),n},zn.rest=function(n,o){if("function"!=typeof n)throw new Te(t);return Jo(n,o=o===e?o:fa(o))},zn.reverse=ei,zn.sampleSize=function(t,n,o){return n=(o?_s(t,n,o):n===e)?1:fa(n),(ji(t)?Kn:Qo)(t,n)},zn.set=function(e,t,n){return null==e?e:er(e,t,n)},zn.setWith=function(t,n,o,r){return r="function"==typeof r?r:e,null==t?t:er(t,n,o,r)},zn.shuffle=function(e){return(ji(e)?Qn:or)(e)},zn.slice=function(t,n,o){var r=null==t?0:t.length;return r?(o&&"number"!=typeof o&&_s(t,n,o)?(n=0,o=r):(n=null==n?0:fa(n),o=o===e?r:fa(o)),rr(t,n,o)):[]},zn.sortBy=Mi,zn.sortedUniq=function(e){return e&&e.length?lr(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?lr(e,ps(t,2)):[]},zn.split=function(t,n,o){return o&&"number"!=typeof o&&_s(t,n,o)&&(n=o=e),(o=o===e?d:o>>>0)?(t=ya(t))&&("string"==typeof n||null!=n&&!sa(n))&&!(n=cr(n))&&nn(t)?br(cn(t),0,o):t.split(n,o):[]},zn.spread=function(e,n){if("function"!=typeof e)throw new Te(t);return n=null==n?0:yn(fa(n),0),Jo((function(t){var o=t[n],r=br(t,0,n);return o&&Lt(r,o),xt(e,this,r)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},zn.take=function(t,n,o){return t&&t.length?rr(t,0,(n=o||n===e?1:fa(n))<0?0:n):[]},zn.takeRight=function(t,n,o){var r=null==t?0:t.length;return r?rr(t,(n=r-(n=o||n===e?1:fa(n)))<0?0:n,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?fr(e,ps(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?fr(e,ps(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,n,o){var r=!0,s=!0;if("function"!=typeof e)throw new Te(t);return ea(o)&&(r="leading"in o?!!o.leading:r,s="trailing"in o?!!o.trailing:s),Ti(e,n,{leading:r,maxWait:n,trailing:s})},zn.thru=hi,zn.toArray=da,zn.toPairs=$a,zn.toPairsIn=Ha,zn.toPath=function(e){return ji(e)?Tt(e,Ys):la(e)?[e]:Ir(Fs(ya(e)))},zn.toPlainObject=va,zn.transform=function(e,t,n){var o=ji(e),r=o||Zi(e)||pa(e);if(t=ps(t,4),null==n){var s=e&&e.constructor;n=r?o?new s:[]:ea(e)&&Ji(s)?Bn(Ze(e)):{}}return(r?Mt:wo)(e,(function(e,o,r){return t(n,e,o,r)})),n},zn.unary=function(e){return Ei(e,1)},zn.union=ti,zn.unionBy=ni,zn.unionWith=oi,zn.uniq=function(e){return e&&e.length?ur(e):[]},zn.uniqBy=function(e,t){return e&&e.length?ur(e,ps(t,2)):[]},zn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?ur(t,e,n):[]},zn.unset=function(e,t){return null==e||dr(e,t)},zn.unzip=ri,zn.unzipWith=si,zn.update=function(e,t,n){return null==e?e:hr(e,t,Ar(n))},zn.updateWith=function(t,n,o,r){return r="function"==typeof r?r:e,null==t?t:hr(t,n,Ar(o),r)},zn.values=za,zn.valuesIn=function(e){return null==e?[]:Gt(e,La(e))},zn.without=ii,zn.words=Ja,zn.wrap=function(e,t){return Yi(Ar(t),e)},zn.xor=ai,zn.xorBy=li,zn.xorWith=pi,zn.zip=ci,zn.zipObject=function(e,t){return vr(e||[],t||[],to)},zn.zipObjectDeep=function(e,t){return vr(e||[],t||[],er)},zn.zipWith=ui,zn.entries=$a,zn.entriesIn=Ha,zn.extend=_a,zn.extendWith=wa,al(zn,zn),zn.add=vl,zn.attempt=Ka,zn.camelCase=Ba,zn.capitalize=Ra,zn.ceil=yl,zn.clamp=function(t,n,o){return o===e&&(o=n,n=e),o!==e&&(o=(o=ga(o))==o?o:0),n!==e&&(n=(n=ga(n))==n?n:0),ao(ga(t),n,o)},zn.clone=function(e){return lo(e,4)},zn.cloneDeep=function(e){return lo(e,5)},zn.cloneDeepWith=function(t,n){return lo(t,5,n="function"==typeof n?n:e)},zn.cloneWith=function(t,n){return lo(t,4,n="function"==typeof n?n:e)},zn.conformsTo=function(e,t){return null==t||po(e,t,Ta(t))},zn.deburr=qa,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=Al,zn.endsWith=function(t,n,o){t=ya(t),n=cr(n);var r=t.length,s=o=o===e?r:ao(fa(o),0,r);return(o-=n.length)>=0&&t.slice(o,s)==n},zn.eq=zi,zn.escape=function(e){return(e=ya(e))&&U.test(e)?e.replace(V,en):e},zn.escapeRegExp=function(e){return(e=ya(e))&&te.test(e)?e.replace(ee,"\\$&"):e},zn.every=function(t,n,o){var r=ji(t)?Et:mo;return o&&_s(t,n,o)&&(n=e),r(t,ps(n,3))},zn.find=gi,zn.findIndex=qs,zn.findKey=function(e,t){return Yt(e,ps(t,3),wo)},zn.findLast=vi,zn.findLastIndex=js,zn.findLastKey=function(e,t){return Yt(e,ps(t,3),bo)},zn.floor=_l,zn.forEach=yi,zn.forEachRight=Ai,zn.forIn=function(e,t){return null==e?e:Ao(e,ps(t,3),La)},zn.forInRight=function(e,t){return null==e?e:_o(e,ps(t,3),La)},zn.forOwn=function(e,t){return e&&wo(e,ps(t,3))},zn.forOwnRight=function(e,t){return e&&bo(e,ps(t,3))},zn.get=Sa,zn.gt=Bi,zn.gte=Ri,zn.has=function(e,t){return null!=e&&gs(e,t,Do)},zn.hasIn=Ea,zn.head=Ws,zn.identity=ol,zn.includes=function(e,t,n,o){e=Wi(e)?e:za(e),n=n&&!o?fa(n):0;var r=e.length;return n<0&&(n=yn(r+n,0)),aa(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Ht(e,t,n)>-1},zn.indexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:fa(n);return r<0&&(r=yn(o+r,0)),Ht(e,t,r)},zn.inRange=function(t,n,o){return n=ha(n),o===e?(o=n,n=0):o=ha(o),function(e,t,n){return e>=An(t,n)&&e<yn(t,n)}(t=ga(t),n,o)},zn.invoke=Ia,zn.isArguments=qi,zn.isArray=ji,zn.isArrayBuffer=Vi,zn.isArrayLike=Wi,zn.isArrayLikeObject=Ui,zn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&So(e)==g},zn.isBuffer=Zi,zn.isDate=Gi,zn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ra(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Wi(e)&&(ji(e)||"string"==typeof e||"function"==typeof e.splice||Zi(e)||pa(e)||qi(e)))return!e.length;var t=ms(e);if(t==w||t==S)return!e.size;if(Cs(e))return!Yo(e).length;for(var n in e)if(Ye.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Oo(e,t)},zn.isEqualWith=function(t,n,o){var r=(o="function"==typeof o?o:e)?o(t,n):e;return r===e?Oo(t,n,e,o):!!r},zn.isError=Xi,zn.isFinite=function(e){return"number"==typeof e&&mn(e)},zn.isFunction=Ji,zn.isInteger=Ki,zn.isLength=Qi,zn.isMap=na,zn.isMatch=function(e,t){return e===t||No(e,t,us(t))},zn.isMatchWith=function(t,n,o){return o="function"==typeof o?o:e,No(t,n,us(n),o)},zn.isNaN=function(e){return oa(e)&&e!=+e},zn.isNative=function(e){if(xs(e))throw new Me("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Po(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=oa,zn.isObject=ea,zn.isObjectLike=ta,zn.isPlainObject=ra,zn.isRegExp=sa,zn.isSafeInteger=function(e){return Ki(e)&&e>=-9007199254740991&&e<=c},zn.isSet=ia,zn.isString=aa,zn.isSymbol=la,zn.isTypedArray=pa,zn.isUndefined=function(t){return t===e},zn.isWeakMap=function(e){return ta(e)&&ms(e)==k},zn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==So(e)},zn.join=function(e,t){return null==e?"":gn.call(e,t)},zn.kebabCase=ja,zn.last=Xs,zn.lastIndexOf=function(t,n,o){var r=null==t?0:t.length;if(!r)return-1;var s=r;return o!==e&&(s=(s=fa(o))<0?yn(r+s,0):An(s,r-1)),n==n?function(e,t,n){for(var o=n+1;o--;)if(e[o]===t)return o;return o}(t,n,s):$t(t,Bt,s,!0)},zn.lowerCase=Va,zn.lowerFirst=Wa,zn.lt=ca,zn.lte=ua,zn.max=function(t){return t&&t.length?go(t,ol,Eo):e},zn.maxBy=function(t,n){return t&&t.length?go(t,ps(n,2),Eo):e},zn.mean=function(e){return Rt(e,ol)},zn.meanBy=function(e,t){return Rt(e,ps(t,2))},zn.min=function(t){return t&&t.length?go(t,ol,Ho):e},zn.minBy=function(t,n){return t&&t.length?go(t,ps(n,2),Ho):e},zn.stubArray=ml,zn.stubFalse=gl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=bl,zn.nth=function(t,n){return t&&t.length?jo(t,fa(n)):e},zn.noConflict=function(){return ut._===this&&(ut._=Re),this},zn.noop=ll,zn.now=Si,zn.pad=function(e,t,n){e=ya(e);var o=(t=fa(t))?pn(e):0;if(!t||o>=t)return e;var r=(t-o)/2;return Vr(jt(r),n)+e+Vr(Ft(r),n)},zn.padEnd=function(e,t,n){e=ya(e);var o=(t=fa(t))?pn(e):0;return t&&o<t?e+Vr(t-o,n):e},zn.padStart=function(e,t,n){e=ya(e);var o=(t=fa(t))?pn(e):0;return t&&o<t?Vr(t-o,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ya(e).replace(oe,""),t||0)},zn.random=function(t,n,o){if(o&&"boolean"!=typeof o&&_s(t,n,o)&&(n=o=e),o===e&&("boolean"==typeof n?(o=n,n=e):"boolean"==typeof t&&(o=t,t=e)),t===e&&n===e?(t=0,n=1):(t=ha(t),n===e?(n=t,t=0):n=ha(n)),t>n){var r=t;t=n,n=r}if(o||t%1||n%1){var s=bn();return An(t+s*(n-t+at("1e-"+((s+"").length-1))),n)}return Go(t,n)},zn.reduce=function(e,t,n){var o=ji(e)?Ot:Vt,r=arguments.length<3;return o(e,ps(t,4),n,r,ho)},zn.reduceRight=function(e,t,n){var o=ji(e)?Nt:Vt,r=arguments.length<3;return o(e,ps(t,4),n,r,fo)},zn.repeat=function(t,n,o){return n=(o?_s(t,n,o):n===e)?1:fa(n),Xo(ya(t),n)},zn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(t,n,o){var r=-1,s=(n=_r(n,t)).length;for(s||(s=1,t=e);++r<s;){var i=null==t?e:t[Ys(n[r])];i===e&&(r=s,i=o),t=Ji(i)?i.call(t):i}return t},zn.round=xl,zn.runInContext=_e,zn.sample=function(e){return(ji(e)?Jn:Ko)(e)},zn.size=function(e){if(null==e)return 0;if(Wi(e))return aa(e)?pn(e):e.length;var t=ms(e);return t==w||t==S?e.size:Yo(e).length},zn.snakeCase=Ua,zn.some=function(t,n,o){var r=ji(t)?Pt:sr;return o&&_s(t,n,o)&&(n=e),r(t,ps(n,3))},zn.sortedIndex=function(e,t){return ir(e,t)},zn.sortedIndexBy=function(e,t,n){return ar(e,t,ps(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=ir(e,t);if(o<n&&zi(e[o],t))return o}return-1},zn.sortedLastIndex=function(e,t){return ir(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return ar(e,t,ps(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ir(e,t,!0)-1;if(zi(e[n],t))return n}return-1},zn.startCase=Za,zn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ao(fa(n),0,e.length),t=cr(t),e.slice(n,n+t.length)==t},zn.subtract=Cl,zn.sum=function(e){return e&&e.length?Wt(e,ol):0},zn.sumBy=function(e,t){return e&&e.length?Wt(e,ps(t,2)):0},zn.template=function(t,n,o){var r=zn.templateSettings;o&&_s(t,n,o)&&(n=e),t=ya(t),n=wa({},n,r,Qr);var s,i,a=wa({},n.imports,r.imports,Qr),l=Ta(a),p=Gt(a,l),c=0,u=n.interpolate||ye,d="__p += '",h=ke((n.escape||ye).source+"|"+u.source+"|"+(u===X?ce:ye).source+"|"+(n.evaluate||ye).source+"|$","g"),f="//# sourceURL="+(Ye.call(n,"sourceURL")?(n.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(h,(function(e,n,o,r,a,l){return o||(o=r),d+=t.slice(c,l).replace(Ae,tn),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(i=!0,d+="';\n"+a+";\n__p += '"),o&&(d+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var m=Ye.call(n,"variable")&&n.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(i?d.replace(B,""):d).replace(R,"$1").replace(q,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ka((function(){return Se(l,f+"return "+d).apply(e,p)}));if(g.source=d,Xi(g))throw g;return g},zn.times=function(e,t){if((e=fa(e))<1||e>c)return[];var n=d,o=An(e,d);t=ps(t),e-=d;for(var r=Ut(o,t);++n<e;)t(n);return r},zn.toFinite=ha,zn.toInteger=fa,zn.toLength=ma,zn.toLower=function(e){return ya(e).toLowerCase()},zn.toNumber=ga,zn.toSafeInteger=function(e){return e?ao(fa(e),-9007199254740991,c):0===e?e:0},zn.toString=ya,zn.toUpper=function(e){return ya(e).toUpperCase()},zn.trim=function(t,n,o){if((t=ya(t))&&(o||n===e))return t.replace(ne,"");if(!t||!(n=cr(n)))return t;var r=cn(t),s=cn(n);return br(r,Jt(r,s),Kt(r,s)+1).join("")},zn.trimEnd=function(t,n,o){if((t=ya(t))&&(o||n===e))return t.replace(re,"");if(!t||!(n=cr(n)))return t;var r=cn(t);return br(r,0,Kt(r,cn(n))+1).join("")},zn.trimStart=function(t,n,o){if((t=ya(t))&&(o||n===e))return t.replace(oe,"");if(!t||!(n=cr(n)))return t;var r=cn(t);return br(r,Jt(r,cn(n))).join("")},zn.truncate=function(t,n){var o=30,r="...";if(ea(n)){var s="separator"in n?n.separator:s;o="length"in n?fa(n.length):o,r="omission"in n?cr(n.omission):r}var i=(t=ya(t)).length;if(nn(t)){var a=cn(t);i=a.length}if(o>=i)return t;var l=o-pn(r);if(l<1)return r;var p=a?br(a,0,l).join(""):t.slice(0,l);if(s===e)return p+r;if(a&&(l+=p.length-l),sa(s)){if(t.slice(l).search(s)){var c,u=p;for(s.global||(s=ke(s.source,ya(ue.exec(s))+"g")),s.lastIndex=0;c=s.exec(u);)var d=c.index;p=p.slice(0,d===e?l:d)}}else if(t.indexOf(cr(s),l)!=l){var h=p.lastIndexOf(s);h>-1&&(p=p.slice(0,h))}return p+r},zn.unescape=function(e){return(e=ya(e))&&W.test(e)?e.replace(j,un):e},zn.uniqueId=function(e){var t=++$e;return ya(e)+t},zn.upperCase=Ga,zn.upperFirst=Xa,zn.each=yi,zn.eachRight=Ai,zn.first=Ws,al(zn,(wl={},wo(zn,(function(e,t){Ye.call(zn.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),zn.VERSION="4.17.15",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Mt(["drop","take"],(function(t,n){jn.prototype[t]=function(o){o=o===e?1:yn(fa(o),0);var r=this.__filtered__&&!n?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=An(o,r.__takeCount__):r.__views__.push({size:An(o,d),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,o=1==n||3==n;jn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ps(e,3),type:n}),t.__filtered__=t.__filtered__||o,t}})),Mt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");jn.prototype[e]=function(){return this[n](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");jn.prototype[e]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(ol)},jn.prototype.find=function(e){return this.filter(e).head()},jn.prototype.findLast=function(e){return this.reverse().find(e)},jn.prototype.invokeMap=Jo((function(e,t){return"function"==typeof e?new jn(this):this.map((function(n){return To(n,e,t)}))})),jn.prototype.reject=function(e){return this.filter(Pi(ps(e)))},jn.prototype.slice=function(t,n){t=fa(t);var o=this;return o.__filtered__&&(t>0||n<0)?new jn(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),n!==e&&(o=(n=fa(n))<0?o.dropRight(-n):o.take(n-t)),o)},jn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},jn.prototype.toArray=function(){return this.take(d)},wo(jn.prototype,(function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),s=zn[r?"take"+("last"==n?"Right":""):n],i=r||/^find/.test(n);s&&(zn.prototype[n]=function(){var n=this.__wrapped__,a=r?[1]:arguments,l=n instanceof jn,p=a[0],c=l||ji(n),u=function(e){var t=s.apply(zn,Lt([e],a));return r&&d?t[0]:t};c&&o&&"function"==typeof p&&1!=p.length&&(l=c=!1);var d=this.__chain__,h=!!this.__actions__.length,f=i&&!d,m=l&&!h;if(!i&&c){n=m?n:new jn(this);var g=t.apply(n,a);return g.__actions__.push({func:hi,args:[u],thisArg:e}),new qn(g,d)}return f&&m?t.apply(this,a):(g=this.thru(u),f?r?g.value()[0]:g.value():g)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Le[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var r=this.value();return t.apply(ji(r)?r:[],e)}return this[n]((function(n){return t.apply(ji(n)?n:[],e)}))}})),wo(jn.prototype,(function(e,t){var n=zn[t];if(n){var o=n.name+"";Ye.call(Tn,o)||(Tn[o]=[]),Tn[o].push({name:t,func:n})}})),Tn[Br(e,2).name]=[{name:"wrapper",func:e}],jn.prototype.clone=function(){var e=new jn(this.__wrapped__);return e.__actions__=Ir(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ir(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ir(this.__views__),e},jn.prototype.reverse=function(){if(this.__filtered__){var e=new jn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},jn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ji(e),o=t<0,r=n?e.length:0,s=function(e,t,n){var o=-1,r=n.length;for(;++o<r;){var s=n[o],i=s.size;switch(s.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=An(t,e+i);break;case"takeRight":e=yn(e,t-i)}}return{start:e,end:t}}(0,r,this.__views__),i=s.start,a=s.end,l=a-i,p=o?a:i-1,c=this.__iteratees__,u=c.length,d=0,h=An(l,this.__takeCount__);if(!n||!o&&r==l&&h==l)return mr(e,this.__actions__);var f=[];e:for(;l--&&d<h;){for(var m=-1,g=e[p+=t];++m<u;){var v=c[m],y=v.iteratee,A=v.type,_=y(g);if(2==A)g=_;else if(!_){if(1==A)continue e;break e}}f[d++]=g}return f},zn.prototype.at=fi,zn.prototype.chain=function(){return di(this)},zn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===e&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var n,o=this;o instanceof Rn;){var r=Hs(o);r.__index__=0,r.__values__=e,n?s.__wrapped__=r:n=r;var s=r;o=o.__wrapped__}return s.__wrapped__=t,n},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var n=t;return this.__actions__.length&&(n=new jn(this)),(n=n.reverse()).__actions__.push({func:hi,args:[ei],thisArg:e}),new qn(n,this.__chain__)}return this.thru(ei)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,pt&&(zn.prototype[pt]=function(){return this}),zn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ut._=dn,define((function(){return dn}))):ht?((ht.exports=dn)._=dn,dt._=dn):ut._=dn}.call(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axios=t():e.axios=t()}(this,(function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function o(e){var t=new i(e),n=s(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var r=n(2),s=n(3),i=n(5),a=n(22),l=o(n(11));l.Axios=i,l.create=function(e){return o(a(l.defaults,e))},l.Cancel=n(23),l.CancelToken=n(24),l.isCancel=n(10),l.all=function(e){return Promise.all(e)},l.spread=n(25),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";function o(e){return"[object Array]"===p.call(e)}function r(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===p.call(e)}function i(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}var a=n(3),l=n(4),p=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===p.call(e)},isBuffer:l,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:r,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===p.call(e)},isFile:function(e){return"[object File]"===p.call(e)},isBlob:function(e){return"[object Blob]"===p.call(e)},isFunction:s,isStream:function(e){return r(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:i,merge:function e(){function t(t,o){"object"==typeof n[o]&&"object"==typeof t?n[o]=e(n[o],t):n[o]=t}for(var n={},o=0,r=arguments.length;o<r;o++)i(arguments[o],t);return n},deepMerge:function e(){function t(t,o){"object"==typeof n[o]&&"object"==typeof t?n[o]=e(n[o],t):n[o]="object"==typeof t?e({},t):t}for(var n={},o=0,r=arguments.length;o<r;o++)i(arguments[o],t);return n},extend:function(e,t,n){return i(t,(function(t,o){e[o]=n&&"function"==typeof t?a(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t){
/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";function o(e){this.defaults=e,this.interceptors={request:new i,response:new i}}var r=n(2),s=n(6),i=n(7),a=n(8),l=n(22);o.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.prototype.getUri=function(e){return e=l(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){o.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){o.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=o},function(e,t,n){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(2);e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},function(e,t,n){"use strict";function o(){this.handlers=[]}var r=n(2);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var r=n(2),s=n(9),i=n(10),a=n(11),l=n(20),p=n(21);e.exports=function(e){return o(e),e.baseURL&&!l(e.url)&&(e.url=p(e.baseURL,e.url)),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return o(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(o(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var o=n(2);e.exports=function(e,t,n){return o.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r=n(2),s=n(12),i={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var e;return("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)||"undefined"!=typeof XMLHttpRequest)&&(e=n(13)),e}(),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){a.headers[e]=r.merge(i)})),e.exports=a},function(e,t,n){"use strict";var o=n(2);e.exports=function(e,t){o.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))}},function(e,t,n){"use strict";var o=n(2),r=n(14),s=n(6),i=n(17),a=n(18),l=n(15);e.exports=function(e){return new Promise((function(t,p){var c=e.data,u=e.headers;o.isFormData(c)&&delete u["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",f=e.auth.password||"";u.Authorization="Basic "+btoa(h+":"+f)}if(d.open(e.method.toUpperCase(),s(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?i(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};r(t,p,o),d=null}},d.onabort=function(){d&&(p(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){p(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){p(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},o.isStandardBrowserEnv()){var m=n(19),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(u[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&o.forEach(u,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete u[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),p(e),d=null)})),void 0===c&&(c=null),d.send(c)}))}},function(e,t,n){"use strict";var o=n(15);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(o("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";var o=n(16);e.exports=function(e,t,n,r,s){var i=new Error(e);return o(i,t,n,r,s)}},function(e,t){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var o=n(2),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,i={};return e?(o.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=o.trim(e.substr(0,s)).toLowerCase(),n=o.trim(e.substr(s+1)),t){if(i[t]&&r.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},function(e,t,n){"use strict";var o=n(2);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(n){var r=o.isString(n)?e(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(e,t,n){"use strict";var o=n(2);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,r,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var o=n(2);e.exports=function(e,t){t=t||{};var n={};return o.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),o.forEach(["headers","auth","proxy"],(function(r){o.isObject(t[r])?n[r]=o.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:o.isObject(e[r])?n[r]=o.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),o.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(o){void 0!==t[o]?n[o]=t[o]:void 0!==e[o]&&(n[o]=e[o])})),n}},function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){"use strict";function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}var r=n(23);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}}])})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function i(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,o=[];for(n=0;n<e.length;++n)o.push(t(e[n],n));return o}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,o){return Tt(e,t,n,o,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var n=d(e),o=t.call(n.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&o);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function f(e){var t=u(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,o=0;o<n;o++)if(o in t&&e.call(this,t[o],o,t))return!0;return!1};var m=n.momentProperties=[];function g(e,t){var n,o,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=d(t)),s(t._locale)||(e._locale=t._locale),m.length>0)for(n=0;n<m.length;n++)s(r=t[o=m[n]])||(e[o]=r);return e}var v=!1;function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function A(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function b(e,t,n){var o,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&w(e[o])!==w(t[o]))&&i++;return i+s}function x(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var o=!0;return c((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),o){for(var r,s=[],i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(var a in r+="\n["+i+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[i];s.push(r)}x(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),o=!1}return t.apply(this,arguments)}),t)}var M,S={};function E(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),S[e]||(x(t),S[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e,t){var n,o=c({},e);for(n in t)p(t,n)&&(r(e[n])&&r(t[n])?(o[n]={},c(o[n],e[n]),c(o[n],t[n])):null!=t[n]?o[n]=t[n]:delete o[n]);for(n in e)p(e,n)&&!p(t,n)&&r(e[n])&&(o[n]=c({},o[n]));return o}function I(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,M=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var T={};function L(e,t){var n=e.toLowerCase();T[n]=T[n+"s"]=T[t]=e}function O(e){return"string"==typeof e?T[e]||T[e.toLowerCase()]:void 0}function N(e){var t,n,o={};for(n in e)p(e,n)&&(t=O(n))&&(o[t]=e[n]);return o}var P={};function F(e,t){P[e]=t}function Y(e,t,n){var o=""+Math.abs(e),r=t-o.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+o}var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},B={};function R(e,t,n,o){var r=o;"string"==typeof o&&(r=function(){return this[o]()}),e&&(B[e]=r),t&&(B[t[0]]=function(){return Y(r.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function q(e,t){return e.isValid()?(t=j(t,e.localeData()),z[t]=z[t]||function(e){var t,n,o,r=e.match($);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=(o=r[t]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(t){var o,s="";for(o=0;o<n;o++)s+=D(r[o])?r[o].call(t,e):r[o];return s}}(t),z[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function o(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,o),H.lastIndex=0,n-=1;return e}var V=/\d/,W=/\d\d/,U=/\d{3}/,Z=/\d{4}/,G=/[+-]?\d{6}/,X=/\d\d?/,J=/\d\d\d\d?/,K=/\d\d\d\d\d\d?/,Q=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,oe=/[+-]?\d+/,re=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ie=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ae={};function le(e,t,n){ae[e]=D(t)?t:function(e,o){return e&&n?n:t}}function pe(e,t){return p(ae,e)?ae[e](t._strict,t._locale):new RegExp(ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,o,r){return t||n||o||r}))))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ue={};function de(e,t){var n,o=t;for("string"==typeof e&&(e=[e]),i(t)&&(o=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)ue[e[n]]=o}function he(e,t){de(e,(function(e,n,o,r){o._w=o._w||{},t(e,o._w,o,r)}))}function fe(e,t,n){null!=t&&p(ue,e)&&ue[e](t,n._a,n,e)}var me=0,ge=1,ve=2,ye=3,Ae=4,_e=5,we=6,be=7,xe=8;function Ce(e){return Me(e)?366:365}function Me(e){return e%4==0&&e%100!=0||e%400==0}R("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("year",1),le("Y",oe),le("YY",X,W),le("YYYY",ee,Z),le("YYYYY",te,G),le("YYYYYY",te,G),de(["YYYYY","YYYYYY"],me),de("YYYY",(function(e,t){t[me]=2===e.length?n.parseTwoDigitYear(e):w(e)})),de("YY",(function(e,t){t[me]=n.parseTwoDigitYear(e)})),de("Y",(function(e,t){t[me]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Se,Ee=De("FullYear",!0);function De(e,t){return function(o){return null!=o?(Ie(this,e,o),n.updateOffset(this,t),this):ke(this,e)}}function ke(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Me(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Te(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Te(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,o=(t%(n=12)+n)%n;return e+=(t-o)/12,1===o?Me(e)?29:28:31-o%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),R("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),L("month","M"),F("month",8),le("M",X),le("MM",X,W),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),de(["M","MM"],(function(e,t){t[ge]=w(e)-1})),de(["MMM","MMMM"],(function(e,t,n,o){var r=n._locale.monthsParse(e,o,n._strict);null!=r?t[ge]=r:d(n).invalidMonth=e}));var Le=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Pe(e,t,n){var o,r,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)s=u([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Se.call(this._shortMonthsParse,i))?r:null:-1!==(r=Se.call(this._longMonthsParse,i))?r:null:"MMM"===t?-1!==(r=Se.call(this._shortMonthsParse,i))||-1!==(r=Se.call(this._longMonthsParse,i))?r:null:-1!==(r=Se.call(this._longMonthsParse,i))||-1!==(r=Se.call(this._shortMonthsParse,i))?r:null}function Fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!i(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Te(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ye(e){return null!=e?(Fe(this,e),n.updateOffset(this,!0),this):ke(this,"Month")}var $e=ie;var He=ie;function ze(){function e(e,t){return t.length-e.length}var t,n,o=[],r=[],s=[];for(t=0;t<12;t++)n=u([2e3,t]),o.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(o.sort(e),r.sort(e),s.sort(e),t=0;t<12;t++)o[t]=ce(o[t]),r[t]=ce(r[t]);for(t=0;t<24;t++)s[t]=ce(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Be(e,t,n,o,r,s,i){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,o,r,s,i),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,o,r,s,i),a}function Re(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function qe(e,t,n){var o=7+t-n;return-((7+Re(e,0,o).getUTCDay()-t)%7)+o-1}function je(e,t,n,o,r){var s,i,a=1+7*(t-1)+(7+n-o)%7+qe(e,o,r);return a<=0?i=Ce(s=e-1)+a:a>Ce(e)?(s=e+1,i=a-Ce(e)):(s=e,i=a),{year:s,dayOfYear:i}}function Ve(e,t,n){var o,r,s=qe(e.year(),t,n),i=Math.floor((e.dayOfYear()-s-1)/7)+1;return i<1?o=i+We(r=e.year()-1,t,n):i>We(e.year(),t,n)?(o=i-We(e.year(),t,n),r=e.year()+1):(r=e.year(),o=i),{week:o,year:r}}function We(e,t,n){var o=qe(e,t,n),r=qe(e+1,t,n);return(Ce(e)-o+r)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("week",5),F("isoWeek",5),le("w",X),le("ww",X,W),le("W",X),le("WW",X,W),he(["w","ww","W","WW"],(function(e,t,n,o){t[o.substr(0,1)]=w(e)}));function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("d",0,"do","day"),R("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),R("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),R("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),le("d",X),le("e",X),le("E",X),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),he(["dd","ddd","dddd"],(function(e,t,n,o){var r=n._locale.weekdaysParse(e,o,n._strict);null!=r?t.d=r:d(n).invalidWeekday=e})),he(["d","e","E"],(function(e,t,n,o){t[o]=w(e)}));var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Je(e,t,n){var o,r,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)s=u([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Se.call(this._weekdaysParse,i))?r:null:"ddd"===t?-1!==(r=Se.call(this._shortWeekdaysParse,i))?r:null:-1!==(r=Se.call(this._minWeekdaysParse,i))?r:null:"dddd"===t?-1!==(r=Se.call(this._weekdaysParse,i))||-1!==(r=Se.call(this._shortWeekdaysParse,i))||-1!==(r=Se.call(this._minWeekdaysParse,i))?r:null:"ddd"===t?-1!==(r=Se.call(this._shortWeekdaysParse,i))||-1!==(r=Se.call(this._weekdaysParse,i))||-1!==(r=Se.call(this._minWeekdaysParse,i))?r:null:-1!==(r=Se.call(this._minWeekdaysParse,i))||-1!==(r=Se.call(this._weekdaysParse,i))||-1!==(r=Se.call(this._shortWeekdaysParse,i))?r:null}var Ke=ie;var Qe=ie;var et=ie;function tt(){function e(e,t){return t.length-e.length}var t,n,o,r,s,i=[],a=[],l=[],p=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),o=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),s=this.weekdays(n,""),i.push(o),a.push(r),l.push(s),p.push(o),p.push(r),p.push(s);for(i.sort(e),a.sort(e),l.sort(e),p.sort(e),t=0;t<7;t++)a[t]=ce(a[t]),l[t]=ce(l[t]),p[t]=ce(p[t]);this._weekdaysRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function nt(){return this.hours()%12||12}function ot(e,t){R(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function rt(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,nt),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+nt.apply(this)+Y(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+nt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),ot("a",!0),ot("A",!1),L("hour","h"),F("hour",13),le("a",rt),le("A",rt),le("H",X),le("h",X),le("k",X),le("HH",X,W),le("hh",X,W),le("kk",X,W),le("hmm",J),le("hmmss",K),le("Hmm",J),le("Hmmss",K),de(["H","HH"],ye),de(["k","kk"],(function(e,t,n){var o=w(e);t[ye]=24===o?0:o})),de(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),de(["h","hh"],(function(e,t,n){t[ye]=w(e),d(n).bigHour=!0})),de("hmm",(function(e,t,n){var o=e.length-2;t[ye]=w(e.substr(0,o)),t[Ae]=w(e.substr(o)),d(n).bigHour=!0})),de("hmmss",(function(e,t,n){var o=e.length-4,r=e.length-2;t[ye]=w(e.substr(0,o)),t[Ae]=w(e.substr(o,2)),t[_e]=w(e.substr(r)),d(n).bigHour=!0})),de("Hmm",(function(e,t,n){var o=e.length-2;t[ye]=w(e.substr(0,o)),t[Ae]=w(e.substr(o))})),de("Hmmss",(function(e,t,n){var o=e.length-4,r=e.length-2;t[ye]=w(e.substr(0,o)),t[Ae]=w(e.substr(o,2)),t[_e]=w(e.substr(r))}));var st,it=De("Hours",!0),at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:Xe,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},lt={},pt={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ut(e){var t=null;if(!lt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=st._abbr,require("./locale/"+e),dt(t)}catch(e){}return lt[e]}function dt(e,t){var n;return e&&((n=s(t)?ft(e):ht(e,t))?st=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),st._abbr}function ht(e,t){if(null!==t){var n,o=at;if(t.abbr=e,null!=lt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=lt[e]._config;else if(null!=t.parentLocale)if(null!=lt[t.parentLocale])o=lt[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return pt[t.parentLocale]||(pt[t.parentLocale]=[]),pt[t.parentLocale].push({name:e,config:t}),null;o=n._config}return lt[e]=new I(k(o,t)),pt[e]&&pt[e].forEach((function(e){ht(e.name,e.config)})),dt(e),lt[e]}return delete lt[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return st;if(!o(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,o,r,s=0;s<e.length;){for(t=(r=ct(e[s]).split("-")).length,n=(n=ct(e[s+1]))?n.split("-"):null;t>0;){if(o=ut(r.slice(0,t).join("-")))return o;if(n&&n.length>=t&&b(r,n,!0)>=t-1)break;t--}s++}return st}(e)}function mt(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[ge]<0||n[ge]>11?ge:n[ve]<1||n[ve]>Te(n[me],n[ge])?ve:n[ye]<0||n[ye]>24||24===n[ye]&&(0!==n[Ae]||0!==n[_e]||0!==n[we])?ye:n[Ae]<0||n[Ae]>59?Ae:n[_e]<0||n[_e]>59?_e:n[we]<0||n[we]>999?we:-1,d(e)._overflowDayOfYear&&(t<me||t>ve)&&(t=ve),d(e)._overflowWeeks&&-1===t&&(t=be),d(e)._overflowWeekday&&-1===t&&(t=xe),d(e).overflow=t),e}function gt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,o,r,s,i,a=[];if(!e._d){for(r=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ve]&&null==e._a[ge]&&function(e){var t,n,o,r,s,i,a,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,i=4,n=gt(t.GG,e._a[me],Ve(Lt(),1,4).year),o=gt(t.W,1),((r=gt(t.E,1))<1||r>7)&&(l=!0);else{s=e._locale._week.dow,i=e._locale._week.doy;var p=Ve(Lt(),s,i);n=gt(t.gg,e._a[me],p.year),o=gt(t.w,p.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s}o<1||o>We(n,s,i)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(a=je(n,o,r,s,i),e._a[me]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(i=gt(e._a[me],r[me]),(e._dayOfYear>Ce(i)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),o=Re(i,0,e._dayOfYear),e._a[ge]=o.getUTCMonth(),e._a[ve]=o.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ye]&&0===e._a[Ae]&&0===e._a[_e]&&0===e._a[we]&&(e._nextDay=!0,e._a[ye]=0),e._d=(e._useUTC?Re:Be).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ye]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(d(e).weekdayMismatch=!0)}}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,At=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xt=/^\/?Date\((\-?\d+)/i;function Ct(e){var t,n,o,r,s,i,a=e._i,l=yt.exec(a)||At.exec(a);if(l){for(d(e).iso=!0,t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[1])){r=wt[t][0],o=!1!==wt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(l[3])){s=(l[2]||" ")+bt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!o&&null!=s)return void(e._isValid=!1);if(l[4]){if(!_t.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=r+(s||"")+(i||""),kt(e)}else e._isValid=!1}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function St(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Et={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,o,r,s,i,a,l=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var p=(t=l[4],n=l[3],o=l[2],r=l[5],s=l[6],i=l[7],a=[St(t),Ne.indexOf(n),parseInt(o,10),parseInt(r,10),parseInt(s,10)],i&&a.push(parseInt(i,10)),a);if(!function(e,t,n){return!e||Ge.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],p,e))return;e._a=p,e._tzm=function(e,t,n){if(e)return Et[e];if(t)return 0;var o=parseInt(n,10),r=o%100;return(o-r)/100*60+r}(l[8],l[9],l[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],d(e).empty=!0;var t,o,r,s,i,a=""+e._i,l=a.length,p=0;for(r=j(e._f,e._locale).match($)||[],t=0;t<r.length;t++)s=r[t],(o=(a.match(pe(s,e))||[])[0])&&((i=a.substr(0,a.indexOf(o))).length>0&&d(e).unusedInput.push(i),a=a.slice(a.indexOf(o)+o.length),p+=o.length),B[s]?(o?d(e).empty=!1:d(e).unusedTokens.push(s),fe(s,o,e)):e._strict&&!o&&d(e).unusedTokens.push(s);d(e).charsLeftOver=l-p,a.length>0&&d(e).unusedInput.push(a),e._a[ye]<=12&&!0===d(e).bigHour&&e._a[ye]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[ye]=function(e,t,n){var o;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((o=e.isPM(n))&&t<12&&(t+=12),o||12!==t||(t=0),t):t}(e._locale,e._a[ye],e._meridiem),vt(e),mt(e)}else Dt(e);else Ct(e)}function It(e){var t=e._i,p=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===p&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),A(t)?new y(mt(t)):(a(t)?e._d=t:o(p)?function(e){var t,n,o,r,s;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],kt(t),h(t)&&(s+=d(t).charsLeftOver,s+=10*d(t).unusedTokens.length,d(t).score=s,(null==o||s<o)&&(o=s,n=t));c(e,n||t)}(e):p?kt(e):function(e){var t=e._i;s(t)?e._d=new Date(n.now()):a(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=xt.exec(e._i);null===t?(Ct(e),!1===e._isValid&&(delete e._isValid,Dt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),vt(e)):r(t)?function(e){if(!e._d){var t=N(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vt(e)}}(e):i(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),h(e)||(e._d=null),e))}function Tt(e,t,n,s,i){var a,l={};return!0!==n&&!1!==n||(s=n,n=void 0),(r(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=e,l._f=t,l._strict=s,(a=new y(mt(It(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Lt(e,t,n,o){return Tt(e,t,n,o,!1)}n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ot=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()})),Nt=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}));function Pt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Lt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Ft=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yt(e){var t=N(e),n=t.year||0,o=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,a=t.hour||0,l=t.minute||0,p=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(Ft,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,o=0;o<Ft.length;++o)if(e[Ft[o]]){if(n)return!1;parseFloat(e[Ft[o]])!==w(e[Ft[o]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*p+6e4*l+1e3*a*60*60,this._days=+i+7*s,this._months=+r+3*o+12*n,this._data={},this._locale=ft(),this._bubble()}function $t(e){return e instanceof Yt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zt(e,t){R(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)}))}zt("Z",":"),zt("ZZ",""),le("Z",se),le("ZZ",se),de(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Rt(se,e)}));var Bt=/([\+\-]|\d\d)/gi;function Rt(e,t){var n=(t||"").match(e);if(null===n)return null;var o=((n[n.length-1]||[])+"").match(Bt)||["-",0,0],r=60*o[1]+w(o[2]);return 0===r?0:"+"===o[0]?r:-r}function qt(e,t){var o,r;return t._isUTC?(o=t.clone(),r=(A(e)||a(e)?e.valueOf():Lt(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+r),n.updateOffset(o,!1),o):Lt(e).local()}function jt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Vt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var Wt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zt(e,t){var n,o,r,s=e,a=null;return $t(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:i(e)?(s={},t?s[t]=e:s.milliseconds=e):(a=Wt.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:w(a[ve])*n,h:w(a[ye])*n,m:w(a[Ae])*n,s:w(a[_e])*n,ms:w(Ht(1e3*a[we]))*n}):(a=Ut.exec(e))?(n="-"===a[1]?-1:1,s={y:Gt(a[2],n),M:Gt(a[3],n),w:Gt(a[4],n),d:Gt(a[5],n),h:Gt(a[6],n),m:Gt(a[7],n),s:Gt(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=qt(t,e),e.isBefore(t)?n=Xt(e,t):((n=Xt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Lt(s.from),Lt(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),o=new Yt(s),$t(e)&&p(e,"_locale")&&(o._locale=e._locale),o}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jt(e,t){return function(n,o){var r;return null===o||isNaN(+o)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=o,o=r),Kt(this,Zt(n="string"==typeof n?+n:n,o),e),this}}function Kt(e,t,o,r){var s=t._milliseconds,i=Ht(t._days),a=Ht(t._months);e.isValid()&&(r=null==r||r,a&&Fe(e,ke(e,"Month")+a*o),i&&Ie(e,"Date",ke(e,"Date")+i*o),s&&e._d.setTime(e._d.valueOf()+s*o),r&&n.updateOffset(e,i||a))}Zt.fn=Yt.prototype,Zt.invalid=function(){return Zt(NaN)};var Qt=Jt(1,"add"),en=Jt(-1,"subtract");function tn(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months");return-(n+(t-o<0?(t-o)/(o-e.clone().add(n-1,"months")):(t-o)/(e.clone().add(n+1,"months")-o)))||0}function nn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var on=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function rn(){return this._locale}var sn=1e3,an=6e4,ln=36e5,pn=126227808e5;function cn(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-pn:new Date(e,t,n).valueOf()}function dn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-pn:Date.UTC(e,t,n)}function hn(e,t){R(0,[e,e.length],0,t)}function fn(e,t,n,o,r){var s;return null==e?Ve(this,o,r).year:(t>(s=We(e,o,r))&&(t=s),mn.call(this,e,t,n,o,r))}function mn(e,t,n,o,r){var s=je(e,t,n,o,r),i=Re(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hn("gggg","weekYear"),hn("ggggg","weekYear"),hn("GGGG","isoWeekYear"),hn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),le("G",oe),le("g",oe),le("GG",X,W),le("gg",X,W),le("GGGG",ee,Z),le("gggg",ee,Z),le("GGGGG",te,G),le("ggggg",te,G),he(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,o){t[o.substr(0,2)]=w(e)})),he(["gg","GG"],(function(e,t,o,r){t[r]=n.parseTwoDigitYear(e)})),R("Q",0,"Qo","quarter"),L("quarter","Q"),F("quarter",7),le("Q",V),de("Q",(function(e,t){t[ge]=3*(w(e)-1)})),R("D",["DD",2],"Do","date"),L("date","D"),F("date",9),le("D",X),le("DD",X,W),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),de(["D","DD"],ve),de("Do",(function(e,t){t[ve]=w(e.match(X)[0])}));var gn=De("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("dayOfYear",4),le("DDD",Q),le("DDDD",U),de(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=w(e)})),R("m",["mm",2],0,"minute"),L("minute","m"),F("minute",14),le("m",X),le("mm",X,W),de(["m","mm"],Ae);var vn=De("Minutes",!1);R("s",["ss",2],0,"second"),L("second","s"),F("second",15),le("s",X),le("ss",X,W),de(["s","ss"],_e);var yn,An=De("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),L("millisecond","ms"),F("millisecond",16),le("S",Q,V),le("SS",Q,W),le("SSS",Q,U),yn="SSSS";yn.length<=9;yn+="S")le(yn,ne);function _n(e,t){t[we]=w(1e3*("0."+e))}for(yn="S";yn.length<=9;yn+="S")de(yn,_n);var wn=De("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var bn=y.prototype;function xn(e){return e}bn.add=Qt,bn.calendar=function(e,t){var o=e||Lt(),r=qt(o,this).startOf("day"),s=n.calendarFormat(this,r)||"sameElse",i=t&&(D(t[s])?t[s].call(this,o):t[s]);return this.format(i||this.localeData().calendar(s,this,Lt(o)))},bn.clone=function(){return new y(this)},bn.diff=function(e,t,n){var o,r,s;if(!this.isValid())return NaN;if(!(o=qt(e,this)).isValid())return NaN;switch(r=6e4*(o.utcOffset()-this.utcOffset()),t=O(t)){case"year":s=tn(this,o)/12;break;case"month":s=tn(this,o);break;case"quarter":s=tn(this,o)/3;break;case"second":s=(this-o)/1e3;break;case"minute":s=(this-o)/6e4;break;case"hour":s=(this-o)/36e5;break;case"day":s=(this-o-r)/864e5;break;case"week":s=(this-o-r)/6048e5;break;default:s=this-o}return n?s:_(s)},bn.endOf=function(e){var t;if(void 0===(e=O(e))||"millisecond"===e||!this.isValid())return this;var o=this._isUTC?dn:un;switch(e){case"year":t=o(this.year()+1,0,1)-1;break;case"quarter":t=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=o(this.year(),this.month()+1,1)-1;break;case"week":t=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ln-cn(t+(this._isUTC?0:this.utcOffset()*an),ln)-1;break;case"minute":t=this._d.valueOf(),t+=an-cn(t,an)-1;break;case"second":t=this._d.valueOf(),t+=sn-cn(t,sn)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},bn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)},bn.from=function(e,t){return this.isValid()&&(A(e)&&e.isValid()||Lt(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bn.fromNow=function(e){return this.from(Lt(),e)},bn.to=function(e,t){return this.isValid()&&(A(e)&&e.isValid()||Lt(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bn.toNow=function(e){return this.to(Lt(),e)},bn.get=function(e){return D(this[e=O(e)])?this[e]():this},bn.invalidAt=function(){return d(this).overflow},bn.isAfter=function(e,t){var n=A(e)?e:Lt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},bn.isBefore=function(e,t){var n=A(e)?e:Lt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},bn.isBetween=function(e,t,n,o){var r=A(e)?e:Lt(e),s=A(t)?t:Lt(t);return!!(this.isValid()&&r.isValid()&&s.isValid())&&(("("===(o=o||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===o[1]?this.isBefore(s,n):!this.isAfter(s,n)))},bn.isSame=function(e,t){var n,o=A(e)?e:Lt(e);return!(!this.isValid()||!o.isValid())&&("millisecond"===(t=O(t)||"millisecond")?this.valueOf()===o.valueOf():(n=o.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},bn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},bn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},bn.isValid=function(){return h(this)},bn.lang=on,bn.locale=nn,bn.localeData=rn,bn.max=Nt,bn.min=Ot,bn.parsingFlags=function(){return c({},d(this))},bn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:P[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),o=0;o<n.length;o++)this[n[o].unit](e[n[o].unit]);else if(D(this[e=O(e)]))return this[e](t);return this},bn.startOf=function(e){var t;if(void 0===(e=O(e))||"millisecond"===e||!this.isValid())return this;var o=this._isUTC?dn:un;switch(e){case"year":t=o(this.year(),0,1);break;case"quarter":t=o(this.year(),this.month()-this.month()%3,1);break;case"month":t=o(this.year(),this.month(),1);break;case"week":t=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=o(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cn(t+(this._isUTC?0:this.utcOffset()*an),ln);break;case"minute":t=this._d.valueOf(),t-=cn(t,an);break;case"second":t=this._d.valueOf(),t-=cn(t,sn)}return this._d.setTime(t),n.updateOffset(this,!0),this},bn.subtract=en,bn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},bn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},bn.toDate=function(){return new Date(this.valueOf())},bn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+o+"-MM-DD[T]HH:mm:ss.SSS"+r)},bn.toJSON=function(){return this.isValid()?this.toISOString():null},bn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bn.unix=function(){return Math.floor(this.valueOf()/1e3)},bn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bn.year=Ee,bn.isLeapYear=function(){return Me(this.year())},bn.weekYear=function(e){return fn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bn.isoWeekYear=function(e){return fn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},bn.quarter=bn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},bn.month=Ye,bn.daysInMonth=function(){return Te(this.year(),this.month())},bn.week=bn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},bn.isoWeek=bn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},bn.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},bn.isoWeeksInYear=function(){return We(this.year(),1,4)},bn.date=gn,bn.day=bn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},bn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},bn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},bn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},bn.hour=bn.hours=it,bn.minute=bn.minutes=vn,bn.second=bn.seconds=An,bn.millisecond=bn.milliseconds=wn,bn.utcOffset=function(e,t,o){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Rt(se,e)))return this}else Math.abs(e)<16&&!o&&(e*=60);return!this._isUTC&&t&&(r=jt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?Kt(this,Zt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:jt(this)},bn.utc=function(e){return this.utcOffset(0,e)},bn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this},bn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},bn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Lt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},bn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bn.isLocal=function(){return!!this.isValid()&&!this._isUTC},bn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bn.isUtc=Vt,bn.isUTC=Vt,bn.zoneAbbr=function(){return this._isUTC?"UTC":""},bn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bn.dates=C("dates accessor is deprecated. Use date instead.",gn),bn.months=C("months accessor is deprecated. Use month instead",Ye),bn.years=C("years accessor is deprecated. Use year instead",Ee),bn.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),bn.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=It(e))._a){var t=e._isUTC?u(e._a):Lt(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Cn=I.prototype;function Mn(e,t,n,o){var r=ft(),s=u().set(o,t);return r[n](s,e)}function Sn(e,t,n){if(i(e)&&(t=e,e=void 0),e=e||"",null!=t)return Mn(e,t,n,"month");var o,r=[];for(o=0;o<12;o++)r[o]=Mn(e,o,n,"month");return r}function En(e,t,n,o){"boolean"==typeof e?(i(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,i(t)&&(n=t,t=void 0),t=t||"");var r,s=ft(),a=e?s._week.dow:0;if(null!=n)return Mn(t,(n+a)%7,o,"day");var l=[];for(r=0;r<7;r++)l[r]=Mn(t,(r+a)%7,o,"day");return l}Cn.calendar=function(e,t,n){var o=this._calendar[e]||this._calendar.sameElse;return D(o)?o.call(t,n):o},Cn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Cn.invalidDate=function(){return this._invalidDate},Cn.ordinal=function(e){return this._ordinal.replace("%d",e)},Cn.preparse=xn,Cn.postformat=xn,Cn.relativeTime=function(e,t,n,o){var r=this._relativeTime[n];return D(r)?r(e,t,n,o):r.replace(/%d/i,e)},Cn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},Cn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Cn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Le).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},Cn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Le.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Cn.monthsParse=function(e,t,n){var o,r,s;if(this._monthsParseExact)return Pe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=u([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(n&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}},Cn.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Cn.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=$e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Cn.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},Cn.firstDayOfYear=function(){return this._week.doy},Cn.firstDayOfWeek=function(){return this._week.dow},Cn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},Cn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Cn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Cn.weekdaysParse=function(e,t,n){var o,r,s;if(this._weekdaysParseExact)return Je.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(r=u([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[o]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[o].test(e))return o;if(n&&"ddd"===t&&this._shortWeekdaysParse[o].test(e))return o;if(n&&"dd"===t&&this._minWeekdaysParse[o].test(e))return o;if(!n&&this._weekdaysParse[o].test(e))return o}},Cn.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Cn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Cn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=et),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Cn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Cn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",dt),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ft);var Dn=Math.abs;function kn(e,t,n,o){var r=Zt(t,n);return e._milliseconds+=o*r._milliseconds,e._days+=o*r._days,e._months+=o*r._months,e._bubble()}function In(e){return e<0?Math.floor(e):Math.ceil(e)}function Tn(e){return 4800*e/146097}function Ln(e){return 146097*e/4800}function On(e){return function(){return this.as(e)}}var Nn=On("ms"),Pn=On("s"),Fn=On("m"),Yn=On("h"),$n=On("d"),Hn=On("w"),zn=On("M"),Bn=On("Q"),Rn=On("y");function qn(e){return function(){return this.isValid()?this._data[e]:NaN}}var jn=qn("milliseconds"),Vn=qn("seconds"),Wn=qn("minutes"),Un=qn("hours"),Zn=qn("days"),Gn=qn("months"),Xn=qn("years");var Jn=Math.round,Kn={ss:44,s:45,m:45,h:22,d:26,M:11};function Qn(e,t,n,o,r){return r.relativeTime(t||1,!!n,e,o)}var eo=Math.abs;function to(e){return(e>0)-(e<0)||+e}function no(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=eo(this._milliseconds)/1e3,o=eo(this._days),r=eo(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var s=_(r/12),i=r%=12,a=o,l=t,p=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",h=to(this._months)!==to(u)?"-":"",f=to(this._days)!==to(u)?"-":"",m=to(this._milliseconds)!==to(u)?"-":"";return d+"P"+(s?h+s+"Y":"")+(i?h+i+"M":"")+(a?f+a+"D":"")+(l||p||c?"T":"")+(l?m+l+"H":"")+(p?m+p+"M":"")+(c?m+c+"S":"")}var oo=Yt.prototype;return oo.isValid=function(){return this._isValid},oo.abs=function(){var e=this._data;return this._milliseconds=Dn(this._milliseconds),this._days=Dn(this._days),this._months=Dn(this._months),e.milliseconds=Dn(e.milliseconds),e.seconds=Dn(e.seconds),e.minutes=Dn(e.minutes),e.hours=Dn(e.hours),e.months=Dn(e.months),e.years=Dn(e.years),this},oo.add=function(e,t){return kn(this,e,t,1)},oo.subtract=function(e,t){return kn(this,e,t,-1)},oo.as=function(e){if(!this.isValid())return NaN;var t,n,o=this._milliseconds;if("month"===(e=O(e))||"quarter"===e||"year"===e)switch(t=this._days+o/864e5,n=this._months+Tn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ln(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return 24*t+o/36e5;case"minute":return 1440*t+o/6e4;case"second":return 86400*t+o/1e3;case"millisecond":return Math.floor(864e5*t)+o;default:throw new Error("Unknown unit "+e)}},oo.asMilliseconds=Nn,oo.asSeconds=Pn,oo.asMinutes=Fn,oo.asHours=Yn,oo.asDays=$n,oo.asWeeks=Hn,oo.asMonths=zn,oo.asQuarters=Bn,oo.asYears=Rn,oo.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},oo._bubble=function(){var e,t,n,o,r,s=this._milliseconds,i=this._days,a=this._months,l=this._data;return s>=0&&i>=0&&a>=0||s<=0&&i<=0&&a<=0||(s+=864e5*In(Ln(a)+i),i=0,a=0),l.milliseconds=s%1e3,e=_(s/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,n=_(t/60),l.hours=n%24,i+=_(n/24),a+=r=_(Tn(i)),i-=In(Ln(r)),o=_(a/12),a%=12,l.days=i,l.months=a,l.years=o,this},oo.clone=function(){return Zt(this)},oo.get=function(e){return e=O(e),this.isValid()?this[e+"s"]():NaN},oo.milliseconds=jn,oo.seconds=Vn,oo.minutes=Wn,oo.hours=Un,oo.days=Zn,oo.weeks=function(){return _(this.days()/7)},oo.months=Gn,oo.years=Xn,oo.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var o=Zt(e).abs(),r=Jn(o.as("s")),s=Jn(o.as("m")),i=Jn(o.as("h")),a=Jn(o.as("d")),l=Jn(o.as("M")),p=Jn(o.as("y")),c=r<=Kn.ss&&["s",r]||r<Kn.s&&["ss",r]||s<=1&&["m"]||s<Kn.m&&["mm",s]||i<=1&&["h"]||i<Kn.h&&["hh",i]||a<=1&&["d"]||a<Kn.d&&["dd",a]||l<=1&&["M"]||l<Kn.M&&["MM",l]||p<=1&&["y"]||["yy",p];return c[2]=t,c[3]=+e>0,c[4]=n,Qn.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},oo.toISOString=no,oo.toString=no,oo.toJSON=no,oo.locale=nn,oo.localeData=rn,oo.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",no),oo.lang=on,R("X",0,0,"unix"),R("x",0,0,"valueOf"),le("x",oe),le("X",/[+-]?\d+(\.\d{1,3})?/),de("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),de("x",(function(e,t,n){n._d=new Date(w(e))})),n.version="2.24.0",e=Lt,n.fn=bn,n.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=u,n.unix=function(e){return Lt(1e3*e)},n.months=function(e,t){return Sn(e,t,"months")},n.isDate=a,n.locale=dt,n.invalid=f,n.duration=Zt,n.isMoment=A,n.weekdays=function(e,t,n){return En(e,t,n,"weekdays")},n.parseZone=function(){return Lt.apply(null,arguments).parseZone()},n.localeData=ft,n.isDuration=$t,n.monthsShort=function(e,t){return Sn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return En(e,t,n,"weekdaysMin")},n.defineLocale=ht,n.updateLocale=function(e,t){if(null!=t){var n,o,r=at;null!=(o=ut(e))&&(r=o._config),(n=new I(t=k(r,t))).parentLocale=lt[e],lt[e]=n,dt(e)}else null!=lt[e]&&(null!=lt[e].parentLocale?lt[e]=lt[e].parentLocale:null!=lt[e]&&delete lt[e]);return lt[e]},n.locales=function(){return M(lt)},n.weekdaysShort=function(e,t,n){return En(e,t,n,"weekdaysShort")},n.normalizeUnits=O,n.relativeTimeRounding=function(e){return void 0===e?Jn:"function"==typeof e&&(Jn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Kn[e]&&(void 0===t?Kn[e]:(Kn[e]=t,"s"===e&&(Kn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=bn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).flatpickr=t()}(this,(function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,r++)o[r]=s[i];return o}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],o={_disable:[],_enable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},s=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},i=function(e){return!0===e?1:0};function a(e,t,n){var o;return void 0===n&&(n=!1),function(){var r=this,s=arguments;null!==o&&clearTimeout(o),o=window.setTimeout((function(){o=null,n||e.apply(r,s)}),t),n&&!o&&e.apply(r,s)}}var l=function(e){return e instanceof Array?e:[e]};function p(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function c(e,t,n){var o=window.document.createElement(e);return t=t||"",n=n||"",o.className=t,void 0!==n&&(o.textContent=n),o}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e,t){var n=c("div","numInputWrapper"),o=c("input","numInput "+e),r=c("span","arrowUp"),s=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==t)for(var i in t)o.setAttribute(i,t[i]);return n.appendChild(o),n.appendChild(r),n.appendChild(s),n}function h(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var f=function(){},m=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},g={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*i(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var o=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(o-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},v={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return m(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return s(y.h(e,t,n))},H:function(e){return s(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[i(e.getHours()>11)]},M:function(e,t){return m(e.getMonth(),!0,t)},S:function(e){return s(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return s(e.getFullYear(),4)},d:function(e){return s(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return s(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return s(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},A=function(e){var t=e.config,n=void 0===t?o:t,s=e.l10n,i=void 0===s?r:s,a=e.isMobile,l=void 0!==a&&a;return function(e,t,o){var r=o||i;return void 0===n.formatDate||l?t.split("").map((function(t,o,s){return y[t]&&"\\"!==s[o-1]?y[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},_=function(e){var t=e.config,n=void 0===t?o:t,s=e.l10n,i=void 0===s?r:s;return function(e,t,r,s){if(0===e||e){var a,l=s||i,p=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var c=t||(n||o).dateFormat,u=String(e).trim();if("today"===u)a=new Date,r=!0;else if(/Z$/.test(u)||/GMT$/.test(u))a=new Date(e);else if(n&&n.parseDate)a=n.parseDate(e,c);else{a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,h=[],f=0,m=0,y="";f<c.length;f++){var A=c[f],_="\\"===A,w="\\"===c[f-1]||_;if(v[A]&&!w){y+=v[A];var b=new RegExp(y).exec(e);b&&(d=!0)&&h["Y"!==A?"push":"unshift"]({fn:g[A],val:b[++m]})}else _||(y+=".");h.forEach((function(e){var t=e.fn,n=e.val;return a=t(a,n,l)||a}))}a=d?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===r&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+p))}}};function w(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var b=864e5;function x(f,g){var y={config:e(e({},o),M.defaultConfig),l10n:r};function x(e){return e.bind(y)}function C(){var e=y.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==y.calendarContainer&&(y.calendarContainer.style.visibility="hidden",y.calendarContainer.style.display="block"),void 0!==y.daysContainer){var t=(y.days.offsetWidth+1)*e.showMonths;y.daysContainer.style.width=t+"px",y.calendarContainer.style.width=t+(void 0!==y.weekWrapper?y.weekWrapper.offsetWidth:0)+"px",y.calendarContainer.style.removeProperty("visibility"),y.calendarContainer.style.removeProperty("display")}}))}function S(e){if(0===y.selectedDates.length){var t=void 0!==y.config.minDate?new Date(y.config.minDate.getTime()):new Date,n=k(),o=n.hours,r=n.minutes,a=n.seconds;t.setHours(o,r,a,0),y.setDate(t,!1)}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=h(e),o=n;void 0!==y.amPM&&n===y.amPM&&(y.amPM.textContent=y.l10n.amPM[i(y.amPM.textContent===y.l10n.amPM[0])]);var r=parseFloat(o.getAttribute("min")),a=parseFloat(o.getAttribute("max")),l=parseFloat(o.getAttribute("step")),p=parseInt(o.value,10),c=p+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==o.value&&2===o.value.length){var u=o===y.hourElement,d=o===y.minuteElement;c<r?(c=a+c+i(!u)+(i(u)&&i(!y.amPM)),d&&F(void 0,-1,y.hourElement)):c>a&&(c=o===y.hourElement?c-a-i(!y.amPM):r,d&&F(void 0,1,y.hourElement)),y.amPM&&u&&(1===l?c+p===23:Math.abs(c-p)>l)&&(y.amPM.textContent=y.l10n.amPM[i(y.amPM.textContent===y.l10n.amPM[0])]),o.value=s(c)}}(e);var l=y._input.value;E(),Ae(),y._input.value!==l&&y._debouncedChange()}function E(){if(void 0!==y.hourElement&&void 0!==y.minuteElement){var e,t,n=(parseInt(y.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(y.minuteElement.value,10)||0)%60,r=void 0!==y.secondElement?(parseInt(y.secondElement.value,10)||0)%60:0;void 0!==y.amPM&&(e=n,t=y.amPM.textContent,n=e%12+12*i(t===y.l10n.amPM[1]));var s=void 0!==y.config.minTime||y.config.minDate&&y.minDateHasTime&&y.latestSelectedDateObj&&0===w(y.latestSelectedDateObj,y.config.minDate,!0);if(void 0!==y.config.maxTime||y.config.maxDate&&y.maxDateHasTime&&y.latestSelectedDateObj&&0===w(y.latestSelectedDateObj,y.config.maxDate,!0)){var a=void 0!==y.config.maxTime?y.config.maxTime:y.config.maxDate;(n=Math.min(n,a.getHours()))===a.getHours()&&(o=Math.min(o,a.getMinutes())),o===a.getMinutes()&&(r=Math.min(r,a.getSeconds()))}if(s){var l=void 0!==y.config.minTime?y.config.minTime:y.config.minDate;(n=Math.max(n,l.getHours()))===l.getHours()&&(o=Math.max(o,l.getMinutes())),o===l.getMinutes()&&(r=Math.max(r,l.getSeconds()))}I(n,o,r)}}function D(e){var t=e||y.latestSelectedDateObj;t&&I(t.getHours(),t.getMinutes(),t.getSeconds())}function k(){var e=y.config.defaultHour,t=y.config.defaultMinute,n=y.config.defaultSeconds;if(void 0!==y.config.minDate){var o=y.config.minDate.getHours(),r=y.config.minDate.getMinutes();(e=Math.max(e,o))===o&&(t=Math.max(r,t)),e===o&&t===r&&(n=y.config.minDate.getSeconds())}if(void 0!==y.config.maxDate){var s=y.config.maxDate.getHours(),i=y.config.maxDate.getMinutes();(e=Math.min(e,s))===s&&(t=Math.min(i,t)),e===s&&t===i&&(n=y.config.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}function I(e,t,n){void 0!==y.latestSelectedDateObj&&y.latestSelectedDateObj.setHours(e%24,t,n||0,0),y.hourElement&&y.minuteElement&&!y.isMobile&&(y.hourElement.value=s(y.config.time_24hr?e:(12+e)%12+12*i(e%12==0)),y.minuteElement.value=s(t),void 0!==y.amPM&&(y.amPM.textContent=y.l10n.amPM[i(e>=12)]),void 0!==y.secondElement&&(y.secondElement.value=s(n)))}function T(e){var t=h(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&J(n)}function L(e,t,n,o){return t instanceof Array?t.forEach((function(t){return L(e,t,n,o)})):e instanceof Array?e.forEach((function(e){return L(e,t,n,o)})):(e.addEventListener(t,n,o),void y._handlers.push({element:e,event:t,handler:n,options:o}))}function O(){fe("onChange")}function N(e,t){var n=void 0!==e?y.parseDate(e):y.latestSelectedDateObj||(y.config.minDate&&y.config.minDate>y.now?y.config.minDate:y.config.maxDate&&y.config.maxDate<y.now?y.config.maxDate:y.now),o=y.currentYear,r=y.currentMonth;try{void 0!==n&&(y.currentYear=n.getFullYear(),y.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,y.config.errorHandler(e)}t&&y.currentYear!==o&&(fe("onYearChange"),q()),!t||y.currentYear===o&&y.currentMonth===r||fe("onMonthChange"),y.redraw()}function P(e){var t=h(e);~t.className.indexOf("arrow")&&F(e,t.classList.contains("arrowUp")?1:-1)}function F(e,t,n){var o=e&&h(e),r=n||o&&o.parentNode&&o.parentNode.firstChild,s=me("increment");s.delta=t,r&&r.dispatchEvent(s)}function Y(e,t,n,o){var r=K(t,!0),s=c("span","flatpickr-day "+e,t.getDate().toString());return s.dateObj=t,s.$i=o,s.setAttribute("aria-label",y.formatDate(t,y.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===w(t,y.now)&&(y.todayDateElem=s,s.classList.add("today"),s.setAttribute("aria-current","date")),r?(s.tabIndex=-1,ge(t)&&(s.classList.add("selected"),y.selectedDateElem=s,"range"===y.config.mode&&(p(s,"startRange",y.selectedDates[0]&&0===w(t,y.selectedDates[0],!0)),p(s,"endRange",y.selectedDates[1]&&0===w(t,y.selectedDates[1],!0)),"nextMonthDay"===e&&s.classList.add("inRange")))):s.classList.add("flatpickr-disabled"),"range"===y.config.mode&&function(e){return!("range"!==y.config.mode||y.selectedDates.length<2)&&w(e,y.selectedDates[0])>=0&&w(e,y.selectedDates[1])<=0}(t)&&!ge(t)&&s.classList.add("inRange"),y.weekNumbers&&1===y.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&y.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+y.config.getWeek(t)+"</span>"),fe("onDayCreate",s),s}function $(e){e.focus(),"range"===y.config.mode&&ne(e)}function H(e){for(var t=e>0?0:y.config.showMonths-1,n=e>0?y.config.showMonths:-1,o=t;o!=n;o+=e)for(var r=y.daysContainer.children[o],s=e>0?0:r.children.length-1,i=e>0?r.children.length:-1,a=s;a!=i;a+=e){var l=r.children[a];if(-1===l.className.indexOf("hidden")&&K(l.dateObj))return l}}function z(e,t){var n=Q(document.activeElement||document.body),o=void 0!==e?e:n?document.activeElement:void 0!==y.selectedDateElem&&Q(y.selectedDateElem)?y.selectedDateElem:void 0!==y.todayDateElem&&Q(y.todayDateElem)?y.todayDateElem:H(t>0?1:-1);void 0===o?y._input.focus():n?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():y.currentMonth,o=t>0?y.config.showMonths:-1,r=t>0?1:-1,s=n-y.currentMonth;s!=o;s+=r)for(var i=y.daysContainer.children[s],a=n-y.currentMonth===s?e.$i+t:t<0?i.children.length-1:0,l=i.children.length,p=a;p>=0&&p<l&&p!=(t>0?l:-1);p+=r){var c=i.children[p];if(-1===c.className.indexOf("hidden")&&K(c.dateObj)&&Math.abs(e.$i-p)>=Math.abs(t))return $(c)}y.changeMonth(r),z(H(r),0)}(o,t):$(o)}function B(e,t){for(var n=(new Date(e,t,1).getDay()-y.l10n.firstDayOfWeek+7)%7,o=y.utils.getDaysInMonth((t-1+12)%12,e),r=y.utils.getDaysInMonth(t,e),s=window.document.createDocumentFragment(),i=y.config.showMonths>1,a=i?"prevMonthDay hidden":"prevMonthDay",l=i?"nextMonthDay hidden":"nextMonthDay",p=o+1-n,u=0;p<=o;p++,u++)s.appendChild(Y(a,new Date(e,t-1,p),p,u));for(p=1;p<=r;p++,u++)s.appendChild(Y("",new Date(e,t,p),p,u));for(var d=r+1;d<=42-n&&(1===y.config.showMonths||u%7!=0);d++,u++)s.appendChild(Y(l,new Date(e,t+1,d%r),d,u));var h=c("div","dayContainer");return h.appendChild(s),h}function R(){if(void 0!==y.daysContainer){u(y.daysContainer),y.weekNumbers&&u(y.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<y.config.showMonths;t++){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),e.appendChild(B(n.getFullYear(),n.getMonth()))}y.daysContainer.appendChild(e),y.days=y.daysContainer.firstChild,"range"===y.config.mode&&1===y.selectedDates.length&&ne()}}function q(){if(!(y.config.showMonths>1||"dropdown"!==y.config.monthSelectorType)){var e=function(e){return!(void 0!==y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&e<y.config.minDate.getMonth()||void 0!==y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()&&e>y.config.maxDate.getMonth())};y.monthsDropdownContainer.tabIndex=-1,y.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=c("option","flatpickr-monthDropdown-month");n.value=new Date(y.currentYear,t).getMonth().toString(),n.textContent=m(t,y.config.shorthandCurrentMonth,y.l10n),n.tabIndex=-1,y.currentMonth===t&&(n.selected=!0),y.monthsDropdownContainer.appendChild(n)}}}function j(){var e,t=c("div","flatpickr-month"),n=window.document.createDocumentFragment();y.config.showMonths>1||"static"===y.config.monthSelectorType?e=c("span","cur-month"):(y.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),y.monthsDropdownContainer.setAttribute("aria-label",y.l10n.monthAriaLabel),L(y.monthsDropdownContainer,"change",(function(e){var t=h(e),n=parseInt(t.value,10);y.changeMonth(n-y.currentMonth),fe("onMonthChange")})),q(),e=y.monthsDropdownContainer);var o=d("cur-year",{tabindex:"-1"}),r=o.getElementsByTagName("input")[0];r.setAttribute("aria-label",y.l10n.yearAriaLabel),y.config.minDate&&r.setAttribute("min",y.config.minDate.getFullYear().toString()),y.config.maxDate&&(r.setAttribute("max",y.config.maxDate.getFullYear().toString()),r.disabled=!!y.config.minDate&&y.config.minDate.getFullYear()===y.config.maxDate.getFullYear());var s=c("div","flatpickr-current-month");return s.appendChild(e),s.appendChild(o),n.appendChild(s),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function V(){u(y.monthNav),y.monthNav.appendChild(y.prevMonthNav),y.config.showMonths&&(y.yearElements=[],y.monthElements=[]);for(var e=y.config.showMonths;e--;){var t=j();y.yearElements.push(t.yearElement),y.monthElements.push(t.monthElement),y.monthNav.appendChild(t.container)}y.monthNav.appendChild(y.nextMonthNav)}function W(){y.weekdayContainer?u(y.weekdayContainer):y.weekdayContainer=c("div","flatpickr-weekdays");for(var e=y.config.showMonths;e--;){var t=c("div","flatpickr-weekdaycontainer");y.weekdayContainer.appendChild(t)}return U(),y.weekdayContainer}function U(){if(y.weekdayContainer){var e=y.l10n.firstDayOfWeek,n=t(y.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var o=y.config.showMonths;o--;)y.weekdayContainer.children[o].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Z(e,t){void 0===t&&(t=!0);var n=t?e:e-y.currentMonth;n<0&&!0===y._hidePrevMonthArrow||n>0&&!0===y._hideNextMonthArrow||(y.currentMonth+=n,(y.currentMonth<0||y.currentMonth>11)&&(y.currentYear+=y.currentMonth>11?1:-1,y.currentMonth=(y.currentMonth+12)%12,fe("onYearChange"),q()),R(),fe("onMonthChange"),ve())}function G(e){return!(!y.config.appendTo||!y.config.appendTo.contains(e))||y.calendarContainer.contains(e)}function X(e){if(y.isOpen&&!y.config.inline){var t=h(e),n=G(t),o=t===y.input||t===y.altInput||y.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(y.input)||~e.path.indexOf(y.altInput)),r="blur"===e.type?o&&e.relatedTarget&&!G(e.relatedTarget):!o&&!n&&!G(e.relatedTarget),s=!y.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&s&&(void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&""!==y.input.value&&void 0!==y.input.value&&S(),y.close(),y.config&&"range"===y.config.mode&&1===y.selectedDates.length&&(y.clear(!1),y.redraw()))}}function J(e){if(!(!e||y.config.minDate&&e<y.config.minDate.getFullYear()||y.config.maxDate&&e>y.config.maxDate.getFullYear())){var t=e,n=y.currentYear!==t;y.currentYear=t||y.currentYear,y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth=Math.min(y.config.maxDate.getMonth(),y.currentMonth):y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&(y.currentMonth=Math.max(y.config.minDate.getMonth(),y.currentMonth)),n&&(y.redraw(),fe("onYearChange"),q())}}function K(e,t){void 0===t&&(t=!0);var n=y.parseDate(e,void 0,t);if(y.config.minDate&&n&&w(n,y.config.minDate,void 0!==t?t:!y.minDateHasTime)<0||y.config.maxDate&&n&&w(n,y.config.maxDate,void 0!==t?t:!y.maxDateHasTime)>0)return!1;if(0===y.config.enable.length&&0===y.config.disable.length)return!0;if(void 0===n)return!1;for(var o=y.config.enable.length>0,r=o?y.config.enable:y.config.disable,s=0,i=void 0;s<r.length;s++){if("function"==typeof(i=r[s])&&i(n))return o;if(i instanceof Date&&void 0!==n&&i.getTime()===n.getTime())return o;if("string"==typeof i&&void 0!==n){var a=y.parseDate(i,void 0,!0);return a&&a.getTime()===n.getTime()?o:!o}if("object"==typeof i&&void 0!==n&&i.from&&i.to&&n.getTime()>=i.from.getTime()&&n.getTime()<=i.to.getTime())return o}return!o}function Q(e){return void 0!==y.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&y.daysContainer.contains(e)}function ee(e){e.target!==y._input||e.relatedTarget&&G(e.relatedTarget)||y.setDate(y._input.value,!0,e.target===y.altInput?y.config.altFormat:y.config.dateFormat)}function te(e){var t=h(e),n=y.config.wrap?f.contains(t):t===y._input,o=y.config.allowInput,r=y.isOpen&&(!o||!n),s=y.config.inline&&n&&!o;if(13===e.keyCode&&n){if(o)return y.setDate(y._input.value,!0,t===y.altInput?y.config.altFormat:y.config.dateFormat),t.blur();y.open()}else if(G(t)||r||s){var i=!!y.timeContainer&&y.timeContainer.contains(t);switch(e.keyCode){case 13:i?(e.preventDefault(),S(),pe()):ce(e);break;case 27:e.preventDefault(),pe();break;case 8:case 46:n&&!y.config.allowInput&&(e.preventDefault(),y.clear());break;case 37:case 39:if(i||n)y.hourElement&&y.hourElement.focus();else if(e.preventDefault(),void 0!==y.daysContainer&&(!1===o||document.activeElement&&Q(document.activeElement))){var a=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Z(a),z(H(1),0)):z(void 0,a)}break;case 38:case 40:e.preventDefault();var l=40===e.keyCode?1:-1;y.daysContainer&&void 0!==t.$i||t===y.input||t===y.altInput?e.ctrlKey?(e.stopPropagation(),J(y.currentYear-l),z(H(1),0)):i||z(void 0,7*l):t===y.currentYearElement?J(y.currentYear-l):y.config.enableTime&&(!i&&y.hourElement&&y.hourElement.focus(),S(e),y._debouncedChange());break;case 9:if(i){var p=[y.hourElement,y.minuteElement,y.secondElement,y.amPM].concat(y.pluginElements).filter((function(e){return e})),c=p.indexOf(t);if(-1!==c){var u=p[c+(e.shiftKey?-1:1)];e.preventDefault(),(u||y._input).focus()}}else!y.config.noCalendar&&y.daysContainer&&y.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),y._input.focus())}}if(void 0!==y.amPM&&t===y.amPM)switch(e.key){case y.l10n.amPM[0].charAt(0):case y.l10n.amPM[0].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[0],E(),Ae();break;case y.l10n.amPM[1].charAt(0):case y.l10n.amPM[1].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[1],E(),Ae()}(n||G(t))&&fe("onKeyDown",e)}function ne(e){if(1===y.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():y.days.firstElementChild.dateObj.getTime(),n=y.parseDate(y.selectedDates[0],void 0,!0).getTime(),o=Math.min(t,y.selectedDates[0].getTime()),r=Math.max(t,y.selectedDates[0].getTime()),s=!1,i=0,a=0,l=o;l<r;l+=b)K(new Date(l),!0)||(s=s||l>o&&l<r,l<n&&(!i||l>i)?i=l:l>n&&(!a||l<a)&&(a=l));for(var p=0;p<y.config.showMonths;p++)for(var c=y.daysContainer.children[p],u=function(o,r){var l,p,u,d=c.children[o],h=d.dateObj.getTime(),f=i>0&&h<i||a>0&&h>a;return f?(d.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){d.classList.remove(e)})),"continue"):s&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){d.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=y.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&h===n?d.classList.add("startRange"):n>t&&h===n&&d.classList.add("endRange"),h>=i&&(0===a||h<=a)&&(p=n,u=t,(l=h)>Math.min(p,u)&&l<Math.max(p,u))&&d.classList.add("inRange"))))},d=0,h=c.children.length;d<h;d++)u(d)}}function oe(){!y.isOpen||y.config.static||y.config.inline||ae()}function re(e){return function(t){var n=y.config["_"+e+"Date"]=y.parseDate(t,y.config.dateFormat),o=y.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(y["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),y.selectedDates&&(y.selectedDates=y.selectedDates.filter((function(e){return K(e)})),y.selectedDates.length||"min"!==e||D(n),Ae()),y.daysContainer&&(le(),void 0!==n?y.currentYearElement[e]=n.getFullYear().toString():y.currentYearElement.removeAttribute(e),y.currentYearElement.disabled=!!o&&void 0!==n&&o.getFullYear()===n.getFullYear())}}function se(){return y.config.wrap?f.querySelector("[data-input]"):f}function ie(){"object"!=typeof y.config.locale&&void 0===M.l10ns[y.config.locale]&&y.config.errorHandler(new Error("flatpickr: invalid locale "+y.config.locale)),y.l10n=e(e({},M.l10ns.default),"object"==typeof y.config.locale?y.config.locale:"default"!==y.config.locale?M.l10ns[y.config.locale]:void 0),v.K="("+y.l10n.amPM[0]+"|"+y.l10n.amPM[1]+"|"+y.l10n.amPM[0].toLowerCase()+"|"+y.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},g),JSON.parse(JSON.stringify(f.dataset||{}))).time_24hr&&void 0===M.defaultConfig.time_24hr&&(y.config.time_24hr=y.l10n.time_24hr),y.formatDate=A(y),y.parseDate=_({config:y.config,l10n:y.l10n})}function ae(e){if(void 0!==y.calendarContainer){fe("onPreCalendarPosition");var t=e||y._positionElement,n=Array.prototype.reduce.call(y.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=y.calendarContainer.offsetWidth,r=y.config.position.split(" "),s=r[0],i=r.length>1?r[1]:null,a=t.getBoundingClientRect(),l=window.innerHeight-a.bottom,c="above"===s||"below"!==s&&l<n&&a.top>n,u=window.pageYOffset+a.top+(c?-n-2:t.offsetHeight+2);if(p(y.calendarContainer,"arrowTop",!c),p(y.calendarContainer,"arrowBottom",c),!y.config.inline){var d=window.pageXOffset+a.left,h=!1,f=!1;"center"===i?(d-=(o-a.width)/2,h=!0):"right"===i&&(d-=o-a.width,f=!0),p(y.calendarContainer,"arrowLeft",!h&&!f),p(y.calendarContainer,"arrowCenter",h),p(y.calendarContainer,"arrowRight",f);var m=window.document.body.offsetWidth-(window.pageXOffset+a.right),g=d+o>window.document.body.offsetWidth,v=m+o>window.document.body.offsetWidth;if(p(y.calendarContainer,"rightMost",g),!y.config.static)if(y.calendarContainer.style.top=u+"px",g)if(v){var A=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:(o=document.createElement("style"),document.head.appendChild(o),o.sheet);var o}();if(void 0===A)return;var _=window.document.body.offsetWidth,w=Math.max(0,_/2-o/2),b=A.cssRules.length,x="{left:"+a.left+"px;right:auto;}";p(y.calendarContainer,"rightMost",!1),p(y.calendarContainer,"centerMost",!0),A.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,b),y.calendarContainer.style.left=w+"px",y.calendarContainer.style.right="auto"}else y.calendarContainer.style.left="auto",y.calendarContainer.style.right=m+"px";else y.calendarContainer.style.left=d+"px",y.calendarContainer.style.right="auto"}}}function le(){y.config.noCalendar||y.isMobile||(q(),ve(),R())}function pe(){y._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(y.close,0):y.close()}function ce(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(h(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,o=y.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(o.getMonth()<y.currentMonth||o.getMonth()>y.currentMonth+y.config.showMonths-1)&&"range"!==y.config.mode;if(y.selectedDateElem=n,"single"===y.config.mode)y.selectedDates=[o];else if("multiple"===y.config.mode){var s=ge(o);s?y.selectedDates.splice(parseInt(s),1):y.selectedDates.push(o)}else"range"===y.config.mode&&(2===y.selectedDates.length&&y.clear(!1,!1),y.latestSelectedDateObj=o,y.selectedDates.push(o),0!==w(o,y.selectedDates[0],!0)&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(E(),r){var i=y.currentYear!==o.getFullYear();y.currentYear=o.getFullYear(),y.currentMonth=o.getMonth(),i&&(fe("onYearChange"),q()),fe("onMonthChange")}if(ve(),R(),Ae(),r||"range"===y.config.mode||1!==y.config.showMonths?void 0!==y.selectedDateElem&&void 0===y.hourElement&&y.selectedDateElem&&y.selectedDateElem.focus():$(n),void 0!==y.hourElement&&void 0!==y.hourElement&&y.hourElement.focus(),y.config.closeOnSelect){var a="single"===y.config.mode&&!y.config.enableTime,l="range"===y.config.mode&&2===y.selectedDates.length&&!y.config.enableTime;(a||l)&&pe()}O()}}y.parseDate=_({config:y.config,l10n:y.l10n}),y._handlers=[],y.pluginElements=[],y.loadedPlugins=[],y._bind=L,y._setHoursFromDate=D,y._positionCalendar=ae,y.changeMonth=Z,y.changeYear=J,y.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),y.input.value="",void 0!==y.altInput&&(y.altInput.value=""),void 0!==y.mobileInput&&(y.mobileInput.value=""),y.selectedDates=[],y.latestSelectedDateObj=void 0,!0===t&&(y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth()),!0===y.config.enableTime){var n=k();I(n.hours,n.minutes,n.seconds)}y.redraw(),e&&fe("onChange")},y.close=function(){y.isOpen=!1,y.isMobile||(void 0!==y.calendarContainer&&y.calendarContainer.classList.remove("open"),void 0!==y._input&&y._input.classList.remove("active")),fe("onClose")},y._createElement=c,y.destroy=function(){void 0!==y.config&&fe("onDestroy");for(var e=y._handlers.length;e--;){var t=y._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(y._handlers=[],y.mobileInput)y.mobileInput.parentNode&&y.mobileInput.parentNode.removeChild(y.mobileInput),y.mobileInput=void 0;else if(y.calendarContainer&&y.calendarContainer.parentNode)if(y.config.static&&y.calendarContainer.parentNode){var n=y.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else y.calendarContainer.parentNode.removeChild(y.calendarContainer);y.altInput&&(y.input.type="text",y.altInput.parentNode&&y.altInput.parentNode.removeChild(y.altInput),delete y.altInput),y.input&&(y.input.type=y.input._type,y.input.classList.remove("flatpickr-input"),y.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete y[e]}catch(e){}}))},y.isEnabled=K,y.jumpToDate=N,y.open=function(e,t){if(void 0===t&&(t=y._positionElement),!0===y.isMobile){if(e){e.preventDefault();var n=h(e);n&&n.blur()}return void 0!==y.mobileInput&&(y.mobileInput.focus(),y.mobileInput.click()),void fe("onOpen")}if(!y._input.disabled&&!y.config.inline){var o=y.isOpen;y.isOpen=!0,o||(y.calendarContainer.classList.add("open"),y._input.classList.add("active"),fe("onOpen"),ae(t)),!0===y.config.enableTime&&!0===y.config.noCalendar&&(!1!==y.config.allowInput||void 0!==e&&y.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return y.hourElement.select()}),50))}},y.redraw=le,y.set=function(e,t){if(null!==e&&"object"==typeof e)for(var o in Object.assign(y.config,e),e)void 0!==ue[o]&&ue[o].forEach((function(e){return e()}));else y.config[e]=t,void 0!==ue[e]?ue[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(y.config[e]=l(t));y.redraw(),Ae(!0)},y.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=y.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return y.clear(t);de(e,n),y.latestSelectedDateObj=y.selectedDates[y.selectedDates.length-1],y.redraw(),N(void 0,t),D(),0===y.selectedDates.length&&y.clear(!1),Ae(t),t&&fe("onChange")},y.toggle=function(e){if(!0===y.isOpen)return y.close();y.open(e)};var ue={locale:[ie,U],showMonths:[V,C,W],minDate:[N],maxDate:[N]};function de(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return y.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[y.parseDate(e,t)];else if("string"==typeof e)switch(y.config.mode){case"single":case"time":n=[y.parseDate(e,t)];break;case"multiple":n=e.split(y.config.conjunction).map((function(e){return y.parseDate(e,t)}));break;case"range":n=e.split(y.l10n.rangeSeparator).map((function(e){return y.parseDate(e,t)}))}else y.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));y.selectedDates=y.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&K(e,!1)})),"range"===y.config.mode&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function he(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?y.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:y.parseDate(e.from,void 0),to:y.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function fe(e,t){if(void 0!==y.config){var n=y.config[e];if(void 0!==n&&n.length>0)for(var o=0;n[o]&&o<n.length;o++)n[o](y.selectedDates,y.input.value,y,t);"onChange"===e&&(y.input.dispatchEvent(me("change")),y.input.dispatchEvent(me("input")))}}function me(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ge(e){for(var t=0;t<y.selectedDates.length;t++)if(0===w(y.selectedDates[t],e))return""+t;return!1}function ve(){y.config.noCalendar||y.isMobile||!y.monthNav||(y.yearElements.forEach((function(e,t){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),y.config.showMonths>1||"static"===y.config.monthSelectorType?y.monthElements[t].textContent=m(n.getMonth(),y.config.shorthandCurrentMonth,y.l10n)+" ":y.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),y._hidePrevMonthArrow=void 0!==y.config.minDate&&(y.currentYear===y.config.minDate.getFullYear()?y.currentMonth<=y.config.minDate.getMonth():y.currentYear<y.config.minDate.getFullYear()),y._hideNextMonthArrow=void 0!==y.config.maxDate&&(y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth+1>y.config.maxDate.getMonth():y.currentYear>y.config.maxDate.getFullYear()))}function ye(e){return y.selectedDates.map((function(t){return y.formatDate(t,e)})).filter((function(e,t,n){return"range"!==y.config.mode||y.config.enableTime||n.indexOf(e)===t})).join("range"!==y.config.mode?y.config.conjunction:y.l10n.rangeSeparator)}function Ae(e){void 0===e&&(e=!0),void 0!==y.mobileInput&&y.mobileFormatStr&&(y.mobileInput.value=void 0!==y.latestSelectedDateObj?y.formatDate(y.latestSelectedDateObj,y.mobileFormatStr):""),y.input.value=ye(y.config.dateFormat),void 0!==y.altInput&&(y.altInput.value=ye(y.config.altFormat)),!1!==e&&fe("onValueUpdate")}function _e(e){var t=h(e),n=y.prevMonthNav.contains(t),o=y.nextMonthNav.contains(t);n||o?Z(n?-1:1):y.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?y.changeYear(y.currentYear+1):t.classList.contains("arrowDown")&&y.changeYear(y.currentYear-1)}return function(){y.element=y.input=f,y.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e(e({},JSON.parse(JSON.stringify(f.dataset||{}))),g),s={};y.config.parseDate=r.parseDate,y.config.formatDate=r.formatDate,Object.defineProperty(y.config,"enable",{get:function(){return y.config._enable},set:function(e){y.config._enable=he(e)}}),Object.defineProperty(y.config,"disable",{get:function(){return y.config._disable},set:function(e){y.config._disable=he(e)}});var i="time"===r.mode;if(!r.dateFormat&&(r.enableTime||i)){var a=M.defaultConfig.dateFormat||o.dateFormat;s.dateFormat=r.noCalendar||i?"H:i"+(r.enableSeconds?":S":""):a+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||i)&&!r.altFormat){var p=M.defaultConfig.altFormat||o.altFormat;s.altFormat=r.noCalendar||i?"h:i"+(r.enableSeconds?":S K":" K"):p+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(y.config,"minDate",{get:function(){return y.config._minDate},set:re("min")}),Object.defineProperty(y.config,"maxDate",{get:function(){return y.config._maxDate},set:re("max")});var c=function(e){return function(t){y.config["min"===e?"_minTime":"_maxTime"]=y.parseDate(t,"H:i:S")}};Object.defineProperty(y.config,"minTime",{get:function(){return y.config._minTime},set:c("min")}),Object.defineProperty(y.config,"maxTime",{get:function(){return y.config._maxTime},set:c("max")}),"time"===r.mode&&(y.config.noCalendar=!0,y.config.enableTime=!0),Object.assign(y.config,s,r);for(var u=0;u<t.length;u++)y.config[t[u]]=!0===y.config[t[u]]||"true"===y.config[t[u]];for(n.filter((function(e){return void 0!==y.config[e]})).forEach((function(e){y.config[e]=l(y.config[e]||[]).map(x)})),y.isMobile=!y.config.disableMobile&&!y.config.inline&&"single"===y.config.mode&&!y.config.disable.length&&!y.config.enable.length&&!y.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<y.config.plugins.length;u++){var d=y.config.plugins[u](y)||{};for(var h in d)n.indexOf(h)>-1?y.config[h]=l(d[h]).map(x).concat(y.config[h]):void 0===r[h]&&(y.config[h]=d[h])}r.altInputClass||(y.config.altInputClass=se().className+" "+y.config.altInputClass),fe("onParseConfig")}(),ie(),y.input=se(),y.input?(y.input._type=y.input.type,y.input.type="text",y.input.classList.add("flatpickr-input"),y._input=y.input,y.config.altInput&&(y.altInput=c(y.input.nodeName,y.config.altInputClass),y._input=y.altInput,y.altInput.placeholder=y.input.placeholder,y.altInput.disabled=y.input.disabled,y.altInput.required=y.input.required,y.altInput.tabIndex=y.input.tabIndex,y.altInput.type="text",y.input.setAttribute("type","hidden"),!y.config.static&&y.input.parentNode&&y.input.parentNode.insertBefore(y.altInput,y.input.nextSibling)),y.config.allowInput||y._input.setAttribute("readonly","readonly"),y._positionElement=y.config.positionElement||y._input):y.config.errorHandler(new Error("Invalid input element specified")),function(){y.selectedDates=[],y.now=y.parseDate(y.config.now)||new Date;var e=y.config.defaultDate||("INPUT"!==y.input.nodeName&&"TEXTAREA"!==y.input.nodeName||!y.input.placeholder||y.input.value!==y.input.placeholder?y.input.value:null);e&&de(e,y.config.dateFormat),y._initialDate=y.selectedDates.length>0?y.selectedDates[0]:y.config.minDate&&y.config.minDate.getTime()>y.now.getTime()?y.config.minDate:y.config.maxDate&&y.config.maxDate.getTime()<y.now.getTime()?y.config.maxDate:y.now,y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth(),y.selectedDates.length>0&&(y.latestSelectedDateObj=y.selectedDates[0]),void 0!==y.config.minTime&&(y.config.minTime=y.parseDate(y.config.minTime,"H:i")),void 0!==y.config.maxTime&&(y.config.maxTime=y.parseDate(y.config.maxTime,"H:i")),y.minDateHasTime=!!y.config.minDate&&(y.config.minDate.getHours()>0||y.config.minDate.getMinutes()>0||y.config.minDate.getSeconds()>0),y.maxDateHasTime=!!y.config.maxDate&&(y.config.maxDate.getHours()>0||y.config.maxDate.getMinutes()>0||y.config.maxDate.getSeconds()>0)}(),y.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=y.currentMonth),void 0===t&&(t=y.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:y.l10n.daysInMonth[e]}},y.isMobile||function(){var e=window.document.createDocumentFragment();if(y.calendarContainer=c("div","flatpickr-calendar"),y.calendarContainer.tabIndex=-1,!y.config.noCalendar){if(e.appendChild((y.monthNav=c("div","flatpickr-months"),y.yearElements=[],y.monthElements=[],y.prevMonthNav=c("span","flatpickr-prev-month"),y.prevMonthNav.innerHTML=y.config.prevArrow,y.nextMonthNav=c("span","flatpickr-next-month"),y.nextMonthNav.innerHTML=y.config.nextArrow,V(),Object.defineProperty(y,"_hidePrevMonthArrow",{get:function(){return y.__hidePrevMonthArrow},set:function(e){y.__hidePrevMonthArrow!==e&&(p(y.prevMonthNav,"flatpickr-disabled",e),y.__hidePrevMonthArrow=e)}}),Object.defineProperty(y,"_hideNextMonthArrow",{get:function(){return y.__hideNextMonthArrow},set:function(e){y.__hideNextMonthArrow!==e&&(p(y.nextMonthNav,"flatpickr-disabled",e),y.__hideNextMonthArrow=e)}}),y.currentYearElement=y.yearElements[0],ve(),y.monthNav)),y.innerContainer=c("div","flatpickr-innerContainer"),y.config.weekNumbers){var t=function(){y.calendarContainer.classList.add("hasWeeks");var e=c("div","flatpickr-weekwrapper");e.appendChild(c("span","flatpickr-weekday",y.l10n.weekAbbreviation));var t=c("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,o=t.weekNumbers;y.innerContainer.appendChild(n),y.weekNumbers=o,y.weekWrapper=n}y.rContainer=c("div","flatpickr-rContainer"),y.rContainer.appendChild(W()),y.daysContainer||(y.daysContainer=c("div","flatpickr-days"),y.daysContainer.tabIndex=-1),R(),y.rContainer.appendChild(y.daysContainer),y.innerContainer.appendChild(y.rContainer),e.appendChild(y.innerContainer)}y.config.enableTime&&e.appendChild(function(){y.calendarContainer.classList.add("hasTime"),y.config.noCalendar&&y.calendarContainer.classList.add("noCalendar"),y.timeContainer=c("div","flatpickr-time"),y.timeContainer.tabIndex=-1;var e=c("span","flatpickr-time-separator",":"),t=d("flatpickr-hour",{"aria-label":y.l10n.hourAriaLabel});y.hourElement=t.getElementsByTagName("input")[0];var n=d("flatpickr-minute",{"aria-label":y.l10n.minuteAriaLabel});if(y.minuteElement=n.getElementsByTagName("input")[0],y.hourElement.tabIndex=y.minuteElement.tabIndex=-1,y.hourElement.value=s(y.latestSelectedDateObj?y.latestSelectedDateObj.getHours():y.config.time_24hr?y.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(y.config.defaultHour)),y.minuteElement.value=s(y.latestSelectedDateObj?y.latestSelectedDateObj.getMinutes():y.config.defaultMinute),y.hourElement.setAttribute("step",y.config.hourIncrement.toString()),y.minuteElement.setAttribute("step",y.config.minuteIncrement.toString()),y.hourElement.setAttribute("min",y.config.time_24hr?"0":"1"),y.hourElement.setAttribute("max",y.config.time_24hr?"23":"12"),y.minuteElement.setAttribute("min","0"),y.minuteElement.setAttribute("max","59"),y.timeContainer.appendChild(t),y.timeContainer.appendChild(e),y.timeContainer.appendChild(n),y.config.time_24hr&&y.timeContainer.classList.add("time24hr"),y.config.enableSeconds){y.timeContainer.classList.add("hasSeconds");var o=d("flatpickr-second");y.secondElement=o.getElementsByTagName("input")[0],y.secondElement.value=s(y.latestSelectedDateObj?y.latestSelectedDateObj.getSeconds():y.config.defaultSeconds),y.secondElement.setAttribute("step",y.minuteElement.getAttribute("step")),y.secondElement.setAttribute("min","0"),y.secondElement.setAttribute("max","59"),y.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),y.timeContainer.appendChild(o)}return y.config.time_24hr||(y.amPM=c("span","flatpickr-am-pm",y.l10n.amPM[i((y.latestSelectedDateObj?y.hourElement.value:y.config.defaultHour)>11)]),y.amPM.title=y.l10n.toggleTitle,y.amPM.tabIndex=-1,y.timeContainer.appendChild(y.amPM)),y.timeContainer}()),p(y.calendarContainer,"rangeMode","range"===y.config.mode),p(y.calendarContainer,"animate",!0===y.config.animate),p(y.calendarContainer,"multiMonth",y.config.showMonths>1),y.calendarContainer.appendChild(e);var r=void 0!==y.config.appendTo&&void 0!==y.config.appendTo.nodeType;if((y.config.inline||y.config.static)&&(y.calendarContainer.classList.add(y.config.inline?"inline":"static"),y.config.inline&&(!r&&y.element.parentNode?y.element.parentNode.insertBefore(y.calendarContainer,y._input.nextSibling):void 0!==y.config.appendTo&&y.config.appendTo.appendChild(y.calendarContainer)),y.config.static)){var a=c("div","flatpickr-wrapper");y.element.parentNode&&y.element.parentNode.insertBefore(a,y.element),a.appendChild(y.element),y.altInput&&a.appendChild(y.altInput),a.appendChild(y.calendarContainer)}y.config.static||y.config.inline||(void 0!==y.config.appendTo?y.config.appendTo:window.document.body).appendChild(y.calendarContainer)}(),function(){if(y.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(y.element.querySelectorAll("[data-"+e+"]"),(function(t){return L(t,"click",y[e])}))})),y.isMobile)!function(){var e=y.config.enableTime?y.config.noCalendar?"time":"datetime-local":"date";y.mobileInput=c("input",y.input.className+" flatpickr-mobile"),y.mobileInput.tabIndex=1,y.mobileInput.type=e,y.mobileInput.disabled=y.input.disabled,y.mobileInput.required=y.input.required,y.mobileInput.placeholder=y.input.placeholder,y.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",y.selectedDates.length>0&&(y.mobileInput.defaultValue=y.mobileInput.value=y.formatDate(y.selectedDates[0],y.mobileFormatStr)),y.config.minDate&&(y.mobileInput.min=y.formatDate(y.config.minDate,"Y-m-d")),y.config.maxDate&&(y.mobileInput.max=y.formatDate(y.config.maxDate,"Y-m-d")),y.input.getAttribute("step")&&(y.mobileInput.step=String(y.input.getAttribute("step"))),y.input.type="hidden",void 0!==y.altInput&&(y.altInput.type="hidden");try{y.input.parentNode&&y.input.parentNode.insertBefore(y.mobileInput,y.input.nextSibling)}catch(e){}L(y.mobileInput,"change",(function(e){y.setDate(h(e).value,!1,y.mobileFormatStr),fe("onChange"),fe("onClose")}))}();else{var e=a(oe,50);y._debouncedChange=a(O,300),y.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&L(y.daysContainer,"mouseover",(function(e){"range"===y.config.mode&&ne(h(e))})),L(window.document.body,"keydown",te),y.config.inline||y.config.static||L(window,"resize",e),void 0!==window.ontouchstart?L(window.document,"touchstart",X):L(window.document,"click",X),L(window.document,"focus",X,{capture:!0}),!0===y.config.clickOpens&&(L(y._input,"focus",y.open),L(y._input,"click",y.open)),void 0!==y.daysContainer&&(L(y.monthNav,"click",_e),L(y.monthNav,["keyup","increment"],T),L(y.daysContainer,"click",ce)),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&(L(y.timeContainer,["increment"],S),L(y.timeContainer,"blur",S,{capture:!0}),L(y.timeContainer,"click",P),L([y.hourElement,y.minuteElement],["focus","click"],(function(e){return h(e).select()})),void 0!==y.secondElement&&L(y.secondElement,"focus",(function(){return y.secondElement&&y.secondElement.select()})),void 0!==y.amPM&&L(y.amPM,"click",(function(e){S(e),O()}))),y.config.allowInput&&L(y._input,"blur",ee)}}(),(y.selectedDates.length||y.config.noCalendar)&&(y.config.enableTime&&D(y.config.noCalendar?y.latestSelectedDateObj||y.config.minDate:void 0),Ae(!1)),C();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!y.isMobile&&t&&ae(),fe("onReady")}(),y}function C(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),o=[],r=0;r<n.length;r++){var s=n[r];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=x(s,t||{}),o.push(s._flatpickr)}catch(e){console.error(e)}}return 1===o.length?o[0]:o}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var o=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,s=t;r<s.length;r++){o(s[r])}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return C(this,e)},HTMLElement.prototype.flatpickr=function(e){return C([this],e)});var M=function(e,t){return"string"==typeof e?C(window.document.querySelectorAll(e),t):e instanceof Node?C([e],t):C(e,t)};return M.defaultConfig={},M.l10ns={en:e({},r),default:e({},r)},M.localize=function(t){M.l10ns.default=e(e({},M.l10ns.default),t)},M.setDefaults=function(t){M.defaultConfig=e(e({},M.defaultConfig),t)},M.parseDate=_({}),M.formatDate=A({}),M.compareDates=w,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return C(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=M),M}));let externalFiles={css:["build/bundle-app.css"]};function is_touch_device(){var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||function(e){return window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}function handleBeforeUnload(){}function addInitHTML(){devConsole("Add html");let e=`\n<div id="app" class="show-dates is_app">\n    <div id="record-screen"></div>\n    \n    <div id="main">\n        <header id="header" class="logo">\n            <div class="logo__image">\n            </div>\n            \n            <span id="status-message" class="message"></span>\n            \n            <div id="notifications">\n                <span class="notifications-count"></span>\n                \n                <i class="notification-icon">\n                    ${iconNotification()}\n                </i>\n                \n                <div class="notification-container">\n                    <div class="notification-header">\n                        \n                        <i class="exit exit-icon">\n                            ${iconClose()}\n                        </i>\n                        <h3>Notifications</h3>\n                    </div>\n                    \n                    <div class="notifications"></div>\n                </div>  \n            </div>\n        </header>\n        \n        <div id="side-buttons">\n            <div class="background"></div>\n\n            <div id="header-control" class="control">\n                <div class="icon icon-maximize visible">${iconMaximize()}</div>\n                <div class="icon icon-minimize">${iconMinimize()}</div>\n            </div>\n\n            <div id="rotation-control" class="control">\n                <div class="icon icon-play visible">${iconRotate()}</div>\n                <div class="icon icon-pause">${iconRotatePause()}</div>\n            </div>\n            \n            <div id="controls-control" class="control">\n                <div class="icon icon-controls visible">${iconControls()}</div>\n                <div class="icon icon-controls-hidden">${iconControlsHidden()}</div>\n            </div>\n            \n            <div id="footer-control" class="control">\n                <div class="icon icon-footer visible">${iconFooterControl()}</div>\n                <div class="icon icon-footer-hidden">${iconFooterControlHidden()}</div>\n            </div>\n            \n        </div>\n        \n        <div id="time">\n            <div class="spinner">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n            <div id="life" class="display time-period"></div>\n            <div id="no-items-time" class="no-items">There are no items to display.</div>\n        </div>\n        \n        <div id="view-level-2">\n            <div class="spinner">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n            \n            <div id="manage-folders">\n                <div class="header-folders">\n                    <div id="close-folders">\n                        <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 159.2734 159.1068"><path d="M0,79.4781C.4385,35.7055,34.375.0345,79.663,0c44.9293-.0342,79.6595,35.3436,79.6103,79.6837-.0477,42.9269-33.2233,79.3778-79.5715,79.4231C34.0658,159.1513.4731,123.3769,0,79.4781ZM79.5832,149.5621c38.4113-.0355,69.9465-30.5585,69.9657-69.8228.0187-38.2261-28.9614-69.6797-69.7579-69.7905-40.0373-.1088-69.6985,30.6148-69.9659,69.3267-.2693,38.978,30.8633,70.1086,69.7582,70.2866Z"/><path d="M105.0413,59.5584c-1.2029,1.7639-1.9517,3.2493-3.0491,4.4032-4.4111,4.6385-8.8813,9.224-13.4376,13.7196-1.4575,1.4381-1.4836,2.3732-.0042,3.8262,4.6254,4.5428,9.1292,9.21,13.6528,13.8556,1.5504,1.5922,2.8619,3.3343,1.8879,5.7574-1.3969,3.4754-5.2004,4.2207-8.1283,1.4375-4.7595-4.5243-9.4886-9.09-14.0277-13.8323-1.8061-1.887-2.8109-1.7005-4.5292.0701-4.629,4.7698-9.4694,9.3345-14.2251,13.9813-1.6955,1.6567-3.6848,1.9588-5.7055.8661-1.933-1.0453-2.9246-2.8834-2.3014-5.0307.3705-1.2767,1.3103-2.4913,2.2591-3.4793,4.4343-4.6171,8.9197-9.1873,13.4792-13.6805,1.3713-1.3514,1.4434-2.2761.0386-3.6615-4.3799-4.3193-8.6513-8.7488-12.9508-13.1492-.6949-.7112-1.3594-1.4602-1.9675-2.2463-1.4813-1.9151-1.3707-3.8451.1361-5.682,1.5103-1.8412,3.7464-2.4053,5.7675-.9867,2.2203,1.5583,4.1822,3.5079,6.15,5.3982,3.3573,3.2251,6.6876,6.483,9.9131,9.8388,1.3138,1.3669,2.1811,1.2506,3.4454-.0406,4.3037-4.3953,8.6942-8.7058,13.0702-13.0299,2.9879-2.9524,5.1291-3.7053,7.3803-2.151,1.2334.8516,1.9997,2.3802,3.1464,3.8161Z"/></svg>\n                    </div>\n                \n                    <h2>Manage Folders</h2>\n\n                    <div id="add-folder">Add</div>\n                </div>\n                \n                <div class="folder-list">\n                    <div class="container"></div>\n                </div>\n            </div>\n            \n            <div id="navigation-level-3" class="navigation-level-3">\n                <div id="level-3-header">\n                    <div id="level-3-title"></div>\n                </div>\n                \n                <div id="organize-menu" class="organize-menu">\n                    <div class="tab date selected br bw1 b--black-90">Date <i class="calendar-icon">${iconCalendar()}</i></div>\n                    <div class="tab delete">Delete <i class="trash-icon">${iconTrash()}</i></div>\n                </div>\n                \n                <div id="level-3-content">\n                    <div id="organize-all" class="level-3-content"></div>\n                </div>\n                \n                <div id="level-3-footer">\n                    <div id="organize-date">\n                        <i class="icon-calendar">${iconCalendarAlt()}</i>\n                        <input id="organize-date-input" class="date" type="text" readonly="readonly" placeholder="Select Date">\n                    </div>\n                    \n                    <div id="level-3-confirm"></div>\n                    <div id="level-3-cancel">Cancel</div>\n                </div>\n            </div>\n        </div>\n        \n        <div id="navigation-parent">\n            <div id="navigation">\n                <div id="footer" class="icon-bar">\n                    <div class="features">\n                        <div class="feature folders">\n                            <div class="heading">\n                                <div class="name">\n                                    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 179.3469 139.638"><g id="hFvZzr.tif"><path d="M104.593,109.6948c-17.8004,0-35.6008.0211-53.4011-.0105-7.0297-.0125-13.0411-2.4135-17.3628-8.1419-2.2806-3.023-3.7895-6.4769-3.8036-10.3473-.0704-19.3712-.0851-38.7426-.1158-58.114-.0066-4.1571.0672-8.3155-.0103-12.4711C29.6848,9.1114,38.625.2068,50.388.0769c11.81-.1303,23.6228-.0682,35.434-.0096,5.9289.0294,10.9938,2.2305,15.1574,6.486,2.268,2.3181,4.5929,4.5804,6.8762,6.8837,4.4441,4.4831,9.7807,6.6421,16.1278,6.5909,11.2285-.0907,22.4582-.0374,33.6874-.0208,7.0167.0104,13.0221,2.2803,17.435,7.9823,2.4536,3.1703,3.9905,6.7658,4.0699,10.7676.1617,8.1443.123,16.2929.1395,24.4398.0173,8.5636.0695,17.128-.0153,25.6909-.0998,10.0721-5.6564,17.4153-15.1605,19.9972-2.0533.5578-4.2584.769-6.3948.7762-17.717.0596-35.4343.0338-53.1515.0338ZM104.5317,104.8141c17.7962,0,35.5925.0056,53.3887-.0022,10.2588-.0045,16.6722-6.3111,16.7136-16.6045.0624-15.5438.0547-31.0882.003-46.632-.0346-10.413-6.4362-16.6858-16.8807-16.6908-11.1434-.0054-22.2869-.007-33.4303.0006-7.9391.0054-14.7909-2.561-20.3123-8.4136-2.053-2.1762-4.2346-4.2307-6.3382-6.3598-3.4948-3.537-7.5667-5.3335-12.6911-5.2445-11.2232.1949-22.4522.0535-33.6787.0624-10.3142.0081-16.6848,6.2424-16.711,16.569-.0565,22.2769-.0448,44.5541.0113,66.831.0088,3.5062.6412,6.9368,2.7552,9.9155,3.313,4.668,7.9882,6.5531,13.5323,6.5603,17.8794.0232,35.7588.0086,53.6382.0087Z"/><path d="M19.4969,30.0307v4.6301c-1.5067.3748-3.059.6097-4.4995,1.145-6.7482,2.5078-10.2973,7.4775-10.33,15.1305-.0966,22.6097-.1463,45.2209.0177,67.8298.072,9.9235,6.5826,15.9752,16.5165,15.9778,35.4271.0093,70.8545-.0701,106.2811.0592,8.1421.0297,15.9929-4.3268,16.9841-13.9453.0323-.3134.2339-.6094.4223-1.0765h4.4588c-.5233,7.2082-3.3576,12.7397-9.314,16.5752-3.535,2.2763-7.4638,3.2443-11.5849,3.2488-35.8429.0396-71.6858.0438-107.5287.0094-10.0875-.0097-17.4689-5.5488-20.3346-15.1331-.3738-1.2501-.5302-2.6104-.5315-3.9199-.025-23.9387-.1356-47.8785.0574-71.8157.0752-9.3219,7.6578-17.1659,16.9171-18.351.7377-.0944,1.472-.2164,2.4681-.3642Z"/></g></svg>\n                                    <div class="text">\n                                        Folders\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="wrapper">\n                                <div id="feature-manage-folders" class="button">\n                                    <span id="manage-folders-count"></span>\n                                    Manage\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="feature timing">\n                            <div class="heading">\n                                <div class="name">\n                                    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 179.1094 159.5261"><g id="xZPfA1.tif"><path d="M55.5065,79.7131c-4.2618-3.1203-8.3482-6.0658-12.3846-9.0783-6.2566-4.6693-12.9018-8.9244-18.6234-14.1809-10.1825-9.3548-14.8226-21.3698-14.6663-35.2217.0599-5.3079.0098-10.6171.0098-16.348-2.3028,0-4.4189.0112-6.5349-.0035C1.6022,4.8687-.0304,4.5236.0004,2.4093.0312.2998,1.6889.0079,3.3794.0078,40.7907.0047,78.2019.0071,115.6131,0c1.7169-.0003,3.4124.3256,3.4826,2.3292.0768,2.1933-1.679,2.5689-3.4957,2.558-1.9821-.0118-3.9644-.0027-6.3052-.0027,0,1.2576.0299,2.3098-.0048,3.3599-.2492,7.5471.1802,15.1967-.9236,22.6178-1.8967,12.7517-8.9233,22.6594-19.3053,30.2398-8.3148,6.071-16.5731,12.2193-25.2805,18.6463,6.5936,4.9829,12.969,9.8009,19.4708,14.7145-.5517,1.368-1.0989,2.7249-1.7614,4.3676-7.3492-5.3803-14.615-10.6995-21.9512-16.0703-9.8766,7.2626-19.9958,14.1488-29.4762,21.8238-10.4604,8.4683-15.3864,19.9542-15.5414,33.4215-.0628,5.4602-.0104,10.9218-.0104,16.6298,1.3006,0,2.2781,0,3.2556,0,24.5251,0,49.0521.1528,73.5738-.1359,4.6032-.0542,7.559,1.8281,10.8315,5.0158-1.1673,0-1.9557,0-2.744,0-31.6749,0-63.3497.0023-95.0246-.0057-1.8818-.0005-4.3387.3728-4.354-2.3725-.0161-2.9036,2.5242-2.4702,4.479-2.497,1.65-.0226,3.3006-.0047,5.3132-.0047,0-1.3353-.0317-2.4704.0051-3.6033.2449-7.5437-.2232-15.1994.9215-22.6053,1.9506-12.6199,8.8064-22.531,19.2449-29.9759,7.7781-5.5475,15.4403-11.2575,23.1496-16.9015.7167-.5247,1.4003-1.0947,2.3442-1.836ZM59.5756,76.7799c9.2517-6.766,18.5041-13.3761,27.56-20.245,2.9475-2.2357,5.6732-4.9129,7.9953-7.7949,6.3078-7.8284,9.1995-16.994,9.4637-26.9763.1465-5.537.0263-11.0811.0263-16.7048H14.5102c0,5.6349-.0534,11.1003.0105,16.5643.1611,13.7622,5.3822,25.3283,16.1129,33.8886,9.3319,7.4444,19.2321,14.1767,28.942,21.2682Z"/><path d="M179.1091,114.7589c-.0187,23.9691-18.9111,44.6688-44.8913,44.6834-25.0254.0141-44.6128-20.1094-44.5568-44.9532.0559-24.8108,19.7606-44.3952,44.7003-44.6053,24.654-.2076,44.8323,20.1728,44.7478,44.8751ZM94.486,116.4424c.3725,21.5078,19.9221,39.9318,43.0595,38.0885,21.7425-1.7322,39.2759-21.1812,36.4999-44.7002-2.4375-20.6514-20.9297-36.777-43.0105-34.9684-21.6277,1.7715-37.8368,20.6983-36.5489,41.5802Z"/><path d="M136.7333,112.2365c4.5812,0,8.7264-.0003,12.8716.0003.5811,0,1.3077-.2164,1.7145.0511,1,.6575,1.8529,1.5387,2.7649,2.33-.873.8295-1.7187,2.3406-2.6235,2.3769-5.5532.2225-11.1207.1658-16.6815.0813-1.8993-.0288-2.7227-1.2648-2.7156-3.1568.0261-6.9723.0256-13.9449-.0016-20.9173-.0063-1.6158.5548-3.01,2.208-3.0554,1.8065-.0496,2.4555,1.4049,2.4562,3.0968.0023,5.3954.0047,10.7907.0069,16.1861.0004.8937,0,1.7873,0,3.0069Z"/></g></svg>\n                                    <div class="text">\n                                        Timing\n                                    </div>\n                                </div>\n                            </div>\n                                \n                            <div class="wrapper">\n                                <div class="slider">\n                                    <div class="group">\n                                        <input id="feature-time-input" class="input" type="text" value="1">\n                                        <div class="description">minutes</div>\n                                    </div>\n                                    \n                                    <input id="feature-time-range" class="range" type="range" value="1" min=".5" max="60" step=".5">\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="feature parallel">\n                            <div class="heading">\n                                <div class="name">\n                                    <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 179.4126 139.6323"><g id="VsY8fZ.tif"><path d="M104.4629,109.6872c-17.7181,0-35.4361.0135-53.1542-.0066-6.9286-.0079-12.899-2.2926-17.251-7.8697-2.441-3.1281-4.0121-6.7223-4.026-10.7737-.0655-19.0403-.0788-38.0807-.1072-57.1211-.0066-4.4069.0795-8.8155-.0142-13.2204C29.6628,9.0567,38.7113.0767,50.5491.0533c36.0183-.071,72.0368-.071,108.0551-.0003,11.8421.0233,20.609,8.5745,20.6898,20.3814.1572,22.948.1591,45.8987-.0005,68.8467-.0829,11.9237-8.9045,20.3545-20.9278,20.3916-17.9674.0555-35.9352.0144-53.9028.0145ZM173.4923,61.7995c.3854-.3171.7707-.6343,1.1561-.9514,0-13.5427.3306-27.0962-.1133-40.6243-.3088-9.4087-6.5802-15.2707-15.3979-15.2865-36.3522-.0651-72.7047-.0623-109.0568.0132-5.1449.0107-9.5048,2.0665-12.6063,6.3947-2.2918,3.1983-2.8571,6.8648-2.8647,10.6354-.0379,18.7923-.0174,37.5847-.0175,56.377,0,.8636,0,1.7271,0,2.5907.3809.2519.7617.5039,1.1426.7558.4401-.8092.7233-1.7725,1.3444-2.4039,7.057-7.1742,14.1486-14.3145,21.2668-21.4282,4.2349-4.2322,8.3173-4.2121,12.5848.0149,4.0771,4.0384,8.1224,8.109,12.1799,12.1672,3.8137,3.8144,7.625,7.6312,11.7955,11.8053.7333-.9304,1.2808-1.7861,1.9811-2.49,13.6671-13.7379,27.3473-27.4629,41.0359-41.1794,4.5911-4.6005,8.5244-4.6001,13.1217-.0154,7.0667,7.0475,14.1343,14.0944,21.1519,21.1905.6193.6263.8725,1.6143,1.2958,2.4344ZM78.0826,104.8061c2.0995,0,3.5871,0,5.0746,0,25.1121,0,50.2243.0144,75.3364-.008,8.7518-.0078,14.9901-5.1383,15.7697-13.6892.6013-6.5951.2467-13.2735.453-19.9106.0617-1.9852-.5166-3.3992-1.9432-4.8037-8.2936-8.1657-16.4925-16.4274-24.7256-24.6545-3.2027-3.2004-3.7642-3.1874-7.0296.0717-20.4179,20.3786-40.8384,40.7546-61.2543,61.1352-.4502.4494-.8558.9435-1.6809,1.8591ZM91.3077,84.7883c-8.3175-8.302-16.3636-16.3421-24.4222-24.3697-1.6821-1.6756-3.2116-1.1843-4.7312.3393-8.7999,8.8236-17.6346,17.6127-26.4102,26.4602-.5761.5808-1.093,1.5577-1.0755,2.3377.196,8.7013,6.6738,15.0964,15.4622,15.229,6.48.0978,12.9628.0407,19.444-.0063.771-.0056,1.7786-.139,2.2727-.6242,6.451-6.334,12.8291-12.7422,19.4602-19.3662Z"/><path d="M19.4653,30.0473v4.586c-1.6122.4238-3.2391.717-4.7685,1.2765-7.0187,2.5676-9.9722,8.0437-10.0086,15.0995-.1162,22.529-.1307,45.0595-.003,67.5883.0569,10.0392,6.5327,16.1403,16.6177,16.1424,35.43.0076,70.8603-.0643,106.2899.053,8.2729.0274,15.9451-4.4718,16.914-14.0268.0239-.2354.179-.4574.3338-.8337h4.2689c.5794,7.3224-5.2478,15.817-12.7007,18.1823-2.726.8651-5.6743,1.4391-8.5231,1.4468-35.513.0957-71.0263.0709-106.5396.0575-10.4934-.0039-17.8812-5.4117-20.7629-15.2297-.4133-1.4081-.5508-2.9426-.553-4.419C-.0033,96.5269.018,73.0832,0,49.6395c-.0079-10.3066,8.5395-18.5999,17.6234-19.3412.5618-.0458,1.1187-.1509,1.8419-.2511Z"/><path d="M57.4231,29.9513c-.1037-7.549,5.5713-12.3455,12.2419-12.3147,7.2007.0333,12.1928,5.1548,12.2669,12.3561.0682,6.6361-5.5351,12.416-12.1815,12.2446-6.5563-.169-12.3951-4.6718-12.3273-12.286ZM77.1721,30.2552c.2594-3.9925-2.967-7.5778-7.0663-7.8523-4.0689-.2725-7.5044,2.799-7.8733,7.0392-.3538,4.0661,2.9412,7.7295,7.1749,7.977,4.0313.2357,7.4913-2.9566,7.7647-7.1639Z"/></g></svg>\n                                    <div class="text">\n                                        Grid Pictures\n                                    </div>\n                                </div>\n                            </div>\n                                \n                            <div class="wrapper">\n                                <div class="slider">\n                                    <div class="group">\n                                        <input id="feature-parallel-input" class="input" type="text" value="1">\n                                        <input id="feature-parallel-range" class="range" type="range" value="1" min="1" max="20" step="1">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="feature chronology reverse">\n                            <div class="heading">\n                                <div class="name">\n                                    <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 199.1278 149.2438"><path d="M67.0709,109.869v-32.7818c-1.1108,0-2.0809,0-3.0509,0-19.7941,0-39.5881,0-59.3822-.0003-.6653,0-1.481.2392-1.9647-.0584-1.0063-.619-2.41-1.3986-2.615-2.3379-.3774-1.7288,1.1495-2.3347,2.6931-2.4695.5779-.0505,1.1636-.0132,1.7458-.0133,9.897-.0003,19.7941-.0003,29.6911-.0003.9035,0,1.807,0,2.9013,0,.0693-.9011.1723-1.6226.1732-2.3442.0109-9.3091-.0327-18.6185.0435-27.927.0141-1.7178-.47-2.4137-2.2204-2.8354-9.3111-2.2435-15.2292-9.8481-15.2433-19.3197-.0135-9.0755,6.1299-17.0388,15.1782-19.1808,7.3878-1.7489,13.8833.352,18.9791,5.9151,5.6256,6.1414,6.7584,13.2802,3.7104,21.0547-2.4798,6.3253-7.3071,9.8965-13.6961,11.5754-1.2239.3216-2.1132.5586-2.1026,2.163.065,9.8904.0388,19.7814.0535,29.6722.0005.3155.1142.6308.2004,1.0775h64.8039c.0575-.7201.1641-1.4396.165-2.1593.0114-9.3091-.0285-18.6184.041-27.927.0126-1.6814-.3963-2.4367-2.182-2.8658-9.3408-2.2447-15.2465-9.8094-15.2788-19.2892-.031-9.0791,6.0779-17.037,15.1446-19.2036,7.3768-1.7627,13.8862.3116,18.9901,5.8742,5.6281,6.1339,6.7843,13.2684,3.7469,21.0495-2.4702,6.3282-7.2898,9.9068-13.6744,11.6032-1.1993.3186-2.1483.5036-2.1374,2.1324.067,9.9734.045,19.9475.0632,29.9213.0004.2332.1243.4661.2335.8501h77.9729c-.7994-.8028-1.3688-1.4206-1.9856-1.9868-6.3081-5.7909-12.6239-11.5734-18.9373-17.3586-.3677-.3369-.9575-.6217-1.056-1.0253-.2624-1.0752-.7902-2.4813-.3419-3.2464.7772-1.3264,2.2583-1.1872,3.441-.1407,2.4904,2.2036,4.9692,4.4207,7.4295,6.6579,6.2123,5.6489,12.4134,11.3101,18.6154,16.9704,2.5247,2.3042,2.5381,3.1543.0816,5.3909-8.0529,7.3319-16.1081,14.6612-24.168,21.9854-.7992.7262-1.5363,1.7014-2.4858,2.0284-.8621.2969-2.3083.2086-2.8763-.3454-.4958-.4835-.321-1.906-.0727-2.8124.172-.628.9479-1.1104,1.4953-1.613,6.3077-5.7914,12.6161-11.582,18.9486-17.3462.5877-.535,1.3416-.8875,2.0184-1.3247-.1745-.2177-.3491-.4353-.5236-.653h-117.5627v32.5673c12.8667,4.2997,18.9627,12.3782,16.9552,22.7881-2.0361,10.5585-9.8832,16.6563-19.5034,16.6637-9.9417.0077-17.8488-6.4285-19.508-16.6055-1.5003-9.202,3.1282-20.3262,17.0533-22.7693ZM39.6485,34.7879c8.1359-.0284,15.2432-7.1505,14.9834-15.1451-.2905-8.9399-6.9918-14.6176-15.0148-14.8211-8.2506-.2093-15.1024,6.7744-15.0823,14.9753.0201,8.2248,6.8706,15.0196,15.1137,14.9909ZM109.5755,4.7748c-8.2127-.0691-15.0397,6.6552-15.1539,14.926-.1123,8.131,6.757,15.0912,14.9915,15.0769,8.9609-.0156,15.0277-7.0953,14.9995-15.0387-.0281-7.917-6.0321-14.806-14.8371-14.9641ZM69.6149,144.521c8.7783-.141,14.8147-6.9725,14.8707-14.9317.0555-7.9036-5.9767-15.0338-14.9657-15.0734-8.2281-.0362-15.0934,6.888-15.0251,15.0445.0689,8.2359,6.9114,15.0062,15.1201,14.9606Z"/></svg>\n                                    <div class="text">\n                                        Chronology\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="wrapper">\n                                <div id="chronology-from-to"></div>\n                            \n                                <div class="button" id="feature-chronology-swap">\n                                    <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.5112 139.3418"><g id="YvyQ9a.tif"><path d="M5.0183,101.2825c-.0634.7915-.1808,1.5828-.1819,2.3744-.01,7.1459.0019,14.2919.0024,21.4379,0,.6643.183,1.4468-.1008,1.9661-.4678.8562-1.2925,2.1896-1.8852,2.1485-.8913-.0619-1.9365-.9879-2.4923-1.827-.4456-.6727-.3419-1.762-.3436-2.6667-.0198-10.0542-.0219-20.1085-.0079-30.1627.0054-3.878.9748-4.811,4.8901-4.8118,9.8953-.0021,19.7906-.0006,29.6859,0,.582,0,1.2962-.2094,1.7207.0506,1.1573.7088,2.9156,1.4733,3.1154,2.478.3478,1.7485-1.4959,2.1578-2.941,2.1709-8.6462.0781-17.293.0856-25.9396.1263-.8778.0041-1.7553.0721-2.6628.1117,0,.4939-.0984.8017.0141.9549,6.8754,9.3648,13.3752,19.04,22.9345,26.0736,9.6638,7.1104,20.4316,11.1643,32.342,12.4395,10.8817,1.1651,21.4195-.0153,31.4164-4.5275,20.0455-9.0478,32.8431-24.2268,38.1041-45.6444.1386-.5643.3168-1.1188.4681-1.6801.4599-1.7056,1.5229-2.5976,3.3033-2.1428,1.7685.4518,1.6311,1.923,1.3564,3.2483-1.7153,8.2743-4.6398,16.0967-9.2129,23.2233-7.5792,11.8111-17.548,20.9571-30.4785,26.6767-12.3857,5.4785-25.3332,7.1715-38.709,5.3215-14.594-2.0185-27.372-8.1514-37.8499-18.4139-5.3065-5.1974-9.6392-11.3876-14.4092-17.1315-.5179-.6236-1.0155-1.264-1.5226-1.8966-.2054.0343-.4108.0686-.6161.1029Z"/><path d="M134.646,38.6049c.0512-.8909.1419-1.7495.1432-2.6082.0104-6.8976.0024-13.7953.0047-20.693.0002-.7474-.016-1.4993.0559-2.2413.1498-1.5456.8159-3.0659,2.5101-2.6708.8834.206,2.0393,1.8049,2.0521,2.7879.1448,11.134.0836,22.2707.0993,33.4065.003,2.168-1.3346,3.0166-3.1769,3.0263-11.0606.0578-22.1216.0531-33.1823.0098-1.4659-.0057-3.0181-.4881-2.9961-2.3006.0254-2.0791,1.7598-2.4599,3.3902-2.4715,7.4845-.0534,14.9695-.0265,22.4544-.0283,1.8031-.0004,3.6063,0,5.6661,0-.2031-.6985-.2146-1.1316-.4274-1.4125-5.6618-7.4714-10.7075-15.4518-17.8132-21.7381-10.8402-9.5902-23.3324-15.2493-37.8925-16.4093-23.5251-1.8743-42.3207,6.8617-56.9841,24.9656-5.9933,7.3995-9.9043,15.8701-11.8818,25.2075-.1371.6472-.3402,1.285-.5659,1.9079-.5465,1.5087-1.5294,2.3839-3.2291,1.9435-1.8301-.4742-1.5825-1.894-1.3162-3.2233,3.0377-15.1669,10.4138-27.8491,21.9458-38.1349C34.2158,8.3722,46.8019,2.6112,60.9158.6379c12.4832-1.7454,24.6375.1325,36.3112,5.1262,13.9069,5.949,24.4234,15.7749,32.9521,27.9991,1.1354,1.6274,2.4217,3.1501,3.6563,4.707.0738.0931.3094.058.8105.1348Z"/></g></svg>\n                                    Switch\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div id="test_font_size" class="test-description"></div>\n    </div>\n    \n    <div id="confirm-action">\n        <div class="spinner">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n        \n        <div id="confirm-action-container">\n            <div class="title"></div>\n            <div id="confirm-message"></div>\n            <div class="action-block">\n                <div id="confirm-yes">Confirm</div>\n                <div id="confirm-no">No</div>\n            </div>\n        </div>\n        <div id="confirm-action-backdrop"></div>\n    </div>\n    \n    <div id="image-transition"></div>\n\n    <div id="slideshow">\n        <div id="slideshow-spinner" class="spinner lds-ring">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n        \n        <div class="items">\n            \n        </div>\n    \n        <div class="slideshow-controls">\n            <div class="icons">\n                <i class="control element prev-item">\n                    ${iconArrowLeft()}\n                </i>\n            \n                <div class="element play-pause">\n                    <i class="control play">\n                        ${iconPlay()}\n                    </i>\n                    <i class="control pause active">\n                        ${iconPause()}\n                    </i>\n                </div>\n                \n                <i class="control element next-item">\n                    ${iconArrowRight()}\n                </i>\n                \n                <div class="control element separator"></div>\n                \n                <i class="control element exit">\n                    ${iconX()}\n                </i>            \n            </div>\n        </div>\n    </div>\n\n    <div id="fullscreen">\n        <div id="fullscreen-spinner" class="spinner lds-ring">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n\n        <div class="top-bar">\n            <div class="exit">\n                <i>\n                    ${iconCloseTransparent()}\n                </i>\n            </div>\n                \n            <div class="item-actions">\n                <div class="action date" tabindex="-1">\n                    <div class="action-icon">\n                        <i class="calendar-icon">\n                            ${iconCalendar()}\n                        </i>\n                    </div>\n                \n                    <div class="action-name"></div>\n                    \n                    <div class="dropdown">\n                        <div class="dropdown-container">\n                            <div class="date-row dates">\n                                <div class="date-year date-group">\n                                    <label>Year</label>\n                                    <input type="number">\n    \n                                    <div class="arrow-group">\n                                        <div class="arrow arrow-up">\n                                            ${iconArrowUp()}\n                                        </div>\n                                        <div class="arrow arrow-down">\n                                            ${iconArrowDown()}\n                                        </div>\n                                    </div>\n                                </div>\n    \n                                <div class="date-month date-group">\n                                    <label>Month</label>\n                                    <input type="number">\n    \n                                    <div class="arrow-group">\n                                        <div class="arrow arrow-up">\n                                            ${iconArrowUp()}\n                                        </div>\n                                        <div class="arrow arrow-down">\n                                            ${iconArrowDown()}\n                                        </div>\n                                    </div>\n                                </div>\n    \n                                <div class="date-day date-group">\n                                    <label>Day</label>\n                                    <input type="number">\n    \n                                    <div class="arrow-group">\n                                        <div class="arrow arrow-up">\n                                            ${iconArrowUp()}\n                                        </div>\n                                        \n                                        <div class="arrow arrow-down">\n                                            ${iconArrowDown()}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n    \n                            <div class="date-row times">\n                                <div class="date-hour date-group">\n    \n                                    <label>Hour</label>\n                                    <input type="number">\n                                    <div class="pm"></div>\n\n                                    <div class="arrow-group">\n                                        <div class="arrow arrow-up">\n                                            ${iconArrowUp()}\n                                        </div>\n                                        \n                                        <div class="arrow arrow-down">\n                                            ${iconArrowDown()}\n                                        </div>\n                                    </div>\n                                </div>\n    \n                                <div class="date-minute date-group">\n                                    <label>Minute</label>\n                                    <input type="number">\n    \n                                    <div class="arrow-group">\n                                        <div class="arrow arrow-up">\n                                            ${iconArrowUp()}\n                                        </div>\n                                        \n                                        <div class="arrow arrow-down">\n                                            ${iconArrowDown()}\n                                        </div>\n                                    </div>\n                                </div>\n    \n                                <div class="date-second date-group">\n                                    <label>Second</label>\n\n                                    <input type="number">\n    \n                                    <div class="arrow-group">\n                                        <div class="arrow arrow-up">\n                                            ${iconArrowUp()}\n                                        </div>\n                                        \n                                        <div class="arrow arrow-down">\n                                            ${iconArrowDown()}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div >\n                \n                <div class="action file">\n                    <div class="action-icon">\n                        <i class="icon-file">\n                            ${iconFile()}\n                        </i>\n                    </div>\n                    \n                    <div class="action-name">File Info</div>\n                    \n                    <div class="dropdown">\n                        <div class="dropdown-container">\n                            <div class="info name">\n                                <div class="field">Name</div>\n                                <div class="value"></div>\n                            </div>\n                            \n                            <div class="info resolution">\n                                <div class="field">Resolution</div>\n                                <div class="value"></div>\n                            </div>\n                            \n                            <div class="info size">\n                                <div class="field">Size</div>\n                                <div class="value"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div tabindex="-1">\n                \n                <div class="action slideshow">\n                    <div class="action-icon">\n                        <i class="slideshow-icon">\n                            ${iconSlideshow()}\n                        </i>\n                    </div>\n                    <div class="action-name">Slideshow</div>\n                </div tabindex="-1">\n                \n                <div class="action locate">\n                    <div class="action-icon">\n                        <i class="locate-icon">\n                            ${iconLocate()}\n                        </i>\n                    </div>\n                    <div class="action-name">Locate</div>\n                </div>\n                \n                <div class="action delete">\n                    <div class="action-icon">\n                        <i class="icon-trash">\n                            ${iconTrash()}\n                        </i>\n                    </div>\n                    <div class="action-name">\n                        Delete\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="slide-arrows">\n            <div id="slide-prev" class="slides-arrow slide-prev">\n                <i>\n                    ${iconLeft()}\n                </i>\n            </div>\n            <div id="slide-next" class="slides-arrow slide-next">\n                <i>\n                    ${iconRight()}\n                </i>\n            </div>\n        </div>\n        \n        <div class="slides-container" id="slides">\n            <div class="slides-wrapper"></div>\n        </div>\n    </div>\n    \n    <div id="film-overlay"></div>\n    \n    <div id="spinner-default">\n        <div class="spinner">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n    </div>\n    \n    <div id="placeholder-html" style="display: none !important;"></div>\n</div>\n`;document.body.insertAdjacentHTML("beforeend",e)}async function loadFiles(){return new Promise((async(e,t)=>{devConsole("Load files");try{await(n=prepend_url,devConsole("Download css"),new Promise((async(e,t)=>{let o=0;for(let r=0;r<externalFiles.css.length;r++){let s=joinPaths(n,`${externalFiles.css[r]}`);s+="?v"+current_time;try{await axios.get(s,{headers:{"Content-Type":"text/css"}});let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.onload=function(){o++,o===externalFiles.css.length&&requestAnimationFrame((function(){e()}))},t.setAttribute("href",s),document.getElementsByTagName("head")[0].appendChild(t)}catch(e){return console.error(e),t(e)}}})))}catch(e){}var n;return e()}))}function preInit(){devConsole("Pre init"),window.click_handler="click",is_touch_device();let e=["is_mac","is_windows"];for(let t=0;t<e.length;t++)window[e[t]]&&addClassEl(e[t],"app");photosApp.init()}photosApp.init=async function(e){if(devConsole("[js] photosApp.init"),photosApp.setInit(!0),!e){if(addClassEl(photosApp.db.classes.loading,"app"),photosApp.app.ipcRenderer=require("electron").ipcRenderer,await loadFiles(),photosApp.dev.resetTables)return await photosApp.db.deleteDatabase(),photosApp.dev.resetTables=!1,photosApp.init();this.placeholderImg=joinPaths(prepend_url,"/img/vhs.png")}try{await photosApp.debug.init(),await photosApp.backend.init(),await photosApp.style.init(),await photosApp.events.init(),await photosApp.db.init(),await photosApp.settings.init(),await photosApp.time.init(),await photosApp.style.loadSettings(),await photosApp.rotate.init(),await photosApp.db.getBackend(),await photosApp.cache.init(),await photosApp.grid.init(),await photosApp.local.init(),await photosApp.onboarding.init(),photosApp.dev.skipOnboarding&&photosApp.dev.skipOnboardingSteps(),removeClassEl(photosApp.db.classes.loading,"app"),await photosApp.app.init()}catch(e){console.error(e),photosApp.setInit(!1),removeClassEl(photosApp.db.classes.loading,"app")}},async function(){addInitHTML(),preInit()}();